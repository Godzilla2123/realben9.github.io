var l,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);
function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}ea("globalThis",function(a){return a||da});Object.freeze(["shared","exclusive","unlock"]);
function fa(a,b,c){this.h=a;this.A=c;this.B=[104,111,115,116,57,112];this.F=this.B.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.C=0;this.g=[];this.bb=new ha(b,{name:"virtio-9p",Ga:48,Ge:4169,Tg:9,Fe:{ed:43008,Ya:[{Sc:32,me:0}],features:[0,32,29,28],mk:()=>{}},notification:{ed:43264,xj:!1,Dh:[d=>{if(0===d){for(;ia(this.l);){d=this.l;ia(d);var e=d.s.Ba(d.h+4+2*d.j);e=new ma(d,e);d.j=d.j+1&d.o;na(this,e)}d=this.l;e=d.s.Ba(d.h+2)+0&65535;d.s.Tc(d.g+4+8*d.size,e)}}]},
kc:{ed:42752},Xf:{ed:42496,xd:[{bytes:2,name:"mount tag length",read:()=>this.F,write:()=>{}}].concat(Array.from(Array(254).keys()).map(d=>({bytes:1,name:"mount tag name "+d,read:()=>this.B[d]||0,write:()=>{}})))}});this.l=this.bb.Ya[0]}fa.prototype.Z=function(){var a=[];a[0]=this.B;a[1]=this.F;a[2]=this.bb;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.C;a[8]=this.g.map(function(b){return[b.W,b.type,b.uid,b.dc]});a[9]=this.h;return a};
fa.prototype.G=function(a){this.B=a[0];this.F=a[1];this.bb.G(a[2]);this.l=this.bb.Ya[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.C=a[7];this.g=a[8].map(function(b){return{W:b[0],type:b[1],uid:b[2],dc:b[3]}});this.h.G(a[9])};function r(a,b,c,d){v(["w","b","h"],[d+7,b+1,c],a.i,0);a.C=d+7}function oa(a,b,c){c=v(["w"],[c],a.i,7);r(a,6,b,c)}
function w(a,b){for(var c=a.i.subarray(0,a.C),d=0,e=c.length;e&&b.Pf!==b.Qf.length;){var h=b.Qf[b.Pf];const g=h.Ce+b.ze;h=h.ke-b.ze;h>e?(h=e,b.ze+=e):(b.Pf++,b.ze=0);pa(b.s,c.subarray(d,d+h),g);d+=h;e-=h}b.tf+=d;c=a.l;d=c.s.Ba(c.g+2)+c.i&c.o;e=b.tf;c.s.zb(c.g+4+8*d,b.Eh);c.s.zb(c.g+8+8*d,e);c.i++;a=a.l;0!==a.i&&(b=a.s.Ba(a.g+2)+a.i&65535,a.s.Tc(a.g+2,b),a.i=0,0<(a.bb.h[0]&536870912)?(a.s.Ba(a.h+4+2*a.size),a.bb.xa(1)):~a.s.Ba(a.h)&1&&a.bb.xa(1))}
async function na(a,b){var c=new Uint8Array(b.sf);qa(b,c);var d={offset:0},e=E(["w","b","h"],c,d),h=e[0],g=e[1],f=e[2];switch(g){case 8:h=ra(a.h);var k=sa(a.h);e=[16914839];e[1]=a.o;e[2]=Math.floor(k/e[1]);e[3]=e[2]-Math.floor(h/e[1]);e[4]=e[2]-Math.floor(h/e[1]);e[5]=ta(a.h);e[6]=ua(a.h);e[7]=0;e[8]=256;h=v("wwddddddw".split(""),e,a.i,7);r(a,g,f,h);w(a,b);break;case 112:case 12:e=E(["w","w"],c,d);h=e[0];d=e[1];c=a.g[h].W;var m=F(a.h,c);k=va(a.h,c,d);wa(a.h,a.g[h].W,function(){var q=[];q[0]=m.wa;
q[1]=this.j-24;v(["Q","w"],q,this.i,7);r(this,g,f,17);w(this,b)}.bind(a));break;case 70:e=E(["w","w","s"],c,d);c=e[0];h=e[1];k=e[2];k=xa(a.h,a.g[c].W,a.g[h].W,k);if(0>k){oa(a,f,-k);w(a,b);break}r(a,g,f,0);w(a,b);break;case 16:e=E(["w","s","s","w"],c,d);h=e[0];k=e[1];var n=e[3];c=ya(a.h,k,a.g[h].W,e[2]);m=F(a.h,c);m.uid=a.g[h].uid;m.Ea=n;v(["Q"],[m.wa],a.i,7);r(a,g,f,13);w(a,b);break;case 18:e=E("wswwww".split(""),c,d);h=e[0];k=e[1];d=e[2];c=e[3];var p=e[4];n=e[5];c=za(a.h,k,a.g[h].W,c,p);m=F(a.h,
c);m.mode=d;m.uid=a.g[h].uid;m.Ea=n;v(["Q"],[m.wa],a.i,7);r(a,g,f,13);w(a,b);break;case 22:e=E(["w"],c,d);h=e[0];m=F(a.h,a.g[h].W);h=v(["s"],[m.se],a.i,7);r(a,g,f,h);w(a,b);break;case 72:e=E(["w","s","w","w"],c,d);h=e[0];k=e[1];d=e[2];n=e[3];c=Aa(a.h,k,a.g[h].W);m=F(a.h,c);m.mode=d|Ba;m.uid=a.g[h].uid;m.Ea=n;v(["Q"],[m.wa],a.i,7);r(a,g,f,13);w(a,b);break;case 14:e=E(["w","s","w","w","w"],c,d);h=e[0];k=e[1];c=e[2];d=e[3];n=e[4];a.A.send("9p-create",[k,a.g[h].W]);c=Ca(a.h,k,a.g[h].W);a.g[h].W=c;a.g[h].type=
1;a.g[h].dc=k;m=F(a.h,c);m.uid=a.g[h].uid;m.Ea=n;m.mode=d;v(["Q","w"],[m.wa,a.j-24],a.i,7);r(a,g,f,17);w(a,b);break;case 52:e=E("wbwddws".split(""),c,d);h=e[0];c=e[2];k=0===e[4]?Infinity:e[4];e=Da(e[1],e[3],k,e[5],e[6]);k=Ea(a.h,a.g[h].W,e,c);v(["b"],[k],a.i,7);r(a,g,f,1);w(a,b);break;case 54:e=E("wbddws".split(""),c,d);h=e[0];k=0===e[3]?Infinity:e[3];e=Da(e[1],e[2],k,e[4],e[5]);k=Ga(a.h,a.g[h].W,e);k||(k=e,k.type=2);h=v(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?0:k.length,k.h,k.g],
a.i,7);r(a,g,f,h);w(a,b);break;case 24:e=E(["w","d"],c,d);h=e[0];m=F(a.h,a.g[h].W);if(!m||m.status===Ha){oa(a,f,2);w(a,b);break}e[0]|=4096;e[0]=e[1];e[1]=m.wa;e[2]=m.mode;e[3]=m.uid;e[4]=m.Ea;e[5]=m.Ta;e[6]=m.Re<<8|m.Se;e[7]=m.size;e[8]=a.o;e[9]=Math.floor(m.size/512+1);e[10]=m.Wc;e[11]=0;e[12]=m.mc;e[13]=0;e[14]=m.Hd;e[15]=0;e[16]=0;e[17]=0;e[18]=0;e[19]=0;v("dQwwwddddddddddddddd".split(""),e,a.i,7);r(a,g,f,153);w(a,b);break;case 26:e=E("wwwwwddddd".split(""),c,d);h=e[0];m=F(a.h,a.g[h].W);e[1]&1&&
(m.mode=e[2]);e[1]&2&&(m.uid=e[3]);e[1]&4&&(m.Ea=e[4]);e[1]&16&&(m.Wc=Math.floor((new Date).getTime()/1E3));e[1]&32&&(m.mc=Math.floor((new Date).getTime()/1E3));e[1]&64&&(m.Hd=Math.floor((new Date).getTime()/1E3));e[1]&128&&(m.Wc=e[6]);e[1]&256&&(m.mc=e[8]);e[1]&8&&await Ia(a.h,a.g[h].W,e[5]);r(a,g,f,0);w(a,b);break;case 50:e=E(["w","d"],c,d);h=e[0];r(a,g,f,0);w(a,b);break;case 40:case 116:e=E(["w","d","w"],c,d);h=e[0];k=e[1];n=e[2];m=F(a.h,a.g[h].W);if(!m||m.status===Ha){oa(a,f,2);w(a,b);break}if(2==
a.g[h].type){(void 0).length<k+n&&(n=(void 0).length-k);for(e=0;e<n;e++)a.i[11+e]=(void 0)[k+e];v(["w"],[n],a.i,7);r(a,g,f,4+n)}else va(a.h,a.g[h].W),e=a.g[h].W,n=Math.min(n,a.i.length-11),m.size<k+n?n=m.size-k:40==g&&(n=Ja(a.h,e,k+n)-k),k>m.size&&(n=0),a.A.send("9p-read-start",[a.g[h].dc]),e=await Ka(a.h,e,k,n),a.A.send("9p-read-end",[a.g[h].dc,n]),e&&a.i.set(e,11),v(["w"],[n],a.i,7),r(a,g,f,4+n);w(a,b);break;case 118:e=E(["w","d","w"],c,d);h=e[0];k=e[1];n=e[2];e=a.g[h].dc;if(2===a.g[h].type){oa(a,
f,95);w(a,b);break}else await La(a.h,a.g[h].W,k,n,c.subarray(d.offset));a.A.send("9p-write-end",[e,n]);v(["w"],[n],a.i,7);r(a,g,f,4);w(a,b);break;case 74:e=E(["w","s","w","s"],c,d);k=await Ma(a.h,a.g[e[0]].W,e[1],a.g[e[2]].W,e[3]);if(0>k){oa(a,f,-k);w(a,b);break}r(a,g,f,0);w(a,b);break;case 76:e=E(["w","s","w"],c,d);d=e[0];k=e[1];c=e[2];h=Oa(a.h,a.g[d].W,k);if(-1==h){oa(a,f,2);w(a,b);break}k=Pa(a.h,a.g[d].W,k);if(0>k){oa(a,f,-k);w(a,b);break}r(a,g,f,0);w(a,b);break;case 100:h=E(["w","s"],c,d);a.j=
h[0];h=v(["w","s"],[a.j,a.D],a.i,7);r(a,g,f,h);w(a,b);break;case 104:e=E(["w","w","s","s","w"],c,d);h=e[0];k=e[4];Qa("[attach]: fid="+h+" afid="+H(e[1])+" uname="+e[2]+" aname="+e[3]);a.g[h]={W:0,type:1,uid:k,dc:""};m=F(a.h,a.g[h].W);v(["Q"],[m.wa],a.i,7);r(a,g,f,13);w(a,b);break;case 108:e=E(["h"],c,d);r(a,g,f,0);w(a,b);break;case 110:e=E(["w","w","h"],c,d);h=e[0];n=e[1];p=e[2];if(0==p){a.g[n]={W:a.g[h].W,type:1,uid:a.g[h].uid,dc:a.g[h].dc};v(["h"],[0],a.i,7);r(a,g,f,2);w(a,b);break}k=[];for(e=0;e<
p;e++)k.push("s");d=E(k,c,d);c=a.g[h].W;k=9;var u=0;for(e=0;e<p;e++){c=Oa(a.h,c,d[e]);if(-1==c)break;k+=v(["Q"],[F(a.h,c).wa],a.i,k);u++;a.g[n]={W:c,type:1,uid:a.g[h].uid,dc:d[e]}}v(["h"],[u],a.i,7);r(a,g,f,k-7);w(a,b);break;case 120:e=E(["w"],c,d);a.g[e[0]]&&0<=a.g[e[0]].W&&(await Ra(a.h,a.g[e[0]].W),a.g[e[0]].W=-1,a.g[e[0]].type=-1);r(a,g,f,0);w(a,b);break;case 32:e=E(["w","s","d","w"],c,d);h=e[0];k=e[1];c=e[3];a.g[h].type=2;r(a,g,f,0);w(a,b);break;case 30:e=E(["w","w","s"],c,d),h=e[0],k=e[2],oa(a,
f,95),w(a,b)}};function Sa(a,b){function c(z){z=z.toString(16);return"#"+"0".repeat(6-z.length)+z}function d(z,B,W,O){z.style.width="";z.style.height="";O&&(z.style.transform="");var ba=z.getBoundingClientRect();O?z.style.transform=(1===B?"":" scaleX("+B+")")+(1===W?"":" scaleY("+W+")"):(0===B%1&&0===W%1?(e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated",e.style["-ms-interpolation-mode"]="nearest-neighbor"):(e.style.hk="",e.style["-ms-interpolation-mode"]=""),O=window.devicePixelRatio||1,0!==
O%1&&(B/=O,W/=O));1!==B&&(z.style.width=ba.width*B+"px");1!==W&&(z.style.height=ba.height*W+"px")}console.assert(a,"1st argument must be a DOM container");var e=a.getElementsByTagName("canvas")[0],h=e.getContext("2d",{alpha:!1}),g=a.getElementsByTagName("div")[0],f=document.createElement("div"),k,m,n=1,p=1,u=1,q,t=!1,x,y,C,K=!1,Q=this;a=new Uint16Array([199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,
241,209,170,186,191,8976,172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var D=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,9688,
9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),T=[],X,G=0;256>G;G++)X=127<G?a[G-128]:32>G?D[G]:G,T[G]=String.fromCharCode(X);h.imageSmoothingEnabled=!1;f.style.position="absolute";f.style.backgroundColor="#ccc";f.style.width="7px";f.style.display="inline-block";g.style.display="block";e.style.display="none";this.A=b;b.register("screen-set-mode",function(z){this.Gf(z)},this);b.register("screen-fill-buffer-end",function(z){this.Mf(z)},
this);b.register("screen-put-char",function(z){this.Af(z[0],z[1],z[2],z[3],z[4])},this);b.register("screen-update-cursor",function(z){this.Ad(z[0],z[1])},this);b.register("screen-update-cursor-scanline",function(z){this.Bd(z[0],z[1])},this);b.register("screen-clear",function(){this.Uf()},this);b.register("screen-set-size-text",function(z){this.vd(z[0],z[1])},this);b.register("screen-set-size-graphical",function(z){this.ud(z[0],z[1],z[2],z[3])},this);this.kb=function(){this.vd(80,25);this.yb()};this.Kh=
function(){const z=new Image;if(t)z.src=e.toDataURL("image/png");else{const B=[9,16],W=document.createElement("canvas");W.width=y*B[0];W.height=C*B[1];const O=W.getContext("2d");O.imageSmoothingEnabled=!1;O.font=window.getComputedStyle(g).font;O.textBaseline="top";for(let ba=0;ba<y;ba++)for(let ja=0;ja<C;ja++){const ka=3*(ja*y+ba);O.fillStyle=c(x[ka+1]);O.fillRect(ba*B[0],ja*B[1],B[0],B[1]);O.fillStyle=c(x[ka+2]);O.fillText(T[x[ka]],ba*B[0],ja*B[1])}"none"!==f.style.display&&(O.fillStyle=f.style.backgroundColor,
O.fillRect(m*B[0],k*B[1]+parseInt(f.style.marginTop,10)-1,parseInt(f.style.width,10),parseInt(f.style.height,10)));z.src=W.toDataURL("image/png")}try{window.open("").document.write(z.outerHTML)}catch(B){}};this.Af=function(z,B,W,O,ba){z<C&&B<y&&(B=3*(z*y+B),x[B]=W,x[B+1]=O,x[B+2]=ba,q[z]=1)};this.yb=function(){K||requestAnimationFrame(t?Z:la)};var la=function(){for(var z=0;z<C;z++)q[z]&&(Q.g(z),q[z]=0);this.yb()}.bind(this),Z=function(){this.A.send("screen-fill-buffer");this.yb()}.bind(this);this.za=
function(){K=!0};this.Gf=function(z){(t=z)?(g.style.display="none",e.style.display="block"):(g.style.display="block",e.style.display="none")};this.Uf=function(){h.fillStyle="#000";h.fillRect(0,0,e.width,e.height)};this.vd=function(z,B){if(z!==y||B!==C){q=new Int8Array(B);x=new Int32Array(z*B*3);y=z;for(C=B;g.childNodes.length>B;)g.removeChild(g.firstChild);for(;g.childNodes.length<B;)g.appendChild(document.createElement("div"));for(z=0;z<B;z++)this.g(z);d(g,n,p,!0)}};this.ud=function(z,B){e.style.display=
"block";e.width=z;e.height=B;u=640>=z&&2*z<window.innerWidth&&2*z<window.innerHeight?2:1;d(e,n*u,p*u,!1)};this.Hf=function(z,B){n=z;p=B;d(g,n,p,!0);d(e,n*u,p*u,!1)};this.Hf(n,p);this.Bd=function(z,B){z&32?f.style.display="none":(f.style.display="inline",f.style.height=Math.min(15,B-z)+"px",f.style.marginTop=Math.min(15,z)+"px")};this.Ad=function(z,B){if(z!==k||B!==m)q[z]=1,q[k]=1,k=z,m=B};this.g=function(z){var B=3*z*y,W;var O=g.childNodes[z];var ba=document.createElement("div");for(var ja=0;ja<y;){var ka=
document.createElement("span");var A=x[B+1];var R=x[B+2];ka.style.backgroundColor=c(A);ka.style.color=c(R);for(W="";ja<y&&x[B+1]===A&&x[B+2]===R;)if(W+=T[x[B]],ja++,B+=3,z===k)if(ja===m)break;else if(ja===m+1){ba.appendChild(f);break}ka.textContent=W;ba.appendChild(ka)}O.parentNode.replaceChild(ba,O)};this.Mf=function(z){z.forEach(B=>{h.putImageData(B.Lb,B.Ef-B.De,B.Ff-B.Ee,B.De,B.Ee,B.kf,B.jf)})};this.kb()};(function(){function a(){for(var p=location.search.substr(1).split("&"),u={},q=0;q<p.length;q++){var t=p[q].split("=");u[t[0]]=decodeURIComponent(t.slice(1).join("="))}return u}function b(p){document.title=p+" - Virtual x86";const u=document.querySelector("meta[name=description]");u&&(u.content="Running "+p)}function c(p){return document.getElementById(p)}function d(){function p(D){c("boot_options").style.display="none";b(D.name);t.filesystem=D.filesystem;D.state&&(c("reset").style.display="none",
t.fd=D.state);t.pa=D.pa;t.na=D.na;t.S=D.S;t.Kd=D.Kd;t.tb=D.tb;t.Cc=D.Cc;t.Yc=D.Yc;t.lf=D.lf;t.pc=D.pc;t.Ha=D.state||void 0===t.Ha?D.Ha:t.Ha;t.H=!D.state&&t.H?t.H:D.H;t.ha=!D.state&&t.ha?t.ha:D.ha;t.id=D.id;void 0!==D.Xc&&(t.Xc=D.Xc);if(D.ma){c("description").style.display="block";const T=document.createElement("a");T.href=D.ma;T.textContent=D.name;T.target="_blank";c("description").appendChild(document.createTextNode("Running "));c("description").appendChild(T)}e(t,u)}function u(D){x.c&&setTimeout(function(){Ta(D,
x.c+"\n")},25)}if(window.WebAssembly){var q=document.createElement("script");q.src="build/xterm.js";q.async=!0;document.body.appendChild(q);var t={};c("start_emulation").onclick=function(){c("boot_options").style.display="none";k("custom");var D=c("floppy_image").files[0];if(D){var T=D;t.pa={buffer:D}}if(D=c("cd_image").files[0])T=D,t.na={buffer:D};if(D=c("hda_image").files[0])T=D,t.S={buffer:D};if(D=c("hdb_image")&&c("hdb_image").files[0])T=D,t.Oe={buffer:D};c("multiboot_image")&&(D=c("multiboot_image").files[0])&&
(T=D,t.Kd={buffer:D});T&&b(T.name);e(t)};var x=a();q=x.cdn||(m?"images/":"//k.copy.sh/");q=[{id:"archlinux",name:"Arch Linux",H:536870912,ha:8388608,state:{url:q+"arch_state.bin.zst"},filesystem:{baseurl:q+"arch/"}},{id:"archlinux-boot",name:"Arch Linux",H:536870912,ha:8388608,filesystem:{baseurl:q+"arch/",basefs:{url:q+"fs.json"}},Yc:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 page_poison=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",
lf:!0},{id:"serenity",name:"SerenityOS",S:{url:q+"serenity.img",async:!0,size:918552576,ka:!m},H:536870912,state:{url:q+"serenity_state-v2.bin.zst"},ma:"https://serenityos.org/"},{id:"serenity-boot",name:"SerenityOS",S:{url:q+"serenity.img",async:!0,size:918552576,ka:!m},H:536870912,ma:"https://serenityos.org/"},{id:"helenos",H:268435456,na:{url:q+"HelenOS-0.11.2-ia32.iso",size:25765888,async:!1},name:"HelenOS",ma:"http://www.helenos.org/"},{id:"haiku",H:536870912,S:{url:q+"haiku-v2.img",async:!0,
ka:!m,size:1073741824},state:{url:q+"haiku_state-v2.bin.zst"},name:"Haiku",ma:"https://www.haiku-os.org/"},{id:"haiku-boot",H:536870912,S:{url:q+"haiku-v2.img",async:!0,ka:!m,size:1073741824},name:"Haiku",ma:"https://www.haiku-os.org/"},{id:"msdos",S:{url:q+"msdos.img",size:8388608,async:!1},Xc:306,name:"MS-DOS"},{id:"freedos",pa:{url:q+"freedos722.img",size:737280,async:!1},name:"FreeDOS"},{id:"psychdos",S:{url:q+"psychdos.img",size:549453824,async:!0,ka:!m},name:"PsychDOS",ma:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},
{id:"oberon",S:{url:q+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",pa:{url:q+"windows101.img",size:1474560,async:!1},name:"Windows"},{id:"linux26",na:{url:q+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",na:{url:q+"linux3.iso",size:8624128,async:!1},name:"Linux"},{id:"linux4",na:{url:q+"linux4.iso",size:7731200,async:!1},name:"Linux",filesystem:{}},{id:"buildroot",tb:{url:q+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Yc:"tsc=reliable mitigations=off random.trust_cpu=on"},
{id:"nodeos",tb:{url:q+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Yc:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",H:268435456,na:{url:q+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",ma:"http://www.damnsmalllinux.org/"},{id:"minix",name:"Minix",H:268435456,na:{url:q+"minix-3.3.0.iso",size:605581312,async:!0,ka:!m},ma:"https://www.minix3.org/"},{id:"kolibrios",pa:{url:m?q+"kolibri.img":"//builds.kolibrios.org/eng/data/data/kolibri.img",size:1474560,
async:!1},name:"KolibriOS",ma:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",pa:{url:q+"kolibri.img",size:1474560,async:!1},name:"KolibriOS"},{id:"openbsd",S:{url:q+"openbsd.img",async:!0,ka:!m,size:1073741824},state:{url:q+"openbsd_state.bin.zst"},H:268435456,name:"OpenBSD"},{id:"openbsd-boot",S:{url:q+"openbsd.img",async:!0,ka:!m,size:1073741824},H:268435456,name:"OpenBSD"},{id:"netbsd",S:{url:q+"netbsd.img",async:!0,ka:!m,size:511000064},H:268435456,name:"NetBSD"},{id:"solos",pa:{url:q+
"os8.img",async:!1,size:1474560},name:"Sol OS",ma:"http://oby.ro/os/"},{id:"bootchess",pa:{url:q+"bootchess.img",async:!1,size:1474560},name:"BootChess",ma:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",pa:{url:q+"bootbasic.img",async:!1,size:1474560},name:"bootBASIC",ma:"https://github.com/nanochess/bootBASIC"},{id:"sectorlisp",pa:{url:q+"sectorlisp-friendly.bin",async:!1,size:512},name:"SectorLISP",ma:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",pa:{url:q+"sectorforth.img",
async:!1,size:512},name:"sectorforth",ma:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",pa:{url:q+"floppybird.img",async:!1,size:1474560},name:"Floppy Bird",ma:"http://mihail.co/floppybird"},{id:"windows2000",H:536870912,S:{url:q+"windows2k.img",size:2147483648,async:!0,ka:!m},name:"Windows 2000",state:{url:q+"windows2k_state.bin.zst"},pc:!0},{id:"windows2000-boot",H:536870912,S:{url:q+"windows2k.img",size:2147483648,async:!0,ka:!m},Xc:306,name:"Windows 2000"},{id:"windows98",H:134217728,
S:{url:q+"windows98.img",async:!0,ka:!m,size:314572800},name:"Windows 98",state:{url:q+"windows98_state.bin.zst"},pc:!0},{id:"windows98-boot",H:134217728,S:{url:q+"windows98.img",async:!0,ka:!m,size:314572800},name:"Windows 98"},{id:"windows95",H:33554432,S:{url:q+"w95.img",size:242049024,async:!0,ka:!m},name:"Windows 95",state:{url:q+"windows95_state.bin.zst"}},{id:"windows95-boot",H:33554432,S:{url:q+"w95.img",size:242049024,async:!0,ka:!m},name:"Windows 95"},{id:"windows30",H:67108864,na:{url:q+
"Win30.iso",async:!1},name:"Windows 3.0"},{id:"windows31",H:67108864,S:{url:q+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"freebsd",H:268435456,S:{url:q+"freebsd.img",size:2147483648,async:!0,ka:!m},state:{url:q+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",H:268435456,S:{url:q+"freebsd.img",size:2147483648,async:!0,ka:!m},name:"FreeBSD"},{id:"reactos-livecd",H:268435456,S:{url:q+"reactos-livecd-0.4.15-dev-73-g03c09c9-x86-gcc-lin-dbg.iso",size:250609664,async:!0,ka:!m},
name:"ReactOS",ma:"https://reactos.org/"},{id:"reactos",H:536870912,S:{url:q+"reactos.img",size:524288E3,async:!0,ka:!m},state:{url:q+"reactos_state.bin.zst"},pc:!0,name:"ReactOS",ma:"https://reactos.org/"},{id:"reactos-boot",H:536870912,S:{url:q+"reactos.img",size:524288E3,async:!0,ka:!m},name:"ReactOS",ma:"https://reactos.org/"},{id:"skift",na:{url:q+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",ma:"https://skiftos.org/"},{id:"snowdrop",pa:{url:q+"snowdrop.img",size:1474560,async:!1},
name:"Snowdrop",ma:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",S:{url:q+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",pa:{url:q+"qnx-demo-network-4.05.img",size:1474560,async:!1},name:"QNX 4.05"},{id:"9front",H:134217728,S:{url:q+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!0,ka:!m},state:{url:q+"9front_state-v2.bin.zst"},Ha:!0,name:"9front",ma:"https://9front.org/"},{id:"9front-boot",H:134217728,
S:{url:q+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386.iso",size:477452288,async:!0,ka:!m},Ha:!0,name:"9front",ma:"https://9front.org/"},{id:"mobius",pa:{url:q+"mobius-fd-release5.img",size:1474560,async:!1},name:"Mobius"},{id:"android",H:536870912,na:{url:q+"android-x86-1.6-r2.iso",size:54661120,async:!0,ka:!m},name:"Android"},{id:"android4",H:536870912,na:{url:q+"android_x86_nonsse3_4.4r1_20140904.iso",size:247463936,async:!0,ka:!m},name:"Android"},{id:"tinycore",H:268435456,S:{url:q+
"TinyCore-11.0.iso",async:!1},name:"Tinycore",ma:"http://www.tinycorelinux.net/"},{id:"freenos",H:268435456,na:{url:q+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",Ha:!0,ma:"http://www.freenos.org/"}];var y=x.profile;if(!y){var C=document.createElement("link");C.rel="prefetch";C.href="build/v86.wasm";document.head.appendChild(C)}x.use_bochs_bios&&(t.Bj=!0);C=parseInt(x.m,10);0<C&&(t.H=1048576*Math.max(16,C));C=parseInt(x.vram,10);0<C&&(t.ha=1048576*C);t.rg=x.networking_proxy;t.audio=
"0"!==x.audio;t.Ha=x.acpi;for(C=0;C<q.length;C++){var K=q[C];if(y===K.id){p(K);return}var Q=c("start_"+K.id);Q&&(Q.onclick=function(D,T,X){X.preventDefault();k(D.id);T.blur();p(D)}.bind(this,K,Q))}"custom"===y&&(x["hda.url"]&&(t.S={size:parseInt(x["hda.size"],10)||void 0,url:x["hda.url"],async:!0}),x["cdrom.url"]&&(t.na={size:parseInt(x["cdrom.size"],10)||void 0,url:x["cdrom.url"],async:!0}),x["fda.url"]&&(t.pa={size:parseInt(x["fda.size"],10)||void 0,url:x["fda.url"],async:!1}),t.pa||t.na||t.S)&&
(c("boot_options").style.display="none",e(t,u))}else alert("Your browser is not supported because it doesn't support WebAssembly")}function e(p,u){var q=p.H;q||(q=1048576*parseInt(c("memory_size").value,10),q||(alert("Invalid memory size - reset to 128MB"),q=134217728));var t=p.ha;t||(t=1048576*parseInt(c("video_memory_size").value,10),t||(alert("Invalid video memory size - reset to 8MB"),t=8388608));if(!p.pa){var x=c("floppy_image").files[0];x&&(p.pa={buffer:x})}!p.tb&&(x=c("bzimage").files[0])&&
(p.tb={buffer:x});!p.Cc&&(x=c("initrd").files[0])&&(p.Cc={buffer:x});x=void 0===p.rg?c("networking_proxy").value:p.rg;const y=void 0===p.audio?c("disable_audio").checked:!p.audio,C=void 0===p.Ha?c("enable_acpi").checked:p.Ha;if(p.Bj)var K="bochs-bios.bin",Q="bochs-vgabios.bin";else K="seabios.bin",Q="vgabios.bin";if(!p.fd){var D={url:"bios/"+K};var T={url:"bios/"+Q}}var X=new Ua({memory_size:q,vga_memory_size:t,screen_container:c("screen_container"),serial_container_xtermjs:c("terminal"),boot_order:p.Xc||
parseInt(c("boot_order").value,16)||0,network_relay_url:m?"ws://localhost:8080/":x,bios:D,vga_bios:T,fda:p.pa,hda:p.S,hdb:p.Oe,cdrom:p.na,multiboot:p.Kd,bzimage:p.tb,initrd:p.Cc,cmdline:p.Yc,bzimage_initrd_from_filesystem:p.lf,acpi:C,initial_state:p.fd,filesystem:p.filesystem||{},disable_speaker:y,preserve_mac_from_state_image:p.pc,autostart:!0});Va(X,"emulator-ready",function(){if(X.h.s.va.exports.profiler_is_enabled()){var G=document.createElement("pre");document.body.appendChild(G);setInterval(function(){if(X.Xd){var la=
Wa.yj(X.h.s);G.textContent=la}},1E3)}"dsl"===p.id||"helenos"===p.id?setTimeout(()=>{Ta(X,"\n")},3E3):("android"===p.id||"android4"===p.id)&&setTimeout(()=>{Xa(X,[57424,57552]);Ta(X,"\n")},3E3);h(p,X);u&&u(X)});Va(X,"download-progress",function(G){var la=c("loading");la.style.display="block";if(G.ie.endsWith(".wasm")){var Z=G.ie.split("/");la.textContent="Fetching "+Z[Z.length-1]+" ..."}else if(G.he===G.ge-1&&G.loaded>=G.total-2048)la.textContent="Done downloading. Starting now ...";else{Z="Downloading images ";
"number"===typeof G.he&&G.ge&&(Z+="["+(G.he+1)+"/"+G.ge+"] ");if(G.total&&"number"===typeof G.loaded){G=Math.floor(G.loaded/G.total*100);G=Math.min(100,Math.max(0,G));var z=Math.floor(G/2);Z=Z+(G+"% [")+"#".repeat(z);Z+=" ".repeat(50-z)+"]"}else Z+=".".repeat(n++%50);la.textContent=Z}});Va(X,"download-error",function(G){var la=c("loading");la.style.display="block";la.textContent="Loading "+G.ie+" failed. Check your connection and reload the page to try again."})}function h(p,u){function q(){var A=
Date.now(),R=u.h?u.h.s.Gh[0]>>>0:0;R<Q&&(Q-=4294967296);var U=R-Q;Q=R;X+=U;if(R=A-C)K+=R,C=A,c("speed").textContent=(U/1E3/R).toFixed(1),c("avg_speed").textContent=(X/1E3/K).toFixed(1),A=c("running_time"),U=K/1E3|0,A.textContent=60>U?U+"s":3600>U?(U/60|0)+"m "+Ya(U%60,2)+"s":(U/3600|0)+"h "+Ya((U/60|0)%60,2)+"m "+Ya(U%60,2)+"s"}function t(A,R){var U=c("get_"+R+"_image");!A||104857600<A.size?U.style.display="none":U.onclick=function(){var Fa=u.ec[R];let Na=p.id+("cdrom"===R?".iso":".img");Fa.ig?(Fa=
Fa.ig(Na),Za(Fa,Na)):Fa.Jb(function(fd){fd?$a(fd,Na):alert("The file could not be loaded. Maybe it's too big?")});U.blur()}}function x(A){A.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}c("boot_options").style.display="none";c("loading").style.display="none";c("runtime_options").style.display="block";c("runtime_infos").style.display="block";c("screen_container").style.display="block";p.filesystem&&g(u);
c("run").onclick=function(){u.Xd?(c("run").value="Run",u.stop()):(c("run").value="Pause",u.cf());c("run").blur()};c("exit").onclick=function(){u.stop();location.href=location.pathname};c("lock_mouse").onclick=function(){if(!y)c("toggle_mouse").onclick();ab();c("lock_mouse").blur()};var y=!0;c("toggle_mouse").onclick=function(){y=!y;u.i&&(u.i.Le=y);c("toggle_mouse").value=(y?"Dis":"En")+"able mouse";c("toggle_mouse").blur()};var C=0,K=0,Q=0,D=null,T=!1,X=0;Va(u,"emulator-started",function(){C=Date.now();
D=setInterval(q,1E3)});Va(u,"emulator-stopped",function(){q();null!==D&&clearInterval(D)});var G=0,la=0,Z=[];Va(u,"9p-read-start",function(A){A=A[0];Z.push(A);c("info_filesystem").style.display="block";c("info_filesystem_status").textContent="Loading ...";c("info_filesystem_last_file").textContent=A});Va(u,"9p-read-end",function(A){G+=A[1];c("info_filesystem_bytes_read").textContent=G;const R=A[0];Z=Z.filter(U=>U!==R);Z[0]?c("info_filesystem_last_file").textContent=Z[0]:c("info_filesystem_status").textContent=
"Idle"});Va(u,"9p-write-end",function(A){la+=A[1];c("info_filesystem_bytes_written").textContent=la;Z[0]||(c("info_filesystem_last_file").textContent=A[0])});var z=0,B=0,W=0,O=0;Va(u,"ide-read-start",function(){c("info_storage").style.display="block";c("info_storage_status").textContent="Loading ..."});Va(u,"ide-read-end",function(A){z+=A[1];B+=A[2];c("info_storage_status").textContent="Idle";c("info_storage_bytes_read").textContent=z;c("info_storage_sectors_read").textContent=B});Va(u,"ide-write-end",
function(A){W+=A[1];O+=A[2];c("info_storage_bytes_written").textContent=W;c("info_storage_sectors_written").textContent=O});var ba=0,ja=0;Va(u,"eth-receive-end",function(A){ja+=A[0];c("info_network").style.display="block";c("info_network_bytes_received").textContent=ja});Va(u,"eth-transmit-end",function(A){ba+=A[0];c("info_network").style.display="block";c("info_network_bytes_transmitted").textContent=ba});Va(u,"mouse-enable",function(A){T=A;c("info_mouse_enabled").textContent=A?"Yes":"No"});Va(u,
"screen-set-mode",function(A){A?c("info_vga_mode").textContent="Graphical":(c("info_vga_mode").textContent="Text",c("info_res").textContent="-",c("info_bpp").textContent="-")});Va(u,"screen-set-size-graphical",function(A){c("info_res").textContent=A[0]+"x"+A[1];c("info_bpp").textContent=A[4]});c("reset").onclick=function(){u.Cf();c("reset").blur()};t(p.S,"hda");t(p.Oe,"hdb");t(p.pa,"fda");t(p.bg,"fdb");t(p.na,"cdrom");c("memory_dump").onclick=function(){const A=u.h.s.Na;$a(new Uint8Array(A.buffer,
A.byteOffset,A.length),"v86memory.bin");c("memory_dump").blur()};c("save_state").onclick=function(){u.re(function(A,R){A?(console.log(A.stack),console.log("Couldn't save state: ",A)):$a(R,"v86state.bin")});c("save_state").blur()};c("load_state").onclick=function(){c("load_state_input").click();c("load_state").blur()};c("load_state_input").onchange=function(){var A=this.files[0];if(A){var R=u.Xd;R&&u.stop();var U=new FileReader;U.onload=function(Fa){try{u.Pd(Fa.target.result)}catch(Na){throw alert("Something bad happened while restoring the state:\n"+
Na+"\n\nNote that the current configuration must be the same as the original"),Na;}R&&u.cf()};U.readAsArrayBuffer(A);this.value=""}};c("ctrlaltdel").onclick=function(){Xa(u,[29,56,83,157,184,211]);c("ctrlaltdel").blur()};c("alttab").onclick=function(){Xa(u,[56,15]);setTimeout(function(){Xa(u,[184,143])},100);c("alttab").blur()};c("scale").onchange=function(){var A=parseFloat(this.value);(A||0<A)&&u.g&&u.g.Hf(A,A)};c("fullscreen").onclick=function(){if(u.g){var A=document.getElementById("screen_container");
if(A){var R=A.requestFullScreen||A.webkitRequestFullscreen||A.mozRequestFullScreen||A.msRequestFullScreen;R&&(R.call(A),(A=document.getElementsByClassName("phone_keyboard")[0])&&A.focus());try{navigator.keyboard.lock()}catch(U){}ab()}}};c("screen_container").onclick=function(){if(y&&T)ab(),c("lock_mouse").blur();else if(window.getSelection().isCollapsed){let A=document.getElementsByClassName("phone_keyboard")[0];A.style.top=document.body.scrollTop+100+"px";A.style.left=document.body.scrollLeft+100+
"px";A.focus()}};const ka=document.getElementsByClassName("phone_keyboard")[0];ka.setAttribute("autocorrect","off");ka.setAttribute("autocapitalize","off");ka.setAttribute("spellcheck","false");ka.tabIndex=0;c("screen_container").addEventListener("mousedown",A=>{A.preventDefault();ka.focus()},!1);c("take_screenshot").onclick=function(){u.g&&u.g.Kh();c("take_screenshot").blur()};if(u.o){let A=!1;c("mute").onclick=function(){A?(u.o.Te.ef(1),A=!1,c("mute").value="Mute"):(u.o.Te.ef(0),A=!0,c("mute").value=
"Unmute");c("mute").blur()}}else c("mute").remove();window.addEventListener("keydown",x,!1);window.addEventListener("keyup",x,!1);window.addEventListener("blur",x,!1)}function g(p){c("filesystem_panel").style.display="block";c("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(u){var q=new bb(u);q.onload=function(){q.Jb(function(t){cb(p,"/"+u.name,new Uint8Array(t))})};q.load()},this);this.value="";this.blur()};c("filesystem_get_file").onkeypress=function(u){13===
u.which&&(this.disabled=!0,p.qe(this.value,function(q,t){this.disabled=!1;t?(q=this.value.replace(/\/$/,"").split("/"),q=q[q.length-1]||"root",$a(t,q),this.value=""):alert("Can't read file")}.bind(this)))}}function f(){location.reload()}function k(p){window.history.pushState&&window.history.pushState({profile:p},"","?profile="+p)}var m=!location.hostname.endsWith("copy.sh"),n=0;window.addEventListener("load",d,!1);window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",
f)},0)});"complete"===document.readyState&&d()})();function db(a){this.ports=[];this.s=a;for(var b=0;65536>b;b++)this.ports[b]=eb(this);var c=a.H[0];for(b=0;b<<17<c;b++)a.l[b]=a.B[b]=void 0,a.Ra[b]=a.o[b]=void 0;fb(this,c,4294967296-c,function(d){H(d>>>0,8);return 255},function(d,e){H(d>>>0,8);H(e,2)},function(d){H(d>>>0,8);return-1},function(d,e){H(d>>>0,8);H(e>>>0,8)})}function eb(a){return{Ob:a.Ke,Ba:a.Ie,Qc:a.Je,Dd:a.ib,Tc:a.ib,zb:a.ib,oa:void 0}}l=db.prototype;l.Ke=function(){return 255};l.Ie=function(){return 65535};l.Je=function(){return-1};
l.ib=function(){};function I(a,b,c,d,e,h){d&&(a.ports[b].Ob=d);e&&(a.ports[b].Ba=e);h&&(a.ports[b].Qc=h);a.ports[b].oa=c}function J(a,b,c,d,e,h){d&&(a.ports[b].Dd=d);e&&(a.ports[b].Tc=e);h&&(a.ports[b].zb=h);a.ports[b].oa=c}
l.td=function(a,b,c,d,e,h){function g(){return c.call(this)|d.call(this)<<8}function f(){return e.call(this)|h.call(this)<<8}function k(){return c.call(this)|d.call(this)<<8|e.call(this)<<16|h.call(this)<<24}e&&h?(I(this,a,b,c,g,k),I(this,a+1,b,d),I(this,a+2,b,e,f),I(this,a+3,b,h)):(I(this,a,b,c,g),I(this,a+1,b,d))};
l.Pb=function(a,b,c,d,e,h){function g(m){c.call(this,m&255);d.call(this,m>>8&255)}function f(m){e.call(this,m&255);h.call(this,m>>8&255)}function k(m){c.call(this,m&255);d.call(this,m>>8&255);e.call(this,m>>16&255);h.call(this,m>>>24)}e&&h?(J(this,a,b,c,g,k),J(this,a+1,b,d),J(this,a+2,b,e,f),J(this,a+3,b,h)):(J(this,a,b,c,g),J(this,a+1,b,d))};l.Lh=function(a){var b=this.s.l[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
l.Mh=function(a,b){var c=this.s.B[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function fb(a,b,c,d,e,h,g){H(b>>>0,8);H(c,8);h||(h=a.Lh.bind(a));g||(g=a.Mh.bind(a));for(b>>>=17;0<c;b++)a.s.l[b]=d,a.s.B[b]=e,a.s.Ra[b]=h,a.s.o[b]=g,c-=131072};function gb(a,b){this.i=this.g=!1;this.j=0;this.h=null;this.s=new hb(a,b,()=>{this.C&&ib(this,0)});this.A=a;a.register("cpu-init",this.kb,this);a.register("cpu-run",this.cf,this);a.register("cpu-stop",this.stop,this);a.register("cpu-restart",this.Cf,this);this.l()}l=gb.prototype;l.cf=function(){this.i=!1;this.g||(this.g=!0,this.A.send("emulator-started"));ib(this,0)};
function jb(a){if(a.i||!a.g)a.i=a.g=!1,a.A.send("emulator-stopped");else{a.C=!1;a:{var b=a.s;if(b.i[0]){var c=kb(b);if(b.i[0]){b=c;break a}}let d=c=lb();for(;1>d-c;){b.Cj();d=lb();const e=mb(b,d);nb(b);if(b.i[0]){b=e;break a}}b=0}ib(a,b)}}function ib(a,b){const c=++a.j;a.C=!0;a.B(b,c)}l.stop=function(){this.g&&(this.i=!0)};l.za=function(){this.o()};l.Cf=function(){this.s.Va();ob(this.s)};l.kb=function(a){this.s.kb(a,this.A);this.A.send("emulator-ready")};
if("undefined"!==typeof process)gb.prototype.B=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&jb(this)},b):setTimeout(c=>{c===this.j&&jb(this)},a,b)},gb.prototype.l=function(){},gb.prototype.o=function(){};else if("undefined"!==typeof Worker){function a(){globalThis.onmessage=function(b){const c=b.data.t;1>c?postMessage(b.data.Ug):setTimeout(()=>postMessage(b.data.Ug),c)}}gb.prototype.l=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));this.h=
new Worker(b);this.h.onmessage=c=>{c.data===this.j&&jb(this)};URL.revokeObjectURL(b)};gb.prototype.B=function(b,c){this.h.postMessage({t:b,Ug:c})};gb.prototype.o=function(){this.h.terminate();this.h=null}}else gb.prototype.B=function(a){setTimeout(()=>{jb(this)},a)},gb.prototype.l=function(){},gb.prototype.o=function(){};gb.prototype.re=function(){return this.s.re()};gb.prototype.Pd=function(a){return this.s.Pd(a)};
if("object"===typeof performance&&performance.now)var lb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");lb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?lb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:lb=Date.now;var bb,pb,qb,rb,sb,tb,ub,vb;function wb(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function Ya(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function L(a,b,c,d){return new Proxy({},{get:function(e,h){e=new a(b.buffer,c,d);h=e[h];return"function"===typeof h?h.bind(e):h},set:function(e,h,g){(new a(b.buffer,c,d))[h]=g;return!0}})}function H(a,b){a=a?a.toString(16):"";return"0x"+Ya(a.toUpperCase(),b||1)}
if("undefined"!==typeof crypto&&crypto.getRandomValues){let a=new Int32Array(1);var xb=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");xb=function(){return a.qk(4).readInt32LE(0)}}function yb(a){this.buffer=a;this.byteLength=a.byteLength;this.onload=void 0}l=yb.prototype;l.load=function(){this.onload&&this.onload({buffer:this.buffer})};l.get=function(a,b,c){c(new Uint8Array(this.buffer,a,b))};
l.set=function(a,b,c){(new Uint8Array(this.buffer,a,b.byteLength)).set(b);c()};l.Jb=function(a){a(this.buffer)};l.Z=function(){const a=[];a[0]=this.byteLength;a[1]=new Uint8Array(this.buffer);return a};l.G=function(a){this.byteLength=a[0];this.buffer=a[1].slice().buffer};
(function(){if("function"===typeof Math.clz32)pb=function(d){return 31-Math.clz32(d)},qb=function(d){return 31-Math.clz32(d)};else{for(var a=new Int8Array(256),b=0,c=-2;256>b;b++)b&b-1||c++,a[b]=c;pb=function(d){return a[d]};qb=function(d){d>>>=0;var e=d>>>16;if(e){var h=e>>>8;return h?24+a[h]:16+a[e]}return(h=d>>>8)?8+a[h]:a[d]}}})();
function zb(a){var b=new Uint8Array(a),c,d;this.length=0;this.push=function(e){this.length!==a&&this.length++;b[d]=e;d=d+1&a-1};this.shift=function(){if(this.length){var e=b[c];c=c+1&a-1;this.length--;return e}return-1};this.clear=function(){this.length=d=c=0};this.clear()}function Ab(){this.size=65536;this.data=new Float32Array(65536);this.length=this.end=this.start=0}
Ab.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.end]=a;this.end=this.end+1&this.size-1};Ab.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function Bb(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var d=a.start+b,e=a.data.subarray(a.start,d);c.set(e);d>=a.size&&(d-=a.size,c.set(a.data.subarray(0,d),e.length));a.start=d;a.length-=b;return c}Ab.prototype.clear=function(){this.length=this.end=this.start=0};function $a(a,b){a instanceof Array||(a=[a]);Za(new Blob(a),b)}
function Za(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}
function Cb(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer?this.view=new Uint8Array(a):console.assert(!1)}Cb.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};Cb.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};Cb.prototype.Jb=function(){return this.view.buffer};function Db(a,b,c,d,e,h){this.ga=new Eb(this,a,b,d,e,h);this.ja=new Eb(this,a,c,!1,e,h);this.ca=this.ga;this.s=a;0===e?(this.g=496,this.aa=14,this.Ga=240):1===e&&(this.g=368,this.aa=15,this.Ga=248);this.j=this.g|516;this.h=46080;this.J=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.aa,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.mb=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+e;this.l=2;I(a.u,this.g|7,this,function(){Fb(this.s,this.aa);return this.Og()});I(a.u,this.j|2,this,this.Og);J(a.u,this.j|2,this,this.Hj);I(a.u,this.g|0,this,function(){return Gb(this.ca,1)},function(){return Gb(this.ca,2)},function(){return Gb(this.ca,4)});I(a.u,this.g|1,this,function(){H(this.ca.error&255);return this.ca.error&255});
I(a.u,this.g|2,this,function(){H(this.ca.Y&255);return this.ca.Y&255});I(a.u,this.g|3,this,function(){H(this.ca.ta&255);return this.ca.ta&255});I(a.u,this.g|4,this,function(){H(this.ca.ia&255);return this.ca.ia&255});I(a.u,this.g|5,this,function(){H(this.ca.la&255);return this.ca.la&255});I(a.u,this.g|6,this,function(){return this.ca.vc&255});J(a.u,this.g|0,this,function(g){Hb(this.ca,g,1)},function(g){Hb(this.ca,g,2)},function(g){Hb(this.ca,g,4)});J(a.u,this.g|1,this,function(g){H(g);this.ga.kd=
(this.ga.kd<<8|g)&65535;this.ja.kd=(this.ja.kd<<8|g)&65535});J(a.u,this.g|2,this,function(g){H(g);this.ga.Y=(this.ga.Y<<8|g)&65535;this.ja.Y=(this.ja.Y<<8|g)&65535});J(a.u,this.g|3,this,function(g){H(g);this.ga.ta=(this.ga.ta<<8|g)&65535;this.ja.ta=(this.ja.ta<<8|g)&65535});J(a.u,this.g|4,this,function(g){H(g);this.ga.ia=(this.ga.ia<<8|g)&65535;this.ja.ia=(this.ja.ia<<8|g)&65535});J(a.u,this.g|5,this,function(g){H(g);this.ga.la=(this.ga.la<<8|g)&65535;this.ja.la=(this.ja.la<<8|g)&65535});J(a.u,this.g|
6,this,function(g){var f=g&16;H(g,2);this.ca=f?this.ja:this.ga;this.ga.vc=g;this.ja.vc=g;this.ga.hd=this.ja.hd=g>>6&1;this.ga.head=this.ja.head=g&15});this.i=this.qa=this.Pc=0;J(a.u,this.g|7,this,function(g){Fb(this.s,this.aa);var f=this.ca;H(g);if(f.buffer)switch(f.o=g,f.error=0,g){case 8:f.i=0;f.g=0;f.h=0;Ib(f);f.P();break;case 16:f.status=80;f.ia=0;f.P();break;case 248:f.status=80;var k=f.j-1;f.ta=k&255;f.ia=k>>8&255;f.la=k>>16&255;f.vc=f.vc&240|k>>24&15;f.P();break;case 39:f.status=80;k=f.j-1;
f.ta=k&255;f.ia=k>>8&255;f.la=k>>16&255;f.ta|=k>>24<<8&65280;f.P();break;case 32:case 36:case 41:case 196:Jb(f,g);break;case 48:case 52:case 57:case 197:var m=52===g||57===g;k=Kb(f,m);m=Lb(f,m);g=48===g||52===g;var n=k*f.l,p=m*f.l;H(m);H(k);H(n);p+n>f.buffer.byteLength?(f.status=255,f.P()):(f.status=88,Mb(f,n),f.g=g?512:Math.min(n,512*f.K),f.V=p);break;case 144:f.P();f.error=257;f.status=80;break;case 145:f.status=80;f.P();break;case 160:f.I&&(f.status=88,Nb(f,12),f.g=12,f.Y=1,f.P());break;case 161:f.I?
(Ob(f),f.status=88,f.ia=20,f.la=235):f.status=65;f.P();break;case 198:H(f.Y&255);f.K=f.Y&255;f.status=80;f.P();break;case 37:case 200:m=37===g;k=Kb(f,m);m=Lb(f,m);g=k*f.l;n=m*f.l;H(m);H(k);H(g);n+g>f.buffer.byteLength?(f.status=255,f.P()):(f.status=88,f.oa.qa|=1);break;case 53:case 202:m=53===g;k=Kb(f,m);m=Lb(f,m);g=k*f.l;n=m*f.l;H(m);H(k);H(g);n+g>f.buffer.byteLength?(f.status=255,f.P()):(f.status=88,f.oa.qa|=1);break;case 64:f.status=80;f.P();break;case 218:f.status=65;f.error=4;f.P();break;case 224:f.status=
80;f.P();break;case 225:f.status=80;f.P();break;case 231:f.status=80;f.P();break;case 236:if(f.I){f.status=65;f.error=4;f.P();break}Ob(f);f.status=88;f.P();break;case 234:f.status=80;f.P();break;case 239:H(f.Y&255);f.status=80;f.P();break;case 222:f.status=80;f.P();break;case 245:f.status=80;f.P();break;case 249:f.status=65;f.error=4;break;default:H(g),f.status=65,f.error=4}else f.error=4,f.status=65,f.P()});I(a.u,this.h|4,this,void 0,void 0,this.ph);J(a.u,this.h|4,this,void 0,void 0,this.rh);I(a.u,
this.h,this,this.Yf,void 0,this.qh);J(a.u,this.h,this,this.$f,void 0,this.sh);I(a.u,this.h|2,this,this.Zf);J(a.u,this.h|2,this,this.ag);I(a.u,this.h|8,this,function(){return 0});I(a.u,this.h|10,this,function(){return 0});Pb(a.v.Fa,this)}l=Db.prototype;l.Og=function(){if(this.ca.buffer){var a=this.ca.status;H(a,2);return a}return 0};l.Hj=function(a){H(a,2);a&4&&(Fb(this.s,this.aa),Ib(this.ga),Ib(this.ja));this.l=a};l.ph=function(){H(this.Pc,8);return this.Pc};l.rh=function(a){H(a,8);this.Pc=a};
l.Zf=function(){H(this.qa);return this.qa};l.ag=function(a){H(a);this.qa&=~(a&6)};l.qh=function(){return this.Yf()|this.Zf()<<16};l.Yf=function(){H(this.i);return this.i};l.sh=function(a){H(a);this.$f(a&255);this.ag(a>>16&255)};l.$f=function(a){H(a);let b=this.i;this.i=a&9;if((b&1)!==(a&1))if(0===(a&1))this.qa&=-2;else switch(this.qa|=1,this.ca.o){case 37:case 200:Qb(this.ca);break;case 202:case 53:Rb(this.ca);break;case 160:Sb(this.ca);break;default:H(this.ca.o)}};
l.P=function(){0===(this.l&2)&&(this.qa|=4,this.s.La(this.aa))};l.Z=function(){var a=[];a[0]=this.ga;a[1]=this.ja;a[2]=this.g;a[3]=this.aa;a[4]=this.Ga;a[5]=this.j;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.Pc;a[10]=this.qa;a[11]=this.ca===this.ga;a[12]=this.i;return a};l.G=function(a){this.ga.G(a[0]);this.ja.G(a[1]);this.g=a[2];this.aa=a[3];this.Ga=a[4];this.j=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.Pc=a[9];this.qa=a[10];this.ca=a[11]?this.ga:this.ja;this.i=a[12]};
function Eb(a,b,c,d,e,h){this.oa=a;this.A=h;this.X=e;this.s=b;this.buffer=c;this.l=d?2048:512;this.I=d;this.F=this.C=this.D=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),d?(this.D=1,this.C=0):(this.D=16,this.C=63),this.F=this.j/this.D/this.C,this.F!==(this.F|0)&&(this.F=Math.floor(this.F)),a=b.v.Rc,M(a,57,a.cc[57]|1<<4*this.X),M(a,18,a.cc[18]&15|240),M(a,27,this.F&255),M(a,28,this.F>>8&255),M(a,29,this.D&255),M(a,30,255),M(a,31,255),M(a,
32,200),M(a,33,this.F&255),M(a,34,this.F>>8&255),M(a,35,this.C&255));this.B={Pg:0,Qg:0,Sf:0,Tf:0,mg:!1};this.buffer=c;this.vc=this.head=this.la=this.ia=this.kd=this.ta=this.Y=this.hd=0;this.status=80;this.K=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.T=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.g=this.h=0;this.R=this.o=-1;this.sa=this.V=0;this.O=new Set;this.$=new Set;Object.seal(this)}
function Ib(a){a.I?(a.status=0,a.Y=1,a.error=1,a.ta=1,a.ia=20,a.la=235):(a.status=81,a.Y=1,a.error=1,a.ta=1,a.ia=0,a.la=0);for(const b of a.O)a.$.add(b);a.O.clear()}l=Eb.prototype;l.P=function(){this.oa.P()};l.ce=function(){this.status=80;var a=this.data.subarray(0,this.h);Tb(this,this.o,this.h/512);this.P();this.buffer.set(this.V,a,function(){});Ub(this,this.h)};
function Vb(a,b){var c=b[2]<<24|b[3]<<16|b[4]<<8|b[5],d=b[7]<<8|b[8];b=b[1];var e=d*a.l,h=c*a.l;N("CD read lba="+H(c)+" lbacount="+H(d)+" bytecount="+H(e)+" flags="+H(b));a.h=0;var g=a.la<<8&65280|a.ia&255;N(H(a.la,2)+" "+H(a.ia,2));a.ia=a.la=0;65535===g&&g--;g>e&&(g=e);h>=a.buffer.byteLength?(Wb("CD read: Outside of disk  end="+H(h+e)+" size="+H(a.buffer.byteLength)),a.status=255,a.P()):0===e?(a.status=80,a.i=0):(e=Math.min(e,a.buffer.byteLength-h),a.status=208,Xb(a),a.ba(h,e,f=>{Yb(a,f);a.status=
88;a.Y=a.Y&-8|2;a.P();g&=-4;a.g=g;a.g>a.h&&(a.g=a.h);a.ia=a.g&255;a.la=a.g>>8&255;Zb(a,e)}))}function $b(a,b){var c=b[2]<<24|b[3]<<16|b[4]<<8|b[5],d=b[7]<<8|b[8];b=b[1];var e=d*a.l,h=c*a.l;N("CD read DMA lba="+H(c)+" lbacount="+H(d)+" bytecount="+H(e)+" flags="+H(b));h>=a.buffer.byteLength?(Wb("CD read: Outside of disk  end="+H(h+e)+" size="+H(a.buffer.byteLength)),a.status=255,a.P()):(a.status=208,Xb(a),a.ba(h,e,g=>{Zb(a,e);a.status=88;a.Y=a.Y&-8|2;Yb(a,g);Sb(a)}))}
function Sb(a){if(0!==(a.oa.qa&1)&&0!==(a.status&8)){var b=a.oa.Pc,c=0,d=a.data;do{var e=a.s.h(b),h=a.s.Ba(b+4),g=a.s.Ob(b+7)&128;h||(h=65536);H(e);H(h);H(a.h);pa(a.s,d.subarray(c,Math.min(c+h,a.h)),e);c+=h;b+=8;if(c>=a.h&&!g){H(c);H(a.h);H(a.o);break}}while(!g);a.status=80;a.oa.qa&=-2;a.Y=a.Y&-8|3;a.P()}}
function Gb(a,b){if(a.i<a.g){H(a.i);var c=1===b?a.data[a.i]:2===b?a.T[a.i>>>1]:a.N[a.i>>>2];a.i+=b;0===(a.i&(0===(a.g&4095)?4095:255))&&(H(a.data[a.i],2),H(a.i),H(a.h));a.i>=a.g&&(H(a.o),H(a.i),H(a.g),H(a.h),160===a.o?a.g===a.h?(a.status=80,a.Y=a.Y&-8|3,a.P()):(a.status=88,a.Y=a.Y&-8|2,a.P(),b=a.la<<8&65280|a.ia&255,a.g+b>a.h?(a.ia=a.h-a.g&255,a.la=a.h-a.g>>8&255,a.g=a.h):a.g+=b,H(a.g)):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.o||41===a.o?Math.min(a.K,(a.h-a.g)/512):1,Tb(a,a.o,b),a.g+=512*b,a.status=
88),a.P()));return c}a.i+=b;return 0}
function Hb(a,b,c){if(a.i>=a.g)H(b),H(a.g),H(a.i);else{if(0===(a.i+c&(0===(a.g&4095)?4095:255))||20>a.g)H(b>>>0),H(a.g),H(a.i);1===c?a.data[a.i++]=b:2===c?(a.T[a.i>>>1]=b,a.i+=2):(a.N[a.i>>>2]=b,a.i+=4);if(a.i===a.g)if(160===a.o){H(a.data[0]);a.i=0;a.R=a.data[0];switch(a.R){case 0:Nb(a,0);a.g=a.h;a.status=80;break;case 3:Nb(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;H(a.data[1],2);a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,
32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:Nb(a,a.data[4]);a.g=a.h;a.status=88;break;case 30:Nb(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;Yb(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.kd&1?$b(a,a.data):Vb(a,a.data);break;case 66:b=a.data[8];Nb(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;Nb(a,b);a.g=a.h;H(c,2);H(a.data[6]);
0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);Nb(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:Nb(a,0);a.g=a.h;a.status=80;break;case 82:H(a.data[0]);a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|
a.data[7]<<8;c=a.data[2];H(c);42===c&&Nb(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:Nb(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=81;a.h=0;a.error=80;H(a.data[0]);break;case 190:H(a.data[0]);Nb(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80,H(a.data[0])}a.Y=a.Y&-8|2;0===(a.status&128)&&a.P();0===(a.status&128)&&0===a.h&&(a.Y|=1,a.status&=-9)}else H(a.i),H(a.h),a.i>=a.h?a.ce():(H(a.o),a.status=88,a.g+=512,a.P())}}
function Tb(a,b,c){a.Y-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+ac(a),a.ta=b&255|b>>16&65280,a.ia=b>>8&255,a.la=b>>16&255):a.hd?(b=c+bc(a),a.ta=b&255,a.ia=b>>8&255,a.la=b>>16&255,a.head=a.head&-16|b&15):(b=c+cc(a),c=b/(a.D*a.C)|0,a.ia=c&255,a.la=c>>8&255,a.head=(b/a.C|0)%a.D&15,a.ta=b%a.C+1&255,cc(a))}
function Jb(a,b){var c=36===b||41===b,d=Kb(a,c);c=Lb(a,c);var e=32===b||36===b,h=d*a.l,g=c*a.l;N("ATA read cmd="+H(b)+" mode="+(a.hd?"lba":"chs")+" lba="+H(c)+" lbacount="+H(d)+" bytecount="+H(h));g+h>a.buffer.byteLength?(a.status=255,a.P()):(a.status=192,Xb(a),a.ba(g,h,f=>{Yb(a,f);a.status=88;a.g=e?512:Math.min(h,512*a.K);Tb(a,b,e?1:Math.min(d,a.C));a.P();Zb(a,h)}))}
function Qb(a){var b=37===a.o,c=Kb(a,b);b=Lb(a,b);var d=c*a.l;b*=a.l;Xb(a);a.ba(b,d,e=>{var h=a.oa.Pc,g=0;do{var f=a.s.h(h),k=a.s.Ba(h+4),m=a.s.Ob(h+7)&128;k||(k=65536);H(f);H(k);pa(a.s,e.subarray(g,g+k),f);g+=k;h+=8}while(!m);Tb(a,a.o,c);a.status=80;a.oa.qa&=-2;a.o=-1;a.P();Zb(a,d)})}
function Rb(a){var b=53===a.o,c=Kb(a,b),d=Lb(a,b);b=c*a.l;d*=a.l;var e=a.oa.Pc,h=0;N("prdt addr: "+H(e,8));const g=new Uint8Array(b);do{var f=a.s.h(e),k=a.s.Ba(e+4),m=a.s.Ob(e+7)&128;k||(k=65536);N("dma write transfer dest="+H(f)+" prd_count="+H(k));g.set(a.s.Na.subarray(f,f+k),h);h+=k;e+=8}while(!m);a.buffer.set(d,g,()=>{Tb(a,a.o,c);a.status=80;a.P();a.oa.qa&=-2;a.o=-1});Ub(a,b)}function cc(a){return((a.ia&255|a.la<<8&65280)*a.D+a.head)*a.C+(a.ta&255)-1}
function bc(a){return a.ta&255|a.ia<<8&65280|a.la<<16&16711680|(a.head&15)<<24}function ac(a){return(a.ta&255|a.ia<<8&65280|a.la<<16&16711680|a.ta>>8<<24&4278190080)>>>0}function Lb(a,b){return b?ac(a):a.hd?bc(a):cc(a)}function Kb(a,b){b?(a=a.Y,0===a&&(a=65536)):(a=a.Y&255,0===a&&(a=256));return a}
function Ob(a){if(a.vc&16)Nb(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.F);Yb(a,[64,a.I?133:0,b,b>>8,0,0,a.D,a.D>>8,a.C/512,a.C/512>>8,0,2,a.C,a.C>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.D,a.D>>8,a.C,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.o?0:7,160===a.o?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function Nb(a,b){Mb(a,b);for(var c=0;c<b+3>>2;c++)a.N[c]=0}function Mb(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.T=new Uint16Array(a.data.buffer),a.N=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function Yb(a,b){Mb(a,b.length);a.data.set(b)}function Xb(a){a.B.mg=!0;a.A.send("ide-read-start")}function Zb(a,b){a.B.mg=!1;var c=b/a.l|0;a.B.Pg+=c;a.B.Sf+=b;a.A.send("ide-read-end",[a.X,b,c])}function Ub(a,b){var c=b/a.l|0;a.B.Qg+=c;a.B.Tf+=b;a.A.send("ide-write-end",[a.X,b,c])}l.ba=function(a,b,c){const d=this.sa++;this.O.add(d);this.buffer.get(a,b,e=>{this.$.delete(d)?this.O.has(d):(this.O.delete(d),c(e))})};
l.Z=function(){var a=[];a[0]=this.Y;a[1]=this.F;a[2]=this.la;a[3]=this.ia;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.vc;a[10]=this.error;a[11]=this.head;a[12]=this.D;a[13]=this.I;a[14]=this.hd;a[15]=this.kd;a[16]=this.data;a[17]=this.h;a[18]=this.ta;a[19]=this.j;a[20]=this.l;a[21]=this.K;a[22]=this.C;a[23]=this.status;a[24]=this.V;a[25]=this.o;a[26]=this.g;a[27]=this.R;a[28]=this.buffer;return a};
l.G=function(a){this.Y=a[0];this.F=a[1];this.la=a[2];this.ia=a[3];this.i=a[4];this.vc=a[9];this.error=a[10];this.head=a[11];this.D=a[12];this.I=a[13];this.hd=a[14];this.kd=a[15];this.data=a[16];this.h=a[17];this.ta=a[18];this.j=a[19];this.l=a[20];this.K=a[21];this.C=a[22];this.status=a[23];this.V=a[24];this.o=a[25];this.g=a[26];this.R=a[27];this.T=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.buffer&&this.buffer.G(a[28])};function dc(a){this.lb=new Uint8Array(4);this.g=new Uint8Array(4);this.od=new Uint8Array(4);this.pd=new Uint8Array(4);this.Ic=new Int32Array(this.lb.buffer);new Int32Array(this.g.buffer);this.yf=new Int32Array(this.od.buffer);this.wg=new Int32Array(this.pd.buffer);this.Db=[];this.v=[];this.s=a;for(var b=0;256>b;b++)this.Db[b]=void 0,this.v[b]=void 0;this.u=a.u;J(a.u,3324,this,function(c){ec(this,this.Ic[0],c)},function(c){fc(this,this.Ic[0],c)},function(c){var d=this.Ic[0],e=d>>8&65535;d&=255;var h=
this.Db[e],g=this.v[e];if(h)if(16<=d&&40>d){g=g.mb[d-16>>2];H(c>>>0);H(e>>3,2);if(g){e=d>>2;var f=h[e]&1;-1===(c|3|g.size-1)?(c=~(g.size-1)|f,0===f&&(h[e]=c)):0===f&&(h[e]=g.tg);if(1===f){f=h[e]&65534;var k=c&65534;H(f>>>0,8);H(k>>>0,8);gc(this,g,f,k);h[e]=c|1}}else h[d>>2]=0;H(h[d>>2]>>>0)}else 48===d?(H(e>>3,2),H(c>>>0,8),h[d>>2]=g.vg?-1===(c|2047)?-g.vg|0:g.Ph|0:0):4===d?(H(e>>3,2),H(d,4),H(c>>>0,8)):(H(e>>3,2),H(d,4),H(c>>>0,8),h[d>>>2]=c)});J(a.u,3325,this,function(c){ec(this,this.Ic[0]+1|0,
c)});J(a.u,3326,this,function(c){ec(this,this.Ic[0]+2|0,c)},function(c){fc(this,this.Ic[0]+2|0,c)});J(a.u,3327,this,function(c){ec(this,this.Ic[0]+3|0,c)});a.u.td(3324,this,function(){return this.od[0]},function(){return this.od[1]},function(){return this.od[2]},function(){return this.od[3]});a.u.td(3320,this,function(){return this.pd[0]},function(){return this.pd[1]},function(){return this.pd[2]},function(){return this.pd[3]});a.u.Pb(3320,this,function(c){this.lb[0]=c&252},function(c){2===(this.lb[1]&
6)&&6===(c&6)?hc(a):this.lb[1]=c},function(c){this.lb[2]=c},function(c){this.lb[3]=c;var d=this.lb[2]<<8|this.lb[1];c=this.lb[0]&252;var e=d>>3&31;var h="query enabled="+(this.lb[3]>>7);h+=" bdf="+H(d,4);h+=" dev="+H(e,2);H(c,2);h=this.Db[d];void 0!==h?(this.wg[0]=-2147483648,this.yf[0]=c<h.byteLength?h[c>>2]:0,H(this.Ic[0]>>>0,8),H(this.yf[0]>>>0,8)):(this.yf[0]=-1,this.wg[0]=0)});Pb(this,{Ga:0,J:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],mb:[],name:"82441FX PMC"});this.i={Ga:8,J:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mb:[],name:"82371SB PIIX3 ISA"};this.j=Pb(this,this.i);this.h=new Uint8Array(this.j.buffer)}dc.prototype.Z=function(){for(var a=[],b=0;256>b;b++)a[b]=this.Db[b];a[256]=this.lb;a[257]=this.g;a[258]=this.od;a[259]=this.pd;return a};
dc.prototype.G=function(a){for(var b=0;256>b;b++){var c=this.v[b],d=a[b];if(c&&d){for(var e=0;e<c.mb.length;e++){var h=d[4+e];if(h&1){var g=c.mb[e];gc(this,g,g.tg&65534,h&65534)}}this.Db[b].set(d)}else d&&H(b,2)}this.lb.set(a[256]);this.g.set(a[257]);this.od.set(a[258]);this.pd.set(a[259])};function ec(a,b,c){var d=b>>8&65535;b&=255;a=new Uint8Array(a.Db[d].buffer);H(b);H(d>>3,2);H(b,4);H(c,2);a[b]=c}
function fc(a,b,c){var d=b>>8&65535;b&=255;a=new Uint16Array(a.Db[d].buffer);16<=b&&44>b?H(b):(H(b),H(d>>3,2),H(b,4),H(c,4),a[b>>>1]=c)}function Pb(a,b){var c=b.Ga;H(c);var d=new Int32Array(64);d.set(new Int32Array((new Uint8Array(b.J)).buffer));a.Db[c]=d;a.v[c]=b;c=d.slice(4,10);for(var e=0;e<b.mb.length;e++){var h=b.mb[e];if(h){var g=c[e],f=g&1;h.tg=g;h.entries=[];if(0!==f)for(g&=-2,f=0;f<h.size;f++)h.entries[f]=a.u.ports[g+f]}}return d}
function gc(a,b,c,d){var e=b.size;H(c);H(d);for(var h=a.u.ports,g=0;g<e;g++){var f=h[c+g];h[c+g]=eb(a.u);f.Ob===a.u.Ke&&f.Ba===a.u.Ie&&f.Qc===a.u.Je&&f.Dd===a.u.ib&&f.Tc===a.u.ib&&f.zb===a.u.ib&&H(c+g,4);f=h[d+g];h[d+g]=b.entries[g];f.Ob!==a.u.Ke&&f.Ba!==a.u.Ie&&f.Qc!==a.u.Je&&f.Dd!==a.u.ib&&f.Tc!==a.u.ib&&f.zb!==a.u.ib||H(d+g,4)}}dc.prototype.xa=function(a){this.s.La(this.h[96+((this.Db[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function ic(a,b){Fb(a.s,a.h[96+((a.Db[b][15]>>8&255)+(b>>3&255)-2&3)])};function jc(a,b){this.u=a.u;this.s=a;this.gb=a.v.gb;this.h=0;this.K=new Uint8Array(10);this.N=0;this.j=null;this.g=new Uint8Array(10);this.l=this.i=0;this.F=b;this.I=this.C=this.T=this.$=this.X=this.V=0;this.O=1;this.o=0;if(b){var c={[163840]:{type:1,ob:40,nb:8,jb:1},[184320]:{type:1,ob:40,nb:9,jb:1},[204800]:{type:1,ob:40,nb:10,jb:1},[327680]:{type:1,ob:40,nb:8,jb:2},[368640]:{type:1,ob:40,nb:9,jb:2},[409600]:{type:1,ob:40,nb:10,jb:2},[737280]:{type:3,ob:80,nb:9,jb:2},[1228800]:{type:2,ob:80,nb:15,
jb:2},[1474560]:{type:4,ob:80,nb:18,jb:2},[1763328]:{type:5,ob:82,nb:21,jb:2},[2949120]:{type:5,ob:80,nb:36,jb:2},512:{type:1,ob:1,nb:1,jb:1}},d=b.byteLength;d=c[d];d||(d=1474560<b.byteLength?2949120:1474560,d=c[d]);M(a.v.Rc,16,d.type<<4);a=d.nb;b=d.jb;d=d.ob;this.B=a;this.D=b;this.R=d}else M(a.v.Rc,16,64),this.R=this.D=this.B=0;I(this.u,1008,this,this.Xi);I(this.u,1010,this,this.Yi);I(this.u,1012,this,this.$i);I(this.u,1013,this,this.aj);I(this.u,1015,this,this.cj);J(this.u,1010,this,this.Zi);J(this.u,
1013,this,this.bj)}l=jc.prototype;l.Z=function(){var a=[];a[0]=this.h;a[1]=this.K;a[2]=this.N;a[4]=this.g;a[5]=this.i;a[6]=this.l;a[8]=this.V;a[9]=this.X;a[10]=this.$;a[11]=this.T;a[12]=this.C;a[13]=this.I;a[14]=this.O;a[15]=this.o;a[16]=this.B;a[17]=this.D;a[18]=this.R;return a};
l.G=function(a){this.h=a[0];this.K=a[1];this.N=a[2];this.j=a[3];this.g=a[4];this.i=a[5];this.l=a[6];this.V=a[8];this.X=a[9];this.$=a[10];this.T=a[11];this.C=a[12];this.I=a[13];this.O=a[14];this.o=a[15];this.B=a[16];this.D=a[17];this.R=a[18]};l.Xi=function(){return 0};l.$i=function(){var a=128;this.i<this.l&&(a|=80);0===(this.o&8)&&(a|=32);return a};l.cj=function(){return 0};l.aj=function(){return this.i<this.l?(Fb(this.s,6),this.g[this.i++]):255};
l.bj=function(a){if(this.F)if(N("3F5 write "+H(a)),0<this.h)this.K[this.N++]=a,this.h--,0===this.h&&this.j.call(this,this.K);else{switch(a){case 3:this.j=this.xh;this.h=2;break;case 4:this.j=this.ih;this.h=1;break;case 5:case 197:this.j=function(b){kc(this,!0,b)};this.h=8;break;case 230:this.j=function(b){kc(this,!1,b)};this.h=8;break;case 7:this.j=this.hh;this.h=1;break;case 8:this.i=0;this.l=2;this.g[0]=32;this.g[1]=this.C;break;case 74:this.j=this.qj;this.h=1;break;case 15:this.h=2;this.j=this.eh;
break;case 14:this.g[0]=128;this.i=0;this.l=1;this.h=0;break;default:Wb("Unimplemented floppy command call "+H(a))}this.N=0}};l.Yi=function(){return this.o};l.Zi=function(a){4===(a&4)&&0===(this.o&4)&&this.s.La(6);H(a>>4);H(a);this.o=a};l.ih=function(){this.i=0;this.l=1;this.g[0]=32};l.eh=function(a){this.C=a[1];this.I=a[0]>>2&1;this.xa()};l.hh=function(){this.xa()};
function kc(a,b,c){var d=c[2],e=c[1],h=c[3],g=128<<c[4],f=c[5]-c[3]+1,k=((d+a.D*e)*a.B+h-1)*g;H(k);H(f*g);a.F&&(b?a.gb.ce(a.F,k,f*g,2,a.done.bind(a,c,e,d,h)):lc(a.gb,a.F,k,f*g,a.done.bind(a,c,e,d,h)))}l.done=function(a,b,c,d,e){e||(d++,d>this.B&&(d=1,c++,c>=this.D&&(c=0,b++)),this.C=b,this.I=c,this.O=d,this.i=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=d,this.g[6]=a[4],this.xa())};l.xh=function(){};
l.qj=function(){this.i=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.xa()};l.xa=function(){this.o&8&&this.s.La(6)};function pa(a,b,c){b.length&&(a.Qe(c),a.Qe(c+b.length-1),a.Hh(c,c+b.length),a.Na.set(b,c))};function mc(a){this.s=a;this.o=new Uint8Array(8);this.B=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.bc=new Uint8Array(8);this.C=new Uint8Array(8);this.hf=[];this.i=0;a=a.u;J(a,0,this,this.Kc.bind(this,0));J(a,2,this,this.Kc.bind(this,1));J(a,4,this,this.Kc.bind(this,2));J(a,6,this,this.Kc.bind(this,3));J(a,1,this,this.Mc.bind(this,0));J(a,3,this,this.Mc.bind(this,1));J(a,5,this,this.Mc.bind(this,2));J(a,7,this,this.Mc.bind(this,
3));I(a,0,this,this.Jc.bind(this,0));I(a,2,this,this.Jc.bind(this,1));I(a,4,this,this.Jc.bind(this,2));I(a,6,this,this.Jc.bind(this,3));I(a,1,this,this.Lc.bind(this,0));I(a,3,this,this.Lc.bind(this,1));I(a,5,this,this.Lc.bind(this,2));I(a,7,this,this.Lc.bind(this,3));J(a,192,this,this.Kc.bind(this,4));J(a,196,this,this.Kc.bind(this,5));J(a,200,this,this.Kc.bind(this,6));J(a,204,this,this.Kc.bind(this,7));J(a,194,this,this.Mc.bind(this,4));J(a,198,this,this.Mc.bind(this,5));J(a,202,this,this.Mc.bind(this,
6));J(a,206,this,this.Mc.bind(this,7));I(a,192,this,this.Jc.bind(this,4));I(a,196,this,this.Jc.bind(this,5));I(a,200,this,this.Jc.bind(this,6));I(a,204,this,this.Jc.bind(this,7));I(a,194,this,this.Lc.bind(this,4));I(a,198,this,this.Lc.bind(this,5));I(a,202,this,this.Lc.bind(this,6));I(a,206,this,this.Lc.bind(this,7));J(a,135,this,this.Oc.bind(this,0));J(a,131,this,this.Oc.bind(this,1));J(a,129,this,this.Oc.bind(this,2));J(a,130,this,this.Oc.bind(this,3));J(a,143,this,this.Oc.bind(this,4));J(a,139,
this,this.Oc.bind(this,5));J(a,137,this,this.Oc.bind(this,6));J(a,138,this,this.Oc.bind(this,7));I(a,135,this,this.Nc.bind(this,0));I(a,131,this,this.Nc.bind(this,1));I(a,129,this,this.Nc.bind(this,2));I(a,130,this,this.Nc.bind(this,3));I(a,143,this,this.Nc.bind(this,4));I(a,139,this,this.Nc.bind(this,5));I(a,137,this,this.Nc.bind(this,6));I(a,138,this,this.Nc.bind(this,7));J(a,1159,this,this.sd.bind(this,0));J(a,1155,this,this.sd.bind(this,1));J(a,1153,this,this.sd.bind(this,2));J(a,1154,this,this.sd.bind(this,
3));J(a,1163,this,this.sd.bind(this,5));J(a,1161,this,this.sd.bind(this,6));J(a,1162,this,this.sd.bind(this,7));I(a,1159,this,this.rd.bind(this,0));I(a,1155,this,this.rd.bind(this,1));I(a,1153,this,this.rd.bind(this,2));I(a,1154,this,this.rd.bind(this,3));I(a,1163,this,this.rd.bind(this,5));I(a,1161,this,this.rd.bind(this,6));I(a,1162,this,this.rd.bind(this,7));J(a,10,this,this.Lg.bind(this,0));J(a,212,this,this.Lg.bind(this,4));J(a,15,this,this.Kg.bind(this,0));J(a,222,this,this.Kg.bind(this,4));
I(a,15,this,this.Jg.bind(this,0));I(a,222,this,this.Jg.bind(this,4));J(a,11,this,this.Ig.bind(this,0));J(a,214,this,this.Ig.bind(this,4));J(a,12,this,this.Hg);J(a,216,this,this.Hg)}l=mc.prototype;l.Z=function(){return[this.o,this.B,this.g,this.j,this.h,this.l,this.bc,this.C,this.i]};l.G=function(a){this.o=a[0];this.B=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.bc=a[6];this.C=a[7];this.i=a[8]};l.Mc=function(a,b){H(b);this.h[a]=nc(this,this.h[a],b,!1);this.l[a]=nc(this,this.l[a],b,!0)};
l.Lc=function(a){H(this.h[a]);return oc(this,this.h[a])};l.Kc=function(a,b){H(b);this.g[a]=nc(this,this.g[a],b,!1);this.j[a]=nc(this,this.j[a],b,!0)};l.Jc=function(a){H(this.g[a]);return oc(this,this.g[a])};l.sd=function(a,b){H(b);this.B[a]=b};l.rd=function(a){return this.B[a]};l.Oc=function(a,b){H(b);this.o[a]=b};l.Nc=function(a){return this.o[a]};l.Lg=function(a,b){pc(this,(b&3)+a,b&4?1:0)};l.Kg=function(a,b){H(b);for(var c=0;4>c;c++)pc(this,a+c,b&1<<c)};
l.Jg=function(a){var b=0|this.bc[a+0];b|=this.bc[a+1]<<1;b|=this.bc[a+2]<<2;b|=this.bc[a+3]<<3;H(b);return b};l.Ig=function(a,b){a=(b&3)+a;H(b);this.C[a]=b};l.Hg=function(){this.i=0};function pc(a,b,c){if(a.bc[b]!==c&&(a.bc[b]=c,!c))for(c=0;c<a.hf.length;c++)a.hf[c].Ne.call(a.hf[c].Jf,b)}
function lc(a,b,c,d,e){var h=a.h[2]+1,g=qc(a,2);N("to "+H(g)+" len "+H(h));d<h&&N("DMA should read more than provided: "+H(d)+" "+H(h));if(c+h>b.byteLength)e(!0);else{var f=a.s;a.g[2]+=h;b.get(c,h,function(k){pa(f,k,g);e(!1)})}}
l.ce=function(a,b,c,d,e){var h=this.h[d]+1&65535,g=5<=d?2:1,f=h*g,k=qc(this,d),m=!1,n=!1,p=this.C[d]&16;N("to "+H(k)+" len "+H(f));c<f?(h=Math.floor(c/g),f=h*g,m=!0):c>f&&(n=!0);b+f>a.byteLength?e(!0):(this.g[d]+=h,this.h[d]-=h,!m&&p&&(this.g[d]=this.j[d],this.h[d]=this.l[d]),a.set(b,this.s.Na.subarray(k,k+f),()=>{n&&p?this.ce(a,b+f,c-f,d,e):e(!1)}))};function qc(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.B[b]<<24}
function nc(a,b,c,d){d||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}function oc(a,b){a.i^=1;return a.i?b&255:b>>8&255};function rc(a,b){this.s=a;this.A=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.$c=new Uint8Array(4);this.B=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.eb=new Uint16Array(3);I(a.u,97,this,function(){var c=lb(),d=66.66666666666667*c&1;c=sc(this,2,c);return d<<4|c<<5});J(a.u,97,this,function(c){c&1?this.A.send("pcspeaker-enable"):this.A.send("pcspeaker-disable")});I(a.u,64,this,function(){return tc(this,0)});
I(a.u,65,this,function(){return tc(this,1)});I(a.u,66,this,function(){return tc(this,2)});J(a.u,64,this,function(c){uc(this,0,c)});J(a.u,65,this,function(c){uc(this,1,c)});J(a.u,66,this,function(c){uc(this,2,c);this.A.send("pcspeaker-update",[this.$c[2],this.eb[2]])});J(a.u,67,this,this.C)}rc.prototype.Z=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.$c;a[3]=this.B;a[4]=this.l;a[5]=this.o;a[6]=this.eb;a[7]=this.i;a[8]=this.j;return a};
rc.prototype.G=function(a){this.g=a[0];this.h=a[1];this.$c=a[2];this.B=a[3];this.l=a[4];this.o=a[5];this.eb=a[6];this.i=a[7];this.j=a[8]};rc.prototype.yb=function(a,b){var c=100;b||(this.h[0]&&sc(this,0,a)?(this.j[0]=vc(this,0,a),this.i[0]=a,Fb(this.s,0),this.s.La(0),0===this.$c[0]&&(this.h[0]=0)):Fb(this.s,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function vc(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.eb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function sc(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function tc(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.$c[b]&&(a.g[b]^=1);a=vc(a,b,lb());return c?a&255:a>>8}
function uc(a,b,c){a.eb[b]=a.g[b]?a.eb[b]&-256|c:a.eb[b]&255|c<<8;3===a.B[b]&&a.g[b]||(a.eb[b]||(a.eb[b]=65535),a.j[b]=a.eb[b],a.h[b]=!0,a.i[b]=lb(),H(a.eb[b]));3===a.B[b]&&(a.g[b]^=1)}rc.prototype.C=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=vc(this,c,lb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&Fb(this.s,0),0!==b&&3!==b&&2!==b&&H(b),this.$c[c]=b,this.B[c]=a,2===c&&this.A.send("pcspeaker-update",[this.$c[2],this.eb[2]])))};var wc=Uint32Array.from([655360,655360,720896,753664]),xc=Uint32Array.from([131072,65536,32768,32768]);
function yc(a,b,c){this.s=a;this.A=b;this.ha=c;this.F=0;this.wc=14;this.uc=15;this.I=80;this.Xb=25;this.ye=this.Ca=this.Rd=this.rc=0;this.Jd=[];this.Fc=this.ua=0;this.Tb=new Uint8Array(25);this.D=this.K=this.Ec=this.N=this.h=this.j=this.Vb=this.Wb=this.Da=0;this.yc=!0;this.Aa=!1;setTimeout(()=>{b.send("screen-set-mode",this.Aa)},0);this.ab=new Int32Array(256);this.$a=this.Pa=this.i=0;this.Ia=!1;this.Qb=32;this.yd=this.sb=0;this.J=[52,18,17,17,3,1,0,0,2,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,
0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Ga=144;this.mb=[{size:c}];this.vg=65536;this.Ph=4272947200;this.name="vga";this.B={kg:!1,rj:0,sj:0,Rf:0};this.Sa=this.Ub=this.Ra=this.o=0;this.T=255;this.Cb=new Uint8Array(16);this.g=-1;this.Rb=32;this.tc=this.Wa=this.Zc=this.Ja=0;this.sa=-1;this.Zb=15;this.Sb=this.ac=0;this.X=-1;this.rb=this.oc=this.Bc=0;this.zc=255;this.$=this.R=this.O=this.qb=this.Ac=this.Yb=0;this.l=this.jd=255;c=a.u;J(c,960,this,this.Bi);
I(c,960,this,this.Dg,this.Ai);I(c,961,this,this.Eg);J(c,962,this,this.Ci);c.Pb(964,this,this.Ei,this.Gi);I(c,964,this,this.Di);I(c,965,this,this.Fi);c.Pb(974,this,this.Ri,this.Ti);I(c,974,this,this.Qi);I(c,975,this,this.Si);I(c,966,this,this.Hi);J(c,966,this,this.Ii);J(c,967,this,this.Ki);I(c,967,this,this.Ji);J(c,968,this,this.Mi);I(c,968,this,this.Li);J(c,969,this,this.Oi);I(c,969,this,this.Ni);I(c,972,this,this.Pi);c.Pb(980,this,this.Vi,this.Wi);I(c,980,this,this.Ui);I(c,981,this,this.Fg,()=>this.Fg());
I(c,970,this,function(){return 0});I(c,986,this,this.Gg);I(c,954,this,this.Gg);this.V=-1;this.Va=0;J(c,462,this,void 0,this.Rh);J(c,463,this,void 0,this.Th);I(c,463,this,void 0,this.Sh);void 0===this.ha||262144>this.ha?this.ha=262144:this.ha&65535&&(this.ha|=65535,this.ha++);const d=a.Yg(this.ha);this.If=L(Uint8Array,a.Qa,d,this.ha);this.$d=this.ha;this.Zd=0;this.be=this.ha;this.ae=0;this.Lb=null;b.register("screen-fill-buffer",function(){if(this.Aa){if(0===this.Lb.data.byteLength){var h=new Uint8ClampedArray(this.s.Qa.buffer,
this.mf,4*this.Ca*this.ye);this.Lb=new ImageData(h,this.Ca,this.ye);zc(this)}if(this.Ia){h=0;var g=this.$a;if(8===this.Qb)for(var f=new Int32Array(this.s.Qa.buffer,this.mf,this.rc*this.Rd),k=new Uint8Array(this.s.Qa.buffer,this.If.byteOffset,this.ha),m=0;m<f.length;m++){var n=this.ab[k[m]];f[m]=n&65280|n<<16|n>>16|4278190080}else this.s.ah(this.Qb,this.yd),m=15===this.Qb?2:this.Qb/8,h=((this.s.$g[0]/m|0)-this.yd)/this.Pa|0,g=(((this.s.Zg[0]/m|0)-this.yd)/this.Pa|0)+1;h<g&&(h=Math.max(h,0),g=Math.min(g,
this.$a),this.A.send("screen-fill-buffer-end",[{Lb:this.Lb,Ef:0,Ff:h,De:0,Ee:h,kf:this.Pa,jf:g-h}]))}else{h=Math.min(this.ae|15,524287);m=Ac(this);n=~this.Da&3;g=this.oc&96;f=this.Ja&64;for(k=this.be&-16;k<=h;){var p=k>>>m;if(n){var u=k/this.Ca|0,q=k-this.Ca*u;switch(n){case 1:p=(u&1)<<13;u>>>=1;break;case 2:p=(u&1)<<14;u>>>=1;break;case 3:p=(u&3)<<13,u>>>=2}p|=(u*this.Ca+q>>>m)+this.ua}u=this.Ze[p];q=this.$e[p];var t=this.af[p],x=this.bf[p];p=new Uint8Array(8);switch(g){case 0:u<<=0;q<<=1;t<<=2;
x<<=3;for(var y=7;0<=y;y--)p[7-y]=u>>y&1|q>>y&2|t>>y&4|x>>y&8;break;case 32:p[0]=u>>6&3|t>>4&12;p[1]=u>>4&3|t>>2&12;p[2]=u>>2&3|t>>0&12;p[3]=u>>0&3|t<<2&12;p[4]=q>>6&3|x>>4&12;p[5]=q>>4&3|x>>2&12;p[6]=q>>2&3|x>>0&12;p[7]=q>>0&3|x<<2&12;break;case 64:case 96:p[0]=u>>4&15,p[1]=u>>0&15,p[2]=q>>4&15,p[3]=q>>0&15,p[4]=t>>4&15,p[5]=t>>0&15,p[6]=x>>4&15,p[7]=x>>0&15}if(f)for(u=y=0;4>y;y++,k++,u+=2)this.Md[k]=p[u]<<4|p[u+1];else for(y=0;8>y;y++,k++)this.Md[k]=p[y]}f=this.$d;h=Math.min(this.Zd,524287);g=new Int32Array(this.s.Qa.buffer,
this.mf,this.Ca*this.ye);m=255;n=0;this.Ja&128&&(m&=207,n|=this.tc<<4&48);if(this.Ja&64)for(;f<=h;f++)k=this.Md[f]&m|n,k=this.ab[k],g[f]=k&65280|k<<16|k>>16|4278190080;else for(m&=63,n|=this.tc<<4&192;f<=h;f++)k=this.Cb[this.Md[f]&this.Zc]&m|n,k=this.ab[k],g[f]=k&65280|k<<16|k>>16|4278190080;this.A.send("screen-fill-buffer-end",this.Jd)}this.$d=this.ha;this.Zd=0;this.be=this.ha;this.ae=0}Bc(this)},this);this.C=new Uint8Array(262144);this.Ze=new Uint8Array(this.C.buffer,0,65536);this.$e=new Uint8Array(this.C.buffer,
65536,65536);this.af=new Uint8Array(this.C.buffer,131072,65536);this.bf=new Uint8Array(this.C.buffer,196608,65536);this.Md=new Uint8Array(524288);var e=this;fb(c,655360,131072,function(h){return Cc(e,h)},function(h,g){if(e.Ia&&e.Aa&&e.yc)e.s.Dd((h-655360|e.sb)+3758096384|0,g);else{var f=e.qb>>2&3;h-=wc[f];if(0>h||h>=xc[f])H(h),H(g);else if(e.Aa){var k=g;g=Dc(e.zc);var m=Ec(e.Yb);f=Ec(e.Ac);switch(e.oc&3){case 0:k=(k|k<<8)>>>(e.rb&7)&255;var n=Dc(k);k=Ec(e.Yb);n|=f&k;n&=~f|k;n=Fc(e,n,e.i);n=g&n|~g&
e.i;break;case 1:n=e.i;break;case 2:n=Ec(k);n=Fc(e,n,e.i);n=g&n|~g&e.i;break;case 3:k=(k|k<<8)>>>(e.rb&7)&255,g&=Dc(k),n=g&m|~g&e.i}g=15;switch(e.ac&12){case 0:g=5<<(h&1);h&=-2;break;case 8:case 12:g=1<<(h&3),h&=-4}g&=e.Zb;g&1&&(e.Ze[h]=n>>0&255);g&2&&(e.$e[h]=n>>8&255);g&4&&(e.af[h]=n>>16&255);g&8&&(e.bf[h]=n>>24&255);g=Gc(e,h);n=g+7;g<e.be&&(e.be=g);n>e.ae&&(e.ae=n);g<e.$d&&(e.$d=g);n>e.Zd&&(e.Zd=n)}else e.Zb&3&&(n=h,f=(n>>1)-e.ua,h=f/e.I|0,f%=e.I,n&1?(m=g,k=e.C[n&-2]):(k=g,m=e.C[n|1]),e.A.send("screen-put-char",
[h,f,k,e.ab[e.T&e.Cb[m>>4&15]],e.ab[e.T&e.Cb[m&15]]]),e.C[n]=g)}});Pb(a.v.Fa,this)}l=yc.prototype;
l.Z=function(){var a=[];a[0]=this.ha;a[1]=this.F;a[2]=this.wc;a[3]=this.uc;a[4]=this.I;a[5]=this.Xb;a[6]=this.C;a[7]=this.Sa;a[8]=this.ua;a[9]=this.Aa;a[10]=this.ab;a[11]=this.i;a[12]=this.O;a[13]=this.R;a[14]=this.qb;a[15]=this.Pa;a[16]=this.$a;a[17]=this.Da;a[18]=this.Ia;a[19]=this.Qb;a[20]=this.sb;a[21]=this.yd;a[22]=this.o;a[23]=this.Ra;a[24]=this.Ub;a[25]=this.Cb;a[26]=this.sa;a[27]=this.Zb;a[28]=this.ac;a[29]=this.X;a[30]=this.Bc;a[31]=this.oc;a[32]=this.rb;a[33]=this.zc;a[34]=this.$;a[35]=
this.jd;a[36]=this.l;a[37]=this.V;a[38]=this.Va;a[39]=this.If;a[40]=this.yc;a[41]=this.g;a[42]=this.K;a[43]=this.Yb;a[44]=this.Ac;a[45]=this.Fc;a[46]=this.Tb;a[47]=this.Wb;a[48]=this.Vb;a[49]=this.j;a[50]=this.h;a[51]=this.N;a[52]=this.Ec;a[53]=this.K;a[54]=this.Rb;a[55]=this.Ja;a[56]=this.Zc;a[57]=this.Wa;a[58]=this.tc;a[59]=this.Sb;a[60]=this.D;a[61]=this.Md;a[62]=this.T;return a};
l.G=function(a){this.ha=a[0];this.F=a[1];this.wc=a[2];this.uc=a[3];this.I=a[4];this.Xb=a[5];a[6]&&this.C.set(a[6]);this.Sa=a[7];this.ua=a[8];this.Aa=a[9];this.ab=a[10];this.i=a[11];this.O=a[12];this.R=a[13];this.qb=a[14];this.Pa=a[15];this.$a=a[16];this.Da=a[17];this.Ia=a[18];this.Qb=a[19];this.sb=a[20];this.yd=a[21];this.o=a[22];this.Ra=a[23];this.Ub=a[24];this.Cb=a[25];this.sa=a[26];this.Zb=a[27];this.ac=a[28];this.X=a[29];this.Bc=a[30];this.oc=a[31];this.rb=a[32];this.zc=a[33];this.$=a[34];this.jd=
a[35];this.l=a[36];this.V=a[37];this.Va=a[38];this.If.set(a[39]);this.yc=a[40];this.g=a[41];this.K=a[42];this.Yb=a[43];this.Ac=a[44];this.Fc=a[45];this.Tb.set(a[46]);this.Wb=a[47];this.Vb=a[48];this.j=a[49];this.h=a[50];this.N=a[51];this.Ec=a[52];this.K=a[53];this.Rb=a[54];this.Ja=a[55];this.Zc=a[56];this.Wa=a[57];this.tc=a[58];this.Sb=a[59];this.D=a[60];a[61]&&this.Md.set(a[61]);this.T=void 0===a[62]?255:a[62];this.A.send("screen-set-mode",this.Aa);this.Aa?(this.Rd=this.rc=0,this.Ia?(this.ud(this.Pa,
this.$a,this.Qb,this.Pa,this.$a),zc(this)):(Hc(this),zc(this),Ic(this))):(this.vd(this.I,this.Xb),this.Bd(),this.Ad());Jc(this)};
function Cc(a,b){if(a.Ia&&a.yc)return a.s.Ob((b-655360|a.sb)+3758096384|0);var c=a.qb>>2&3;b-=wc[c];if(0>b||b>=xc[c])return H(b),0;a.i=a.Ze[b];a.i|=a.$e[b]<<8;a.i|=a.af[b]<<16;a.i|=a.bf[b]<<24;if(a.oc&8)return c=255,a.R&1&&(c&=a.Ze[b]^~(a.O&1?255:0)),a.R&2&&(c&=a.$e[b]^~(a.O&2?255:0)),a.R&4&&(c&=a.af[b]^~(a.O&4?255:0)),a.R&8&&(c&=a.bf[b]^~(a.O&8?255:0)),c;c=a.Bc;a.Aa?a.ac&8?(c=b&3,b&=-4):a.oc&16&&(c=b&1,b&=-2):c=0;return a.C[c<<16|b]}function Dc(a){return a|a<<8|a<<16|a<<24}
function Ec(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Fc(a,b,c){switch(a.rb&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}function Kc(a){for(var b=a.ua<<1,c,d,e=0;e<a.Xb;e++)for(var h=0;h<a.I;h++)c=a.C[b],d=a.C[b|1],a.A.send("screen-put-char",[e,h,c,a.ab[a.T&a.Cb[d>>4&15]],a.ab[a.T&a.Cb[d&15]]]),b+=2}l.Ad=function(){var a=(this.F-this.ua)/this.I|0,b=(this.F-this.ua)%this.I;a=Math.min(this.Xb-1,a);this.A.send("screen-update-cursor",[a,b])};
function Jc(a){a.Aa?a.Ia?a.s.qg():(a.$d=0,a.Zd=524288):Kc(a)}function Ic(a){a.Aa&&!a.Ia&&(a.be=0,a.ae=524288,Jc(a))}l.za=function(){};function Ac(a){var b=128+(~a.N&a.Da&64);b-=a.N&64;b-=a.Ja&64;return b>>>6}function Gc(a,b){var c=Ac(a);if(~a.Da&3){var d=b-a.ua;d&=a.Da<<13|-24577;d<<=c;var e=d/a.Ca|0;d%=a.Ca;switch(a.Da&3){case 2:e=e<<1|b>>13&1;break;case 1:e=e<<1|b>>14&1;break;case 0:e=e<<2|b>>13&3}return e*a.Ca+d+(a.ua<<c)}return b<<c}
function Lc(a,b){a.$&128&&(b>>>=1);b=Math.ceil(b/(1+(a.$&31)));a.Da&1||(b<<=1);a.Da&2||(b<<=1);return b}l.vd=function(a,b){this.I=a;this.Xb=b;this.A.send("screen-set-size-text",[a,b])};
l.ud=function(a,b,c,d,e){if(!this.B.kg||this.B.Rf!==c||this.rc!==a||this.Rd!==b||this.Ca!==d||this.ye!==e){this.rc=a;this.Rd=b;this.Ca=d;this.ye=e;this.B.Rf=c;this.B.kg=!0;this.B.rj=a;this.B.sj=b;if("undefined"!==typeof ImageData){const h=d*e,g=this.s.Xg(h)>>>0;this.mf=g;this.Lb=new ImageData(new Uint8ClampedArray(this.s.Qa.buffer,g,4*h),d,e);this.s.qg()}this.A.send("screen-set-size-graphical",[a,b,d,e,c])}};
function Hc(a){if(!a.Ia){var b=Math.min(1+a.Wb,a.Vb),c=Math.min(1+a.j,a.h);if(b&&c)if(a.Aa){b<<=3;var d=a.K<<4;a.Ja&64&&(b>>>=1,d>>>=1);var e=a.K<<2;a.N&64?e<<=1:a.Da&64&&(e>>>=1);a.ud(b,Lc(a,c),8,d,Math.ceil(xc[0]/e));Bc(a);zc(a)}else a.$&128&&(c>>>=1),c=c/(1+(a.$&31))|0,b&&c&&a.vd(b,c)}}
function zc(a){a.Aa||Kc(a);if(a.Ia)a.Jd=[];else if(a.Ca&&a.rc)if(!a.Rb||a.Sb&32)a.Jd=[],a.A.send("screen-clear");else{var b=a.Fc,c=a.Wa;a.Ja&64&&(c>>>=1);var d=a.Ec>>5&3,e=Gc(a,b+d);b=e/a.Ca|0;var h=e%a.Ca+c;e=Lc(a,1+a.D);e=Math.min(e,a.Rd);var g=a.Rd-e;a.Jd=[];h=-h;for(var f=0;h<a.rc;h+=a.Ca,f++)a.Jd.push({Lb:a.Lb,Ef:h,Ff:0,De:0,Ee:b+f,kf:a.Ca,jf:e});b=0;a.Ja&32||(b=Gc(a,d)+c);h=-b;for(f=0;h<a.rc;h+=a.Ca,f++)a.Jd.push({Lb:a.Lb,Ef:h,Ff:e,De:0,Ee:f,kf:a.Ca,jf:g})}}
function Bc(a){a.l|=8;a.Fc!==a.ua&&(a.Fc=a.ua,zc(a))}l.Bd=function(){this.A.send("screen-update-cursor-scanline",[this.wc,this.uc])};
l.Bi=function(a){if(-1===this.g)H(a),this.g=a&31,H(this.g),this.Rb!==(a&32)&&(this.Rb=a&32,zc(this));else{if(16>this.g)H(this.g),H(a),this.Cb[this.g]=a,this.Ja&64||Jc(this);else switch(this.g){case 16:H(a);if(this.Ja!==a){var b=this.Ja;this.Ja=a;var c=0<(a&1);this.Ia||this.Aa===c||(this.Aa=c,this.A.send("screen-set-mode",this.Aa));(b^a)&64&&Ic(this);Hc(this);Jc(this)}break;case 18:H(a);this.Zc!==a&&(this.Zc=a,Jc(this));break;case 19:H(a);this.Wa!==a&&(this.Wa=a&15,zc(this));break;case 20:H(a);this.tc!==
a&&(this.tc=a,Jc(this));break;default:H(this.g),H(a)}this.g=-1}};l.Dg=function(){return this.g|this.Rb};l.Ai=function(){return this.Dg()&255|this.Eg()<<8&65280};l.Eg=function(){if(16>this.g)return H(this.g),H(this.Cb[this.g]),this.Cb[this.g]&255;switch(this.g){case 16:return H(this.Ja),this.Ja;case 18:return H(this.Zc),this.Zc;case 19:return H(this.Wa),this.Wa;case 20:return H(this.tc),this.tc;default:H(this.g)}return 255};l.Ci=function(a){H(a);this.jd=a};l.Ei=function(a){this.sa=a};l.Di=function(){return this.sa};
l.Gi=function(a){switch(this.sa){case 1:H(a);var b=this.Sb;this.Sb=a;(b^a)&32&&zc(this);break;case 2:H(a);this.Zb=a;break;case 4:H(a);this.ac=a;break;default:H(this.sa),H(a)}};l.Fi=function(){H(this.sa);switch(this.sa){case 1:return this.Sb;case 2:return this.Zb;case 4:return this.ac;case 6:return 18}return 0};l.Ii=function(a){this.T=a};l.Hi=function(){return this.T};l.Ki=function(a){H(a);this.Ub=3*a;this.Sa&=0};l.Ji=function(){return this.Sa};l.Mi=function(a){this.Ra=3*a;this.Sa|=3};
l.Li=function(){return this.Ra/3&255};l.Oi=function(a){var b=this.Ra/3|0,c=this.Ra%3,d=this.ab[b];a=255*(a&63)/63|0;0===c?d=d&-16711681|a<<16:1===c?d=d&-65281|a<<8:(d=d&-256|a,H(b),H(d));this.ab[b]!==d&&(this.ab[b]=d,Jc(this));this.Ra++};l.Ni=function(){var a=this.Ub%3,b=this.ab[this.Ub/3|0];this.Ub++;return(b>>8*(2-a)&255)/255*63|0};l.Pi=function(){return this.jd};l.Ri=function(a){this.X=a};l.Qi=function(){return this.X};
l.Ti=function(a){switch(this.X){case 0:this.Yb=a;H(a);break;case 1:this.Ac=a;H(a);break;case 2:this.O=a;H(a);break;case 3:this.rb=a;H(a);break;case 4:this.Bc=a;H(a);break;case 5:var b=this.oc;this.oc=a;H(a);(b^a)&96&&Ic(this);break;case 6:H(a);this.qb!==a&&(this.qb=a,Hc(this));break;case 7:this.R=a;H(a);break;case 8:this.zc=a;H(a);break;default:H(this.X),H(a)}};
l.Si=function(){H(this.X);switch(this.X){case 0:return this.Yb;case 1:return this.Ac;case 2:return this.O;case 3:return this.rb;case 4:return this.Bc;case 5:return this.oc;case 6:return this.qb;case 7:return this.R;case 8:return this.zc}return 0};l.Vi=function(a){this.o=a};l.Ui=function(){return this.o};
l.Wi=function(a){switch(this.o){case 1:H(a);this.Wb!==a&&(this.Wb=a,Hc(this));break;case 2:this.Vb!==a&&(this.Vb=a,Hc(this));break;case 7:H(a);var b=this.j;this.j&=255;this.j=this.j|a<<3&512|a<<7&256;b!=this.j&&Hc(this);this.D=this.D&767|a<<4&256;b=this.h;this.h=this.h&767|a<<5&256;b!==this.h&&Hc(this);zc(this);break;case 8:H(a);this.Ec=a;zc(this);break;case 9:H(a);this.$=a;this.D=this.D&511|a<<3&512;b=this.h;this.h=this.h&511|a<<4&512;b!==this.h&&Hc(this);zc(this);break;case 10:H(a);this.wc=a;this.Bd();
break;case 11:H(a);this.uc=a;this.Bd();break;case 12:(this.ua>>8&255)!==a&&(this.ua=this.ua&255|a<<8,zc(this),~this.Da&3&&Ic(this));H(a);H(this.ua,4);break;case 13:(this.ua&255)!==a&&(this.ua=this.ua&65280|a,zc(this),~this.Da&3&&Ic(this));H(a);H(this.ua,4);break;case 14:H(a);this.F=this.F&255|a<<8;this.Ad();break;case 15:H(a);this.F=this.F&65280|a;this.Ad();break;case 18:H(a);(this.j&255)!==a&&(this.j=this.j&768|a,Hc(this));break;case 19:H(a);this.K!==a&&(this.K=a,Hc(this),~this.Da&3&&Ic(this));break;
case 20:H(a);this.N!==a&&(b=this.N,this.N=a,Hc(this),(b^a)&64&&Ic(this));break;case 21:H(a);(this.h&255)!==a&&(this.h=this.h&768|a,Hc(this));break;case 23:H(a);this.Da!==a&&(b=this.Da,this.Da=a,Hc(this),(b^a)&67&&Ic(this));break;case 24:H(a);this.D=this.D&768|a;zc(this);break;default:this.o<this.Tb.length&&(this.Tb[this.o]=a),H(this.o),H(a)}};
l.Fg=function(){H(this.o);switch(this.o){case 1:return this.Wb;case 2:return this.Vb;case 7:return this.j>>7&2|this.h>>5&8|this.D>>4&16|this.j>>3&64;case 8:return this.Ec;case 9:return this.$;case 10:return this.wc;case 11:return this.uc;case 12:return this.ua&255;case 13:return this.ua>>8;case 14:return this.F>>8;case 15:return this.F&255;case 18:return this.j&255;case 19:return this.K;case 20:return this.N;case 21:return this.h&255;case 23:return this.Da;case 24:return this.D&255}return this.o<
this.Tb.length?this.Tb[this.o]:0};l.Gg=function(){var a=this.l;this.Aa?(this.l^=1,this.l&=1):(this.l&1&&(this.l^=8),this.l^=1);this.g=-1;return a};l.Rh=function(a){this.V=a};
l.Th=function(a){H(this.V);H(a);switch(this.V){case 1:this.Pa=a;2560<this.Pa&&(this.Pa=2560);break;case 2:this.$a=a;1600<this.$a&&(this.$a=1600);break;case 3:this.Qb=a;break;case 4:this.Ia=1===(a&1);this.Va=a;break;case 5:H(a<<16);this.sb=a<<16;break;case 9:const b=a*this.Pa;H(b);H(a);this.yd!==b&&(this.yd=b,Jc(this))}!this.Ia||this.Pa&&this.$a||(this.Ia=!1);this.Ia&&4===this.V&&(this.ud(this.Pa,this.$a,this.Qb,this.Pa,this.$a),this.A.send("screen-set-mode",!0),this.yc=this.Aa=!0);this.Ia||(this.sb=
0);zc(this)};l.Sh=function(){H(this.V);return Mc(this,this.V)};function Mc(a,b){switch(b){case 0:return 45248;case 1:return a.Va&2?2560:a.Pa;case 2:return a.Va&2?1600:a.$a;case 3:return a.Va&2?32:a.Qb;case 4:return a.Va;case 5:return a.sb>>>16;case 6:return a.rc?a.rc:1;case 8:return 0;case 10:return a.ha/65536|0}return 255};function Nc(a,b){this.s=a;this.A=b;this.Cd=this.xc=!1;this.je=!0;this.md=this.Nb=this.Mb=0;this.$=!0;this.N=this.K=this.D=this.I=this.O=this.F=this.ee=!1;this.ea=new zb(1024);this.l=0;this.Ua=100;this.pb=this.j=this.h=0;this.Od=4;this.B=!1;this.g=new zb(1024);this.C=this.o=!1;this.A.register("keyboard-code",function(c){this.ee&&(H(c),this.ea.push(c),this.xa())},this);this.A.register("mouse-click",function(c){this.je&&this.Cd&&(this.md=c[0]|c[2]<<1|c[1]<<2,this.xc&&Oc(this,0,0))},this);this.A.register("mouse-delta",
function(c){var d=c[1];if(this.je&&this.Cd){var e=this.Od*this.Ua/80;this.Mb+=c[0]*e;this.Nb+=d*e;this.xc&&(c=this.Mb|0,d=this.Nb|0,c||d)&&(this.Mb-=c,this.Nb-=d,Oc(this,c,d))}},this);this.A.register("mouse-wheel",function(c){this.pb-=c[0];this.pb-=2*c[1];this.pb=Math.min(7,Math.max(-8,this.pb));Oc(this,0,0)},this);this.i=5;this.X=0;this.T=this.R=this.V=!1;I(a.u,96,this,this.jj);I(a.u,100,this,this.lj);J(a.u,96,this,this.kj);J(a.u,100,this,this.mj)}l=Nc.prototype;
l.Z=function(){var a=[];a[0]=this.xc;a[1]=this.Cd;a[2]=this.je;a[3]=this.Mb;a[4]=this.Nb;a[5]=this.md;a[6]=this.$;a[7]=this.ee;a[8]=this.F;a[9]=this.O;a[10]=this.I;a[11]=this.D;a[12]=this.K;a[13]=this.N;a[15]=this.l;a[16]=this.Ua;a[17]=this.Od;a[18]=this.B;a[20]=this.i;a[21]=this.V;a[22]=this.R;a[23]=this.X;a[24]=this.T;a[25]=this.j;a[26]=this.h;return a};
l.G=function(a){this.xc=a[0];this.Cd=a[1];this.je=a[2];this.Mb=a[3];this.Nb=a[4];this.md=a[5];this.$=a[6];this.ee=a[7];this.F=a[8];this.O=a[9];this.I=a[10];this.D=a[11];this.K=a[12];this.N=a[13];this.l=a[15];this.Ua=a[16];this.Od=a[17];this.B=a[18];this.i=a[20];this.V=a[21];this.R=a[22];this.X=a[23];this.T=a[24];this.j=a[25]||0;this.h=a[26]||0;this.C=this.o=!1;this.ea.clear();this.g.clear();this.A.send("mouse-enable",this.Cd)};l.xa=function(){this.o||(this.ea.length?Pc(this):this.g.length&&Qc(this))};
function Qc(a){a.o=!0;a.C=!0;a.i&2&&(Fb(a.s,12),a.s.La(12))}function Pc(a){a.o=!0;a.C=!1;a.i&1&&(Fb(a.s,1),a.s.La(1))}function Oc(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.md);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.pb&15),a.pb=0):3===a.j&&(a.g.push(a.pb),a.pb=0);a.xa()}l.jj=function(){this.o=!1;if(!this.ea.length&&!this.g.length)return this.l;this.C?(Fb(this.s,12),this.l=this.g.shift()):(Fb(this.s,1),this.l=this.ea.shift());H(this.l);(this.ea.length||this.g.length)&&this.xa();return this.l};
l.lj=function(){var a=16;this.o&&(a|=1);this.C&&(a|=32);H(a);return a};
l.kj=function(a){H(a);if(this.R)this.i=a,this.R=!1,H(this.i);else if(this.V)this.V=!1,this.g.clear(),this.g.push(a),Qc(this);else if(this.O)this.O=!1,this.g.clear(),this.g.push(250),this.Ua=a,3===this.j?0===this.h&&200===this.Ua?this.h=1:1===this.h&&200===this.Ua?this.h=2:2===this.h&&80===this.Ua?(this.h=0,this.j=4):this.h=0:0===this.j&&(0===this.h&&200===this.Ua?this.h=1:1===this.h&&100===this.Ua?this.h=2:2===this.h&&80===this.Ua?(this.h=0,this.j=3):this.h=0),H(a),H(this.j),this.Ua||(this.Ua=100),
Qc(this);else if(this.N)this.N=!1,this.g.clear(),this.g.push(250),this.Od=3<a?4:1<<a,Qc(this);else if(this.I)this.I=!1,this.ea.push(250),Pc(this);else if(this.D)this.D=!1,this.ea.push(250),Pc(this),a||this.ea.push(2);else if(this.K)this.K=!1,this.ea.push(250),Pc(this);else if(this.F){if(this.F=!1,H(a),this.je){this.ea.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.B=!1;break;case 231:this.B=!0;break;case 232:this.N=!0;break;case 233:Oc(this,0,0);break;case 235:Oc(this,0,0);break;
case 242:H(this.j);this.g.push(this.j);this.md=this.Mb=this.Nb=0;this.xa();break;case 243:this.O=!0;break;case 244:this.Cd=this.xc=!0;this.A.send("mouse-enable",!0);this.md=this.Mb=this.Nb=0;break;case 245:this.xc=!1;break;case 246:this.xc=!1;this.Ua=100;this.B=!1;this.Od=4;this.pb=this.j=this.h=0;break;case 255:this.g.push(170);this.g.push(0);this.Cd=!0;this.A.send("mouse-enable",!0);this.xc=!1;this.Ua=100;this.B=!1;this.Od=4;this.md=this.Mb=this.Nb=this.pb=this.j=this.h=0;break;default:H(a)}Qc(this)}}else if(this.T)this.T=
!1,this.X=a;else{H(a);this.g.clear();this.ea.clear();this.ea.push(250);switch(a){case 237:this.I=!0;break;case 240:this.D=!0;break;case 242:this.ea.push(171);this.ea.push(83);break;case 243:this.K=!0;break;case 244:this.ee=!0;break;case 245:this.ee=!1;break;case 246:break;case 255:this.ea.clear();this.ea.push(250);this.ea.push(170);this.ea.push(0);break;default:H(a)}Pc(this)}};
l.mj=function(a){H(a);switch(a){case 32:this.ea.clear();this.g.clear();this.ea.push(this.i);Pc(this);break;case 96:this.R=!0;break;case 209:this.T=!0;break;case 211:this.V=!0;break;case 212:this.F=!0;break;case 167:this.i|=32;break;case 168:this.i&=-33;break;case 169:this.ea.clear();this.g.clear();this.ea.push(0);Pc(this);break;case 170:this.ea.clear();this.g.clear();this.ea.push(85);Pc(this);break;case 171:this.ea.clear();this.g.clear();this.ea.push(0);Pc(this);break;case 173:this.i|=16;break;case 174:this.i&=
-17;break;case 254:hc(this.s);break;default:H(a)}};function Rc(a,b){this.h=this.g=this.M=this.B=this.j=0;this.i=-1;this.ga=b;this.D=void 0===this.ga;this.ja=void 0;this.name=this.D?"master":"slave ";this.F=!1;this.I=this.state=0;this.C=1;this.o=this.K=0;this.s=a;this.D?(this.ja=new Rc(this.s,this),this.l=function(){if(0<=this.i)nb(this.s);else{var c=this.g&this.j;if(c){c&=-c;var d=this.K?this.j:-1;this.M&&(this.M&-this.M&d)<=c?(H(this.M,2),H(this.j&255,2),H(c,2)):(this.i=pb(c),nb(this.s))}}},this.Vd=function(){if(-1!==this.i)if(0===this.g)this.i=
-1;else{var c=1<<this.i;0===(this.o&c)&&(this.g&=~c);this.C||(this.M|=c);2===this.i?this.ja.Vd():this.s.F(this.B|this.i);this.i=-1;this.l()}}):(this.l=function(){if(0<=this.i)nb(this.s);else{var c=this.g&this.j;if(c){c&=-c;var d=this.K?this.j:-1;this.M&&(this.M&-this.M&d)<=c||(this.i=pb(c),this.ga.Td(2))}}},this.Vd=function(){if(-1!==this.i)if(0===this.g)this.i=-1,this.ga.h&=-5,this.s.F(this.B|7);else{var c=1<<this.i;0===(this.o&c)&&(this.g&=~c);this.C||(this.M|=c);this.ga.h&=-5;this.s.F(this.B|this.i);
this.i=-1;this.l()}});this.D?(a=32,b=1232):(a=160,b=1233);J(this.s.u,a,this,this.Vh);I(this.s.u,a,this,this.Uh);J(this.s.u,a|1,this,this.Xh);I(this.s.u,a|1,this,this.Wh);J(this.s.u,b,this,this.ij);I(this.s.u,b,this,this.hj);this.D?(this.Td=function(c){8<=c?this.ja.Td(c-8):(c=1<<c,0===(this.h&c)&&(this.g|=c,this.h|=c,this.l()))},this.Wd=function(c){8<=c?this.ja.Wd(c-8):(c=1<<c,this.h&c&&(this.h&=~c,this.g&=~c,this.l()))}):(this.Td=function(c){c=1<<c;0===(this.h&c)&&(this.g|=c,this.h|=c,this.l())},
this.Wd=function(c){c=1<<c;this.h&c&&(this.h&=~c,this.g&=~c,this.l())})}l=Rc.prototype;l.Z=function(){var a=[];a[0]=this.j;a[1]=this.B;a[2]=this.M;a[3]=this.g;a[4]=this.D;a[5]=this.ja;a[6]=this.F;a[7]=this.state;a[8]=this.I;a[9]=this.C;a[10]=this.o;return a};l.G=function(a){this.j=a[0];this.B=a[1];this.M=a[2];this.g=a[3];this.D=a[4];this.ja&&this.ja.G(a[5]);this.F=a[6];this.state=a[7];this.I=a[8];this.C=a[9];this.o=a[10]};
l.Vh=function(a){if(a&16)H(a),this.h=this.j=this.g=this.M=0,this.C=1,this.i=-1,this.F=a&1,this.state=1;else if(a&8)H(a),a&2&&(this.I=a&1),a&64&&(this.K=32===(a&32));else{H(a);var b=a>>5;1===b?(this.M&=this.M-1,H(this.M,2)):3===b?this.M&=~(1<<(a&7)):192===(a&200)?H(a&7):(H(a),this.M&=this.M-1);this.l()}};l.Uh=function(){if(this.I)return H(this.M),this.M;H(this.g);return this.g};
l.Xh=function(a){0===this.state?this.F?(this.F=!1,this.C=a&2,H(a)):(this.j=~a,this.l()):1===this.state?(this.B=a,H(this.B),this.state++):2===this.state&&(this.state=0,H(a))};l.Wh=function(){H(~this.j&255);return~this.j&255};l.hj=function(){H(this.o,2);return this.o};l.ij=function(a){H(a,2);this.o=a};function Sc(a){this.s=a;this.sc=0;this.cc=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.B=!1;this.C=.9765625;this.o=38;this.h=2;this.vf=this.i=0;J(a.u,112,this,function(b){this.sc=b&127;this.vf=b>>7});J(a.u,113,this,this.lh);I(a.u,113,this,this.kh)}l=Sc.prototype;l.Z=function(){var a=[];a[0]=this.sc;a[1]=this.cc;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.B;a[7]=this.C;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.vf;return a};
l.G=function(a){this.sc=a[0];this.cc=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.B=a[6];this.C=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.vf=a[11]};l.yb=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.B&&this.j<a?(this.s.La(8),this.i|=192,this.j+=this.C*Math.ceil((a-this.j)/this.C)):this.l&&this.l<a&&(this.s.La(8),this.i|=160,this.l=0);let b=100;this.B&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function Tc(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,d;a;)d=a%10,c|=d<<4*b,b++,a=(a-d)/10;a=c}return a}function Uc(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
l.kh=function(){var a=this.sc;switch(a){case 0:return Tc(this,(new Date(this.g)).getUTCSeconds());case 2:return Tc(this,(new Date(this.g)).getUTCMinutes());case 4:return Tc(this,(new Date(this.g)).getUTCHours());case 7:return Tc(this,(new Date(this.g)).getUTCDate());case 8:return Tc(this,(new Date(this.g)).getUTCMonth()+1);case 9:return Tc(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return this.o;case 11:return this.h;case 12:return Fb(this.s,8),a=this.i,this.i&=-241,a;case 13:return 0;
case 50:return Tc(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return H(a),this.cc[this.sc]}};
l.lh=function(a){switch(this.sc){case 10:this.o=a&127;this.C=1E3/(32768>>(this.o&15)-1);H(this.o,2);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=Uc(this,this.cc[1]),c=Uc(this,this.cc[3]),d=Uc(this,this.cc[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),d,c,b))}H(this.h,2);break;case 1:case 3:case 5:M(this,this.sc,a);break;default:H(this.sc),H(a)}this.B=64===(this.h&64)&&0<(this.o&15)};function M(a,b,c){H(b);H(c);a.cc[b]=c};function Vc(a,b,c){this.A=c;this.s=a;this.Xa=4;this.lc=this.$b=0;this.Gc=96;this.dd=this.pf=0;this.jc=1;this.aa=this.df=this.Ve=this.Ue=0;this.input=new zb(4096);this.h=[];switch(b){case 1016:this.g=0;this.aa=4;break;case 760:this.g=1;this.aa=3;break;case 1E3:this.g=2;this.aa=4;break;case 744:this.aa=this.g=3;break;default:N("Invalid serial port: "+H(b)),this.g=0,this.aa=4}this.A.register("serial"+this.g+"-input",function(d){H(d);this.input.push(d);this.Gc|=1;this.Xa|=4096;Wc(this)},this);a=a.u;J(a,
b,this,function(d){Xc(this,d)},function(d){Xc(this,d&255);Xc(this,d>>8)});J(a,b|1,this,function(d){this.lc&128?(this.$b=this.$b&255|d<<8,H(this.$b)):(this.dd=d&15,H(d),Wc(this))});I(a,b,this,function(){if(this.lc&128)return this.$b&255;var d=this.input.shift();-1!==d&&H(d);0===this.input.length&&(this.Gc&=-2,this.Xa&=-4097,Wc(this));return d});I(a,b|1,this,function(){return this.lc&128?this.$b>>8:this.dd&15});I(a,b|2,this,function(){var d=this.jc&15|192;H(this.jc);2==this.jc&&(this.Xa&=-5,Wc(this));
return d});J(a,b|2,this,function(d){H(d);this.pf=d});I(a,b|3,this,function(){H(this.lc);return this.lc});J(a,b|3,this,function(d){H(d);this.lc=d});I(a,b|4,this,function(){return this.Ue});J(a,b|4,this,function(d){H(d);this.Ue=d});I(a,b|5,this,function(){H(this.Gc);return this.Gc});J(a,b|5,this,function(){});I(a,b|6,this,function(){H(this.Ve);return this.Ve});J(a,b|6,this,function(){});I(a,b|7,this,function(){return this.df});J(a,b|7,this,function(d){this.df=d})}
Vc.prototype.Z=function(){var a=[];a[0]=this.Xa;a[1]=this.$b;a[2]=this.lc;a[3]=this.Gc;a[4]=this.pf;a[5]=this.dd;a[6]=this.jc;a[7]=this.Ue;a[8]=this.Ve;a[9]=this.df;a[10]=this.aa;return a};Vc.prototype.G=function(a){this.Xa=a[0];this.$b=a[1];this.lc=a[2];this.Gc=a[3];this.pf=a[4];this.dd=a[5];this.jc=a[6];this.Ue=a[7];this.Ve=a[8];this.df=a[9];this.aa=a[10]};
function Wc(a){a.Xa&4096&&a.dd&1?(a.jc=12,a.s.La(a.aa)):a.Xa&4&&a.dd&2?(a.jc=2,a.s.La(a.aa)):a.Xa&1&&a.dd&8?(a.jc=0,a.s.La(a.aa)):(a.jc=1,Fb(a.s,a.aa))}function Xc(a,b){if(a.lc&128)a.$b=a.$b&-256|b;else if(H(b),a.Xa|=4,Wc(a),255!==b){var c=String.fromCharCode(b);a.A.send("serial"+a.g+"-output-char",c);a.h.push(b);"\n"===c&&(a.A.send("serial"+a.g+"-output-line",String.fromCharCode.apply("",a.h)),a.h=[])}};function Yc(a){this.s=a;var b=a.u;Pb(a.v.Fa,{Ga:56,J:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],mb:[],name:"acpi"});this.g=this.h=0;this.status=1;this.ne=this.qd=0;this.i=Zc(this,lb());this.Kb=new Uint8Array(4);I(b,45056,this,void 0,function(){return this.qd});J(b,45056,this,void 0,function(c){H(c,4);this.qd&=~c});I(b,45058,this,void 0,function(){return this.ne});J(b,45058,this,void 0,function(c){H(c);
this.ne=c});I(b,45060,this,void 0,function(){return this.status});J(b,45060,this,void 0,function(c){H(c);this.status=c});I(b,45064,this,void 0,void 0,function(){return Zc(this,lb())&16777215});I(b,45024,this,function(){return this.Kb[0]});I(b,45025,this,function(){return this.Kb[1]});I(b,45026,this,function(){return this.Kb[2]});I(b,45027,this,function(){return this.Kb[3]});J(b,45024,this,function(c){H(c);this.Kb[0]=c});J(b,45025,this,function(c){H(c);this.Kb[1]=c});J(b,45026,this,function(c){H(c);
this.Kb[2]=c});J(b,45027,this,function(c){H(c);this.Kb[3]=c})}Yc.prototype.yb=function(a){a=Zc(this,a);var b=0!==((a^this.i)&8388608);this.ne&1&&b?(this.qd|=1,this.s.La(9)):Fb(this.s,9);this.i=a;return 100};function Zc(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}Yc.prototype.Z=function(){var a=[];a[0]=this.status;a[1]=this.qd;a[2]=this.ne;a[3]=this.Kb;return a};Yc.prototype.G=function(a){this.status=a[0];this.qd=a[1];this.ne=a[2];this.Kb=a[3]};function $c(a){this.s=a;this.X=this.sa=0;this.$=1;this.g=this.o=0;this.l=lb();this.N=this.R=this.O=this.T=this.i=65536;this.I=this.F=this.B=0;this.h=new Int32Array(8);this.M=new Int32Array(8);this.j=new Int32Array(8);this.V=254;this.D=-1;this.C=this.error=this.K=0;fb(a.u,4276092928,1048576,b=>{H(b>>>0);var c=b&3;return this.Qc(b&-4)>>8*c&255},(b,c)=>{H(b);H(c)},b=>this.Qc(b),(b,c)=>this.zb(b,c))}l=$c.prototype;
l.Qc=function(a){a=a-4276092928|0;switch(a){case 32:return this.sa;case 48:return 327700;case 128:return this.B;case 208:return this.K;case 224:return this.D;case 240:return this.V;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return a=a-256>>4,H(this.M[a]>>>0,8),this.M[a];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return a=a-384>>4,H(this.j[a]>>>0,8),this.j[a];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return a=a-
512>>4,H(this.h[a]>>>0,8),this.h[a];case 640:return H(this.C>>>0,8),this.C;case 768:return this.F;case 784:return this.I;case 800:return this.i;case 832:return this.T;case 848:return this.O;case 864:return this.R;case 880:return this.N;case 992:return this.X;case 896:return this.o;case 912:return H(this.g>>>0,8),this.g;default:return H(a),0}};
l.zb=function(a,b){a=a-4276092928|0;switch(a){case 48:H(b>>>0,8);break;case 128:this.B=b&255;ad(this);break;case 176:b=bd(this.M);if(-1!==b){cd(this.M,b);if(this.j[b>>5]>>(b&31)&1){a=this.s.v.Dc;for(var c=0;24>c;c++){var d=a.g[c];(d&255)===b&&d&16384&&(H(c),a.g[c]&=-16385,dd(a,c))}}ad(this)}break;case 208:H(b>>>0,8);this.K=b&4278190080;break;case 224:H(b>>>0,8);this.D=b|16777215;break;case 240:H(b>>>0,8);this.V=b;break;case 640:H(b>>>0,8);this.C=this.error;this.error=0;break;case 768:a=b&255;c=b>>
8&7;d=b>>15&1;var e=b>>18&3;H(b,8);H(a,2);this.F=b&-4097;0===e?ed(this,a,c,d):1===e?ed(this,a,0,d):2===e&&ed(this,a,c,d);break;case 784:H(b>>>0,8);this.I=b;break;case 800:H(b>>>0,8);this.i=b;break;case 832:H(b>>>0,8);this.T=b;break;case 848:H(b>>>0,8);this.O=b;break;case 864:H(b>>>0,8);this.R=b;break;case 880:H(b>>>0,8);this.N=b;break;case 992:H(b>>>0,8);this.X=b;b=b&3|(b&8)>>1;this.$=7===b?0:b+1;break;case 896:H(b>>>0,8);this.o=b>>>0;this.g=b>>>0;this.l=lb();break;case 912:H(b>>>0,8);break;default:H(a),
H(b>>>0,8)}};l.yb=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.$);a=(a-this.l)*b>>>0;this.l+=a/b;this.g-=a;0>=this.g&&(a=this.i&393216,131072===a?(this.g%=this.o,0>=this.g&&(this.g+=this.o),0===(this.i&65536)&&ed(this,this.i&255,0,!1)):0===a&&(this.g=0,0===(this.i&65536)&&ed(this,this.i&255,0,!1)));return Math.max(0,this.g/b)};function ed(a,b,c,d){5!==c&&4!==c&&(a.h[b>>5]>>(b&31)&1?H(b,2):(gd(a.h,b),d?gd(a.j,b):cd(a.j,b),ad(a)))}
function ad(a){var b=bd(a.h);-1!==b&&(bd(a.M)>=b||(b&240)<=(a.B&240)||nb(a.s))}l.Vd=function(){var a=bd(this.h);-1===a||bd(this.M)>=a||(a&240)<=(this.B&240)||(cd(this.h,a),gd(this.M,a),this.s.F(a),ad(this))};
l.Z=function(){var a=[];a[0]=this.sa;a[1]=this.X;a[2]=this.$;a[3]=this.o;a[4]=this.g;a[5]=this.l;a[6]=this.i;a[7]=this.T;a[8]=this.O;a[9]=this.R;a[10]=this.N;a[11]=this.B;a[12]=this.F;a[13]=this.I;a[14]=this.h;a[15]=this.M;a[16]=this.j;a[17]=this.V;a[18]=this.D;a[19]=this.K;a[20]=this.error;a[21]=this.C;return a};
l.G=function(a){this.sa=a[0];this.X=a[1];this.$=a[2];this.o=a[3];this.g=a[4];this.l=a[5];this.i=a[6];this.T=a[7];this.O=a[8];this.R=a[9];this.N=a[10];this.B=a[11];this.F=a[12];this.I=a[13];this.h=a[14];this.M=a[15];this.j=a[16];this.V=a[17];this.D=a[18];this.K=a[19];this.error=a[20];this.C=a[21]};function gd(a,b){a[b>>5]|=1<<(b&31)}function cd(a,b){a[b>>5]&=~(1<<(b&31))}function bd(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return qb(c>>>0)|b<<5}return-1};function hd(a){this.s=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;fb(a.u,4273995776,131072,c=>{c=c-4273995776|0;if(16<=c&&20>c)return c-=16,H(this.j),this.read(this.j)>>8*c&255;H(c>>>0);return 0},c=>{H(c>>>0)},c=>{c=c-4273995776|0;if(0===c)return this.j;if(16===c)return this.read(this.j);H(c>>>0);return 0},(c,d)=>{c=c-4273995776|0;0===c?this.j=d:16===c?this.write(this.j,d):(H(c>>>0),H(d>>>0,8))})}
function dd(a,b){var c=1<<b;if(0!==(a.h&c)){var d=a.g[b];if(0===(d&65536)){var e=d>>8&7;if(0===(d&32768))a.h&=~c;else if(a.g[b]|=16384,d&16384)return;0!==e&&1!==e||ed(a.s.v.Uc,d&255,e,32768===(d&32768));a.g[b]&=-4097}}}l=hd.prototype;l.Td=function(a){if(!(24<=a)){var b=1<<a;0===(this.i&b)&&(this.i|=b,65536!==(this.g[a]&98304)&&(this.h|=b,dd(this,a)))}};l.Wd=function(a){if(!(24<=a)){var b=1<<a;(this.i&b)===b&&(this.i&=~b,this.g[a]&32768&&(this.h&=~b))}};
l.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;a=a&1?this.o[b]:this.g[b];H(b);H(a,8);return a}H(a);return 0};l.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a)if(16<=a&&64>a){var c=a-16>>1;a&1?(this.o[c]=b&4278190080,H(b>>>0,8),H(c),H(b>>>24,2)):(this.g[c]=b&110591|this.g[c]&-110592,a=b&255,H(b>>>0,8),H(c),H(a,2),dd(this,c))}else H(a),H(b>>>0,8)};
l.Z=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};l.G=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function id(a){this.message=a}id.prototype=Error();const jd={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function kd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array)return a.map(e=>kd(e,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.Z();c=[];for(var d=0;d<a.length;d++)c[d]=kd(a[d],b);return c}
function ld(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array){for(let c=0;c<a.length;c++)a[c]=ld(a[c],b);return a}return new jd[a.__state_type__](b[a.buffer_id])}
hb.prototype.re=function(){for(var a=[],b=kd(this,a),c=[],d=0,e=0;e<a.length;e++){var h=a[e].byteLength;c[e]={offset:d,length:h};d+=h;d=d+3&-4}e=JSON.stringify({buffer_infos:c,state:b});e=(new TextEncoder).encode(e);b=16+e.length;b=b+3&-4;h=b+d;d=new ArrayBuffer(h);var g=new Int32Array(d,0,4);(new Uint8Array(d,16,e.length)).set(e);b=new Uint8Array(d,b);g[0]=-2039052682;g[1]=6;g[2]=h;g[3]=e.length;for(e=0;e<a.length;e++)b.set(a[e],c[e].offset);return d};
hb.prototype.Pd=function(a){function b(p,u){const q=p.length;if(16>q)throw new id("Invalid length: "+q);p=new Int32Array(p.buffer,p.byteOffset,4);if(-2039052682!==p[0])throw new id("Invalid header: "+H(p[0]>>>0));if(6!==p[1])throw new id("Version mismatch: dump="+p[1]+" we=6");if(u&&p[2]!==q)throw new id("Length doesn't match header: real="+q+" header="+p[2]);return p[3]}function c(p){p=(new TextDecoder).decode(p);return JSON.parse(p)}a=new Uint8Array(a);if(4247762216===(new Uint32Array(a.buffer,
0,1))[0]){var d=this.Lj(a.length);(new Uint8Array(this.Qa.buffer,this.Nj(d),a.length)).set(a);var e=this.Ae(d,16),h=new Uint8Array(this.Qa.buffer,e,16),g=b(h,!1);this.Be(e,16);e=this.Ae(d,g);h=new Uint8Array(this.Qa.buffer,e,g);h=c(h);this.Be(e,g);e=h.state;var f=h.buffer_infos;h=[];g=16+g;for(var k of f){f=(g+3&-4)-g;if(1048576<k.length){var m=this.Ae(d,f);this.Be(m,f);m=new Uint8Array(k.length);h.push(m.buffer);for(var n=0;n<k.length;){const p=Math.min(k.length-n,1048576),u=this.Ae(d,p);m.set(new Uint8Array(this.Qa.buffer,
u,p),n);this.Be(u,p);n+=p}}else m=this.Ae(d,f+k.length),n=m+f,h.push(this.Qa.buffer.slice(n,n+k.length)),this.Be(m,f+k.length);g+=f+k.length}e=ld(e,h);this.G(e);this.Mj(d)}else{k=b(a,!0);if(0>k||k+12>=a.length)throw new id("Invalid info block length: "+k);e=c(a.subarray(16,16+k));d=e.state;e=e.buffer_infos;let p=16+k;p=p+3&-4;k=e.map(u=>{const q=p+u.offset;return a.buffer.slice(q,q+u.length)});d=ld(d,k);this.G(d)}};function md(a,b,c){this.s=a;this.Fa=a.v.Fa;this.pc=c;this.A=b;this.A.register("net0-receive",function(d){if(!(this.Ka&1)&&(this.A.send("eth-receive-end",[d.length]),this.Qd&16||this.Qd&4&&255===d[0]&&255===d[1]&&255===d[2]&&255===d[3]&&255===d[4]&&255===d[5]||!(this.Qd&8&&1===(d[0]&1)||d[0]!==this.fa[0]||d[1]!==this.fa[1]||d[2]!==this.fa[2]||d[3]!==this.fa[3]||d[4]!==this.fa[4]||d[5]!==this.fa[5]))){var e=this.fb<<8,h=Math.max(60,d.length)+4,g=e+4,f=this.fb+1+(h>>8),k=e+h,m=1+(h>>8),n=this.Ab>this.fb?
this.Ab-this.fb:this.Oa-this.fb+this.Ab-this.wb;n<m&&0!==this.Ab?(H(this.wb),H(this.Oa),H(this.fb),H(m),H(this.Ab),H(n)):(k>this.Oa<<8?(k=(this.Oa<<8)-g,this.memory.set(d.subarray(0,k),g),this.memory.set(d.subarray(k),this.wb<<8),H(k)):(this.memory.set(d,g),60>d.length&&this.memory.fill(0,g+d.length,g+60)),f>=this.Oa&&(f+=this.wb-this.Oa),this.memory[e]=1,this.memory[e+1]=f,this.memory[e+2]=h,this.memory[e+3]=h>>8,this.fb=f,H(e),H(h),H(f),nd(this,1))}},this);this.port=768;this.name="ne2k";this.J=
[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Ga=40;this.mb=[{size:32}];this.Pe=this.M=0;this.Ka=1;this.ff=this.zd=this.xb=this.Yd=0;this.memory=new Uint8Array(32768);this.gf=this.Qd=0;this.Kf=1;this.fa=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);for(b=0;6>b;b++)this.memory[b<<1]=this.memory[b<<1|1]=this.fa[b];this.memory[28]=this.memory[29]=
87;this.memory[30]=this.memory[31]=87;N("Mac: "+H(this.fa[0],2)+":"+H(this.fa[1],2)+":"+H(this.fa[2],2)+":"+H(this.fa[3],2)+":"+H(this.fa[4],2)+":"+H(this.fa[5],2));this.ra=0;this.wb=64;this.Oa=128;this.Ab=this.fb=76;b=a.u;I(b,this.port|0,this,function(){return this.Ka});J(b,this.port|0,this,function(d){this.Ka=d;H(d,2);H(this.gf,2);this.Ka&1||(d&24&&0===this.xb&&nd(this,64),d&4&&(d=this.ff<<8,d=this.memory.subarray(d,d+this.zd),this.A.send("net0-send",d),this.A.send("eth-transmit-end",[d.length]),
this.Ka&=-5,nd(this,2),H(d.byteLength)))});I(b,this.port|13,this,function(){return 0});I(b,this.port|14,this,function(){return 0});I(b,this.port|15,this,function(){return 0});I(b,this.port|31,this,function(){0===P(this)&&nd(this,128);return 0});J(b,this.port|31,this,function(d){0===P(this)?H(d,2):H(d)});I(b,this.port|1,this,function(){var d=P(this);return 0===d?this.wb:1===d?this.fa[0]:2===d?this.wb:0});J(b,this.port|1,this,function(d){var e=P(this);0===e?(H(d,2),this.wb=d):1===e?(H(d),this.fa[0]=
d):H(d)});I(b,this.port|2,this,function(){var d=P(this);return 0===d?this.Oa:1===d?this.fa[1]:2===d?this.Oa:0});J(b,this.port|2,this,function(d){var e=P(this);0===e?(H(d,2),d>this.memory.length>>8&&(d=this.memory.length>>8,H(d)),this.Oa=d):1===e?(H(d),this.fa[1]=d):H(d)});I(b,this.port|7,this,function(){var d=P(this);if(0===d)return H(this.M,2),this.M;if(1===d)return H(this.fb,2),this.fb});J(b,this.port|7,this,function(d){var e=P(this);0===e?(H(d,2),this.M&=~d,od(this)):1===e&&(H(d,2),this.fb=d)});
J(b,this.port|13,this,function(d){0===P(this)&&(this.gf=d);H(d,2)});J(b,this.port|14,this,function(d){0===P(this)?(H(d,2),this.Yd=d):H(d,2)});I(b,this.port|10,this,function(){return 0===P(this)?80:0});J(b,this.port|10,this,function(d){0===P(this)?(H(d,2),this.xb=this.xb&65280|d&255):H(d,2)});I(b,this.port|11,this,function(){return 0===P(this)?67:0});J(b,this.port|11,this,function(d){0===P(this)?(H(d,2),this.xb=this.xb&255|d<<8&65280):H(d,2)});I(b,this.port|8,this,function(){if(0===P(this))return this.ra&
255});J(b,this.port|8,this,function(d){0===P(this)?(H(d,2),this.ra=this.ra&65280|d&255):H(d,2)});I(b,this.port|9,this,function(){if(0===P(this))return this.ra>>8&255});J(b,this.port|9,this,function(d){0===P(this)?(H(d,2),this.ra=this.ra&255|d<<8&65280):H(d,2)});J(b,this.port|15,this,function(d){0===P(this)?(H(d,2),H(this.M,2),this.Pe=d,od(this)):H(d,2)});I(b,this.port|3,this,function(){var d=P(this);return 0===d?(H(this.Ab,2),this.Ab):1===d?this.fa[2]:0});J(b,this.port|3,this,function(d){var e=P(this);
0===e?(H(d,2),this.Ab=d):1===e?(H(d),this.fa[2]=d):H(d)});I(b,this.port|4,this,function(){var d=P(this);return 0===d?this.Kf:1===d?this.fa[3]:0});J(b,this.port|4,this,function(d){var e=P(this);0===e?(H(d,2),this.ff=d):1===e?(H(d),this.fa[3]=d):H(d)});I(b,this.port|5,this,function(){var d=P(this);return 0===d?0:1===d?this.fa[4]:0});J(b,this.port|5,this,function(d){var e=P(this);0===e?(H(d,2),this.zd=this.zd&-256|d):1===e?(H(d),this.fa[4]=d):H(d)});I(b,this.port|6,this,function(){var d=P(this);return 0===
d?0:1===d?this.fa[5]:0});J(b,this.port|6,this,function(d){var e=P(this);0===e?(H(d,2),this.zd=this.zd&255|d<<8):1===e?(H(d),this.fa[5]=d):H(d)});I(b,this.port|12,this,function(){return 0===P(this)?9:0});J(b,this.port|12,this,function(d){0===P(this)?(H(d,2),this.Qd=d):H(d)});I(b,this.port|16,this,this.nh,this.Vf,this.mh);J(b,this.port|16,this,this.Wf,this.Wf,this.oh);Pb(a.v.Fa,this)}l=md.prototype;
l.Z=function(){var a=[];a[0]=this.M;a[1]=this.Pe;a[2]=this.Ka;a[3]=this.Yd;a[4]=this.xb;a[5]=this.zd;a[6]=this.ff;a[7]=this.ra;a[8]=this.wb;a[9]=this.fb;a[10]=this.Ab;a[11]=this.Oa;a[12]=this.Qd;a[13]=this.gf;a[14]=this.Kf;a[15]=this.fa;a[16]=this.memory;return a};
l.G=function(a){this.M=a[0];this.Pe=a[1];this.Ka=a[2];this.Yd=a[3];this.xb=a[4];this.zd=a[5];this.ff=a[6];this.ra=a[7];this.wb=a[8];this.fb=a[9];this.Ab=a[10];this.Oa=a[11];this.Qd=a[12];this.gf=a[13];this.Kf=a[14];this.pc&&(this.fa=a[15],this.memory=a[16])};function nd(a,b){H(b,2);a.M|=b;od(a)}function od(a){a.Pe&a.M?a.Fa.xa(a.Ga):ic(a.Fa,a.Ga)}function pd(a,b){if(16>=a.ra||16384<=a.ra&&32768>a.ra)a.memory[a.ra]=b;a.ra++;a.xb--;a.ra>=a.Oa<<8&&(a.ra+=a.wb-a.Oa<<8);0===a.xb&&nd(a,64)}
l.Wf=function(a){pd(this,a);this.Yd&1&&pd(this,a>>8)};l.oh=function(a){pd(this,a);pd(this,a>>8);pd(this,a>>16);pd(this,a>>24)};function qd(a){let b=0;32768>a.ra&&(b=a.memory[a.ra]);a.ra++;a.xb--;a.ra>=a.Oa<<8&&(a.ra+=a.wb-a.Oa<<8);0===a.xb&&nd(a,64);return b}l.nh=function(){return this.Vf()&255};l.Vf=function(){return this.Yd&1?qd(this)|qd(this)<<8:qd(this)};l.mh=function(){return qd(this)|qd(this)<<8|qd(this)<<16|qd(this)<<24};function P(a){return a.Ka>>6&3};var rd=new Uint8Array(256),sd=[],td=[],ud=[],vd=new Uint8Array(256),wd=[];
function xd(a,b){this.s=a;this.A=b;this.ya=new zb(64);this.ba=new zb(64);this.h=this.o=this.cb=this.I=0;this.L=new Uint8Array(256);yd(this);this.Id=!1;this.te=0;this.vb=this.ub=this.bd=this.hc=!1;this.Bb=[new Ab,new Ab];this.gb=a.v.gb;this.hb=this.fc=this.j=this.Fb=this.l=this.D=0;this.Gb=1;this.ad=5;this.Eb=!1;this.g=new ArrayBuffer(65536);this.X=new Int8Array(this.g);this.C=new Uint8Array(this.g);this.V=new Int16Array(this.g);this.$=new Uint16Array(this.g);this.Ra=new yb(this.g);this.Hb=this.B=
!1;this.Za=22050;b.send("dac-tell-sampling-rate",this.Za);this.i=1;this.N=170;this.K=0;this.Vc=new Uint8Array(256);this.F=new zb(64);this.R=this.O=this.T=0;this.yh=!1;this.aa=5;this.gd=new Uint8Array(16);a.u.td(544,this,this.zg,this.Bg,this.Yh,this.$h);a.u.td(904,this,this.zg,this.Bg);a.u.td(548,this,this.bi,this.di);I(a.u,550,this,this.fi);I(a.u,551,this,this.hi);I(a.u,552,this,this.ji);I(a.u,553,this,this.li);I(a.u,554,this,this.ni);I(a.u,555,this,this.pi);I(a.u,556,this,this.si);I(a.u,557,this,
this.ui);a.u.td(558,this,this.wi,this.yi);a.u.Pb(544,this,this.Ag,this.Cg,this.Zh,this.ai);a.u.Pb(904,this,this.Ag,this.Cg);a.u.Pb(548,this,this.ci,this.ei);J(a.u,550,this,this.gi);J(a.u,551,this,this.ii);a.u.Pb(552,this,this.ki,this.mi);J(a.u,554,this,this.oi);J(a.u,555,this,this.ri);J(a.u,556,this,this.ti);J(a.u,557,this,this.vi);J(a.u,558,this,this.xi);J(a.u,559,this,this.zi);a.u.td(816,this,this.dj,this.fj);a.u.Pb(816,this,this.ej,this.gj);this.gb.hf.push({Ne:this.sa,Jf:this});b.register("dac-request-data",
function(){!this.Fb||this.Hb?zd(this):Ad(this)},this);b.register("speaker-has-initialized",function(){yd(this)},this);b.send("speaker-confirm-initialized");Bd(this)}function Bd(a){a.ya.clear();a.ba.clear();a.cb=0;a.o=0;a.Id=!1;a.te=0;a.hc=!1;a.bd=!1;a.ub=!1;a.vb=!1;a.Bb[0].clear();a.Bb[1].clear();a.D=0;a.l=0;a.Fb=0;a.j=0;a.fc=0;a.hb=0;a.Eb=!1;a.C.fill(0);a.B=!1;a.Hb=!1;a.N=170;a.K=0;a.Za=22050;a.i=1;Cd(a,1);a.gd.fill(0);a.Vc.fill(0);a.Vc[5]=1;a.Vc[9]=248}l=xd.prototype;
l.Z=function(){var a=[];a[2]=this.I;a[3]=this.cb;a[4]=this.o;a[5]=this.h;a[6]=this.L;a[7]=this.Id;a[8]=this.te;a[9]=this.hc;a[10]=this.bd;a[11]=this.ub;a[12]=this.vb;a[15]=this.D;a[16]=this.l;a[17]=this.Fb;a[18]=this.j;a[19]=this.fc;a[20]=this.hb;a[21]=this.Gb;a[22]=this.ad;a[23]=this.Eb;a[24]=this.C;a[25]=this.B;a[26]=this.Hb;a[27]=this.Za;a[28]=this.i;a[29]=this.N;a[30]=this.K;a[31]=this.Vc;a[33]=this.Wa;a[34]=this.aa;a[35]=this.gd;return a};
l.G=function(a){this.I=a[2];this.cb=a[3];this.o=a[4];this.h=a[5];this.L=a[6];Dd(this);this.Id=a[7];this.te=a[8];this.hc=a[9];this.bd=a[10];this.ub=a[11];this.vb=a[12];this.D=a[15];this.l=a[16];this.Fb=a[17];this.j=a[18];this.fc=a[19];this.hb=a[20];this.Gb=a[21];this.ad=a[22];this.Eb=a[23];this.C=a[24];this.B=a[25];this.Hb=a[26];this.Za=a[27];this.i=a[28];this.N=a[29];this.K=a[30];this.Vc=a[31];this.Wa=a[33];this.aa=a[34];this.gd=a[35];this.g=this.C.buffer;this.X=new Int8Array(this.g);this.V=new Int16Array(this.g);
this.$=new Uint16Array(this.g);this.Ra=new yb(this.g);this.Hb?this.A.send("dac-disable"):this.A.send("dac-enable")};l.zg=function(){return 255};l.Bg=function(){return 255};l.Yh=function(){return 255};l.$h=function(){return 255};l.bi=function(){return this.h};l.di=function(){var a=this.h,b=td[a];b?b=b.call(this):(b=this.L[a],H(a),H(b));return b};l.fi=function(){return 255};l.hi=function(){return 255};l.ji=function(){return 255};l.li=function(){return 255};
l.ni=function(){this.ba.length&&(this.I=this.ba.shift());H(this.I);return this.I};l.pi=function(){return 255};l.si=function(){return 127};l.ui=function(){return 255};l.wi=function(){this.gd[1]&&Cd(this,1);return(this.ba.length&&!this.hc)<<7|127};l.yi=function(){Cd(this,2);return 0};l.Ag=function(a){H(a);this.O=0};l.Cg=function(a){H(a);var b=wd[this.O];b||(b=this.Me);b.call(this,a,0,this.O)};l.Zh=function(a){H(a);this.R=0};l.ai=function(a){H(a);var b=wd[this.R];b||(b=this.Me);b.call(this,a,1,this.R)};
l.ci=function(a){H(a);this.h=a};l.ei=function(a){H(a);Ed(this,this.h,a)};l.gi=function(a){H(a);this.hc?this.hc=!1:a&&Bd(this);this.ba.clear();this.ba.push(170)};l.ii=function(){};l.ki=function(){};l.mi=function(){};l.oi=function(){};l.ri=function(){};l.ti=function(a){0===this.cb?(H(a),this.cb=a,this.ya.clear(),this.o=rd[a]):(H(a),this.ya.push(a));this.ya.length>=this.o&&(a=sd[this.cb],a||(a=this.He),a.call(this),this.o=this.cb=0,this.ya.clear())};l.vi=function(){};l.xi=function(){};l.zi=function(){};
l.dj=function(){this.F.length&&(this.T=this.F.shift());H(this.T);return this.T};l.ej=function(a){H(a)};l.fj=function(){return 0|128*!this.F.length};l.gj=function(a){H(a);255==a&&(this.F.clear(),this.F.push(254))};l.He=function(){H(this.cb)};function S(a,b,c){c||(c=xd.prototype.He);for(var d=0;d<a.length;d++)rd[a[d]]=b,sd[a[d]]=c}function Fd(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}S([14],2,function(){this.Vc[this.ya.shift()]=this.ya.shift()});S([15],1,function(){this.ba.clear();this.ba.push(this.Vc[this.ya.shift()])});
S([16],1,function(){var a=this.ya.shift();a=Gd(a/127.5+-1);this.Bb[0].push(a);this.Bb[1].push(a);this.A.send("dac-enable")});S([20,21],2,function(){this.fc=1;this.hb=this.Gb;this.hc=this.ub=this.vb=this.Eb=!1;Hd(this);Id(this)});S([22],2);S([23],2);S([28],0,function(){this.fc=1;this.hb=this.Gb;this.Eb=!0;this.hc=this.ub=this.vb=!1;Id(this)});S([31],0);S([32],0,function(){this.ba.clear();this.ba.push(127)});S([36],2);S([44],0);S([48],0);S([49],0);S([52],0);S([53],0);S([54],0);S([55],0);S([56],0);
S([64],1,function(){Jd(this,1E6/(256-this.ya.shift())/(this.bd?2:1))});S([65,66],2,function(){Jd(this,this.ya.shift()<<8|this.ya.shift())});S([72],2,function(){Hd(this)});S([116],2);S([117],2);S([118],2);S([119],2);S([125],0);S([127],0);S([128],2);S([144],0,function(){this.fc=1;this.hb=this.Gb;this.Eb=!0;this.vb=!1;this.hc=!0;this.ub=!1;Id(this)});S([145],0);S([152],0);S([153],0);S([160],0);S([168],0);
S(Fd(176),3,function(){if(this.cb&8)this.He();else{var a=this.ya.shift();this.fc=2;this.hb=this.ad;this.Eb=!!(this.cb&4);this.vb=!!(a&16);this.bd=!!(a&32);this.ub=!0;Hd(this);Id(this)}});S(Fd(192),3,function(){if(this.cb&8)this.He();else{var a=this.ya.shift();this.fc=1;this.hb=this.Gb;this.Eb=!!(this.cb&4);this.vb=!!(a&16);this.bd=!!(a&32);this.ub=!1;Hd(this);Id(this)}});S([208],0,function(){this.Hb=!0;this.A.send("dac-disable")});S([209],0,function(){this.Id=!0});S([211],0,function(){this.Id=!1});
S([212],0,function(){this.Hb=!1;this.A.send("dac-enable")});S([213],0,function(){this.Hb=!0;this.A.send("dac-disable")});S([214],0,function(){this.Hb=!1;this.A.send("dac-enable")});S([216],0,function(){this.ba.clear();this.ba.push(255*this.Id)});S([217,218],0,function(){this.Eb=!1});S([224],1,function(){this.ba.clear();this.ba.push(~this.ya.shift())});S([225],0,function(){this.ba.clear();this.ba.push(4);this.ba.push(5)});S([226],1);
S([227],0,function(){this.ba.clear();for(var a=0;44>a;a++)this.ba.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.ba.push(0)});S([228],1,function(){this.te=this.ya.shift()});S([232],0,function(){this.ba.clear();this.ba.push(this.te)});S([242,243],0,function(){this.xa()});var Kd=new Uint8Array(256);Kd[14]=255;Kd[15]=7;Kd[55]=56;S([249],1,function(){var a=this.ya.shift();this.ba.clear();this.ba.push(Kd[a])});function Ed(a,b,c){var d=ud[b];d?d.call(a,c):(H(b),H(c))}
xd.prototype.Sa=function(){H(this.h);return this.L[this.h]};xd.prototype.Va=function(a){H(this.h);H(a);this.L[this.h]=a};function yd(a){a.L[4]=204;a.L[34]=204;a.L[38]=204;a.L[40]=0;a.L[46]=0;a.L[10]=0;a.L[48]=192;a.L[49]=192;a.L[50]=192;a.L[51]=192;a.L[52]=192;a.L[53]=192;a.L[54]=0;a.L[55]=0;a.L[56]=0;a.L[57]=0;a.L[59]=0;a.L[60]=31;a.L[61]=21;a.L[62]=11;a.L[63]=0;a.L[64]=0;a.L[65]=0;a.L[66]=0;a.L[67]=0;a.L[68]=128;a.L[69]=128;a.L[70]=128;a.L[71]=128;Dd(a)}
function Dd(a){for(var b=1;b<a.L.length;b++)vd[b]||Ed(a,b,a.L[b])}function Ld(a,b){b||(b=xd.prototype.Sa);td[a]=b}function Md(a,b){b||(b=xd.prototype.Va);ud[a]=b}function Nd(a,b,c){vd[a]=1;td[a]=function(){return this.L[b]&240|this.L[c]>>>4};ud[a]=function(d){this.L[a]=d;var e=d<<4&240|this.L[c]&15;Ed(this,b,d&240|this.L[b]&15);Ed(this,c,e)}}function Od(a,b,c){td[a]=xd.prototype.Sa;ud[a]=function(d){this.L[a]=d;this.A.send("mixer-volume",[b,c,(d>>>2)-62])}}Ld(0,function(){yd(this);return 0});Md(0);
Nd(4,50,51);Nd(34,48,49);Nd(38,52,53);Nd(40,54,55);Nd(46,56,57);Od(48,0,0);Od(49,0,1);Od(50,2,0);Od(51,2,1);Ld(59);Md(59,function(a){this.L[59]=a;this.A.send("mixer-volume",[1,2,6*(a>>>6)-18])});Ld(65);Md(65,function(a){this.L[65]=a;this.A.send("mixer-gain-left",6*(a>>>6))});Ld(66);Md(66,function(a){this.L[66]=a;this.A.send("mixer-gain-right",6*(a>>>6))});Ld(68);Md(68,function(a){this.L[68]=a;a>>>=3;this.A.send("mixer-treble-left",a-(16>a?14:16))});Ld(69);
Md(69,function(a){this.L[69]=a;a>>>=3;this.A.send("mixer-treble-right",a-(16>a?14:16))});Ld(70);Md(70,function(a){this.L[70]=a;a>>>=3;this.A.send("mixer-bass-right",a-(16>a?14:16))});Ld(71);Md(71,function(a){this.L[71]=a;a>>>=3;this.A.send("mixer-bass-right",a-(16>a?14:16))});Ld(128,function(){switch(this.aa){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});Md(128,function(a){a&1&&(this.aa=2);a&2&&(this.aa=5);a&4&&(this.aa=7);a&8&&(this.aa=10)});
Ld(129,function(){var a=0;switch(this.Gb){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.ad){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});Md(129,function(a){a&1&&(this.Gb=0);a&2&&(this.Gb=1);a&8&&(this.Gb=3);a&32&&(this.ad=5);a&64&&(this.ad=6);a&128&&(this.ad=7)});Ld(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.gd[b];return a});xd.prototype.Me=function(a,b,c){H(c);H(a)};function Pd(a,b){b||(b=xd.prototype.Me);for(var c=0;c<a.length;c++)wd[a[c]]=b}
function Qd(a,b){for(var c=[];a<=b;a++)c.push(a);return c}var Rd=new Uint8Array(32);Rd[0]=0;Rd[1]=1;Rd[2]=2;Rd[3]=3;Rd[4]=4;Rd[5]=5;Rd[8]=6;Rd[9]=7;Rd[10]=8;Rd[11]=9;Rd[12]=10;Rd[13]=11;Rd[16]=12;Rd[17]=13;Rd[18]=14;Rd[19]=15;Rd[20]=16;Rd[21]=17;Pd([1],function(a,b){this.yh[b]=a&1});Pd([2]);Pd([3]);Pd([4],function(){});Pd([5],function(a,b,c){0===b&&this.Me(a,b,c)});Pd([8],function(){});Pd(Qd(32,53),function(){});Pd(Qd(64,85),function(){});Pd(Qd(96,117),function(){});Pd(Qd(128,149),function(){});
Pd(Qd(160,168),function(){});Pd(Qd(176,184),function(){});Pd([189],function(){});Pd(Qd(192,200),function(){});Pd(Qd(224,245),function(){});function Jd(a,b){a.Za=b;a.A.send("dac-tell-sampling-rate",b)}function Hd(a){a.D=1+(a.ya.shift()<<0)+(a.ya.shift()<<8)}function Id(a){a.i=1;a.ub&&(a.i*=2);a.l=a.D*a.i;a.j=1024*a.i;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.B=!0;a.gb.bc[a.hb]||a.sa(a.hb)}xd.prototype.sa=function(a){a===this.hb&&this.B&&(this.B=!1,this.Fb=this.l,this.Hb=!1,this.A.send("dac-enable"))};
function Ad(a){var b=Math.min(a.Fb,a.j),c=Math.floor(b/a.i);a.gb.ce(a.Ra,0,b,a.hb,d=>{if(!d){d=a.ub?32767.5:127.5;var e=a.vb?0:-1,h=a.bd?1:2,g;a.ub?g=a.vb?a.V:a.$:g=a.vb?a.X:a.C;for(var f=0,k=0;k<c;k++)for(var m=Gd(g[k]/d+e),n=0;n<h;n++)a.Bb[f].push(m),f^=1;zd(a);a.Fb-=b;a.Fb||(a.xa(a.fc),a.Eb&&(a.Fb=a.l))}})}function zd(a){if(a.Bb[0].length){var b=Bb(a.Bb[0],a.Bb[0].length),c=Bb(a.Bb[1],a.Bb[1].length);a.A.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
xd.prototype.xa=function(a){this.gd[a]=1;this.s.La(this.aa)};function Cd(a,b){a.gd[b]=0;Fb(a.s,a.aa)}function Gd(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function ha(a,b){this.s=a;this.Fa=a.v.Fa;this.Ge=b.Ge;this.J=[244,26,b.Ge&255,b.Ge>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.Tg&255,b.Tg>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.J=this.J.concat(Array(256-this.J.length).fill(0));this.Ga=b.Ga;this.mb=[];this.name=b.name;this.i=this.B=0;this.l=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.Fe.features)this.l[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.Fe.features.includes(32);this.C=
!0;this.j=0;this.F=!1;this.D=0;this.Ya=[];for(var d of b.Fe.Ya)this.Ya.push(new Sd(a,this,d));this.o=0;this.g=this.Ya[0];this.kc=0;c=[];c.push(Td(this,b.Fe));c.push(Ud(b.notification));c.push(Vd(this,b.kc));b.Xf&&(d=c.push,b=b.Xf,b={type:4,Fd:3,port:b.ed,xe:!1,offset:0,fe:new Uint8Array(0),xd:b.xd},d.call(c,b));Wd(this,c);Pb(a.v.Fa,this);this.reset()}
function Td(a,b){return{type:1,Fd:0,port:b.ed,xe:!1,offset:0,fe:new Uint8Array(0),xd:[{bytes:4,name:"device_feature_select",read:()=>a.B,write:c=>{a.B=c}},{bytes:4,name:"device_feature",read:()=>a.l[a.B]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.i,write:c=>{a.i=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.i]||0,write:c=>{const d=a.l[a.i];a.i<a.h.length&&(a.h[a.i]=c&d);a.C=a.C&&!(c&~d)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.Ya.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.j,write:c=>{0===c&&a.reset();c&~a.j&4&&a.j&64&&(a.F=!0,a.j&4&&a.xa(2));a.C||(c&=-9);a.j=c}},{bytes:1,name:"config_generation",read:()=>a.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.o,write:c=>{a.o=c;a.o<a.Ya.length||(a.g=null)}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<qb(c-1)+1);c>a.g.Sc&&(c=a.g.Sc);var d=a.g;d.size=c;d.o=c-1}}},{bytes:2,name:"queue_msix_vector",read:()=>
65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&(c=a.g,c.l&&c.h&&c.g&&(a.g.enabled=!0))}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.me:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.l:0,write:c=>{a.g&&(a.g.l=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>
0,write:()=>{}},{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function Ud(a){const b=[];let c;c=a.xj?0:2;for(const [d,e]of a.Dh.entries())b.push({bytes:2,name:"notify"+d,read:()=>65535,write:e||(()=>{})});return{type:2,Fd:1,port:a.ed,xe:!1,offset:0,fe:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),xd:b}}
function Vd(a,b){return{type:3,Fd:2,port:b.ed,xe:!1,offset:0,fe:new Uint8Array(0),xd:[{bytes:1,name:"isr_status",read:()=>{const c=a.kc;a.kc=0;ic(a.Fa,a.Ga);return c},write:()=>{}}]}}
function Wd(a,b){let c=a.J[52]=64;var d=c;for(const h of b){b=16+h.fe.length;d=c;c=d+b;var e=h.xd.reduce((g,f)=>g+f.bytes,0);e+=h.offset;e=16>e?16:1<<qb(e-1)+1;a.mb[h.Fd]={size:e};a.J[d]=9;a.J[d+1]=c;a.J[d+2]=b;a.J[d+3]=h.type;a.J[d+4]=h.Fd;a.J[d+5]=0;a.J[d+6]=0;a.J[d+7]=0;a.J[d+8]=h.offset&255;a.J[d+9]=h.offset>>>8&255;a.J[d+10]=h.offset>>>16&255;a.J[d+11]=h.offset>>>24;a.J[d+12]=e&255;a.J[d+13]=e>>>8&255;a.J[d+14]=e>>>16&255;a.J[d+15]=e>>>24;for(const [g,f]of h.fe.entries())a.J[d+16+g]=f;d=16+4*
h.Fd;a.J[d]=h.port&254|!h.xe;a.J[d+1]=h.port>>>8&255;a.J[d+2]=h.port>>>16&255;a.J[d+3]=h.port>>>24&255;d=h.port+h.offset;for(const g of h.xd){let f=g.read;b=g.write;if(!h.xe){e=function(m){return f(m&-2)>>((m&1)<<3)&255};const k=function(m){return f(m&-4)>>((m&3)<<3)&255};switch(g.bytes){case 4:I(a.s.u,d,a,k,void 0,f);J(a.s.u,d,a,void 0,void 0,b);break;case 2:I(a.s.u,d,a,e,f);J(a.s.u,d,a,void 0,b);break;case 1:I(a.s.u,d,a,f),J(a.s.u,d,a,b)}}d+=g.bytes}}a.J[c]=9;a.J[c+1]=0;a.J[c+2]=20;a.J[c+3]=5;a.J[c+
4]=0;a.J[c+5]=0;a.J[c+6]=0;a.J[c+7]=0;a.J[c+8]=0;a.J[c+9]=0;a.J[c+10]=0;a.J[c+11]=0;a.J[c+12]=0;a.J[c+13]=0;a.J[c+14]=0;a.J[c+15]=0;a.J[c+16]=0;a.J[c+17]=0;a.J[c+18]=0;a.J[c+19]=0}ha.prototype.Z=function(){let a=[];a[0]=this.B;a[1]=this.i;a[2]=this.l;a[3]=this.h;a[4]=this.C;a[5]=this.j;a[6]=this.F;a[7]=this.D;a[8]=this.kc;a[9]=this.o;return a=a.concat(this.Ya)};
ha.prototype.G=function(a){this.B=a[0];this.i=a[1];this.l=a[2];this.h=a[3];this.C=a[4];this.j=a[5];this.F=a[6];this.D=a[7];this.kc=a[8];this.o=a[9];let b=0;for(let c of a.slice(10))this.Ya[b].G(c),b++;this.g=this.Ya[this.o]||null};ha.prototype.reset=function(){this.i=this.B=0;this.h.set(this.l);this.C=!0;this.o=this.j=0;this.g=this.Ya[0];for(const a of this.Ya)a.reset();this.F=!1;this.kc=this.D=0;ic(this.Fa,this.Ga)};ha.prototype.xa=function(a){H(a);this.kc|=a;this.Fa.xa(this.Ga)};
function Sd(a,b,c){this.s=a;this.bb=b;this.Sc=this.size=c.Sc;this.o=this.size-1;this.enabled=!1;this.me=c.me;this.i=this.g=this.j=this.h=this.l=0;this.reset()}Sd.prototype.Z=function(){const a=[];a[0]=this.size;a[1]=this.Sc;a[2]=this.enabled;a[3]=this.me;a[4]=this.l;a[5]=this.h;a[6]=this.j;a[7]=this.g;a[8]=this.i;return a};Sd.prototype.G=function(a){this.size=a[0];this.Sc=a[1];this.enabled=a[2];this.me=a[3];this.l=a[4];this.h=a[5];this.j=a[6];this.g=a[7];this.i=a[8];this.o=this.size-1};
Sd.prototype.reset=function(){this.enabled=!1;this.i=this.g=this.j=this.h=this.l=0;var a=this.Sc;this.size=a;this.o=a-1};function ia(a){return(a.s.Ba(a.h+2)&a.o)!==a.j}
function ma(a,b){this.s=a.s;this.bb=a.bb;this.Eh=b;this.i=[];this.sf=this.g=this.h=0;this.Qf=[];this.tf=this.ze=this.Pf=0;let c=a.l;var d=b;b=0;let e=a.size,h=!1;const g=0<(this.bb.h[0]&268435456);do{var f=a,k=c;f={Ce:f.s.h(k+16*d),fh:f.s.h(k+16*d+4),ke:f.s.h(k+16*d+8),flags:f.s.Ba(k+16*d+12),next:f.s.Ba(k+16*d+14)};H(f.fh,8);H(f.Ce,8);H(f.ke,8);H(f.flags,4);H(f.next,4);if(g&&f.flags&4)c=f.Ce,b=d=0,e=f.ke/16;else{if(f.flags&2)h=!0,this.Qf.push(f);else{if(h)break;this.i.push(f);this.sf+=f.ke}b++;if(b>
e)break;if(f.flags&1)d=f.next;else break}}while(1)}function qa(a,b){let c=0,d=b.length;for(;d&&a.h!==a.i.length;){var e=a.i[a.h],h=e.Ce+a.g;let m=e.ke-a.g;m>d?(m=d,a.g+=d):(a.h++,a.g=0);e=b;var g=e.set,f=a.s,k=m;k&&(f.Qe(h),f.Qe(h+k-1));g.call(e,f.Na.subarray(h,h+k),c);c+=m;d-=m}};function Xd(){this.le={};this.g=void 0}Xd.prototype.register=function(a,b,c){var d=this.le[a];void 0===d&&(d=this.le[a]=[]);d.push({Ne:b,Jf:c})};Xd.prototype.unregister=function(a,b){var c=this.le[a];void 0!==c&&(this.le[a]=c.filter(function(d){return d.Ne!==b}))};Xd.prototype.send=function(a,b){if(this.g&&(a=this.g.le[a],void 0!==a))for(var c=0;c<a.length;c++){var d=a[c];d.Ne.call(d.Jf,b)}};function Yd(){var a=new Xd,b=new Xd;a.g=b;b.g=a;return[a,b]};function N(){}function Wb(){};function hb(a,b,c){this.Vg=c;this.va=b;Zd(this);b=Object.create(null);b.m=this.va.exports.memory;for(var d of Object.keys(this.va.exports))d.startsWith("_")||d.startsWith("zstd")||d.endsWith("_js")||(b[d]=this.va.exports[d]);this.Kj=b;this.Qa=d=this.va.exports.memory;this.H=L(Uint32Array,d,812,1);this.Na=new Uint8Array(0);this.zc=new Int32Array(this.Na.buffer);this.Wa=L(Uint8Array,d,724,8);this.rb=L(Int32Array,d,736,8);this.qb=L(Uint32Array,d,768,8);this.Sa=L(Int32Array,d,800,1);this.ac=L(Int32Array,
d,564,1);this.Zb=L(Int32Array,d,568,1);this.Rb=L(Int32Array,d,572,1);this.Xb=L(Int32Array,d,576,1);this.Ng=L(Int32Array,d,1128,1);this.Ac=L(Uint32Array,d,540,8);this.Ka=L(Int32Array,d,580,8);this.Sb=L(Uint8Array,d,612,1);this.sa=L(Int32Array,d,804,1);this.sb=L(Int32Array,d,808,1);this.i=L(Uint8Array,d,616,1);this.yc=L(Int32Array,d,620,1);this.Ub=L(Int32Array,d,624,1);this.sg=L(Int32Array,d,636,1);this.Mg=L(Int32Array,d,640,1);this.ug=L(Int32Array,d,644,1);this.Bc=L(Int32Array,d,648,1);this.flags=
L(Int32Array,d,120,1);this.Vb=L(Int32Array,d,116,1);this.uc=L(Int32Array,d,96,1);this.wc=L(Int32Array,d,104,1);L(Int32Array,d,112,1);this.Aj=L(Uint32Array,d,960,2);this.v={};this.D=L(Int32Array,d,556,1);this.Ec=L(Int32Array,d,560,1);L(Uint8Array,d,548,1);this.I=L(Uint8Array,d,552,1);this.l=[];this.B=[];this.Ra=[];this.o=[];this.Gd={og:null,Ud:null};this.Gh=L(Uint32Array,d,664,1);this.j=L(Int32Array,d,64,8);this.Wb=L(Int32Array,d,1152,32);this.X=L(Uint8Array,d,816,1);this.X[0]=255;this.$=L(Uint8Array,
d,1032,1);this.$[0]=0;this.K=L(Uint16Array,d,1036,1);this.K[0]=895;this.Gj=L(Uint16Array,d,1040,1);this.Gj[0]=0;this.R=L(Int32Array,d,1048,1);this.R[0]=0;this.T=L(Int32Array,d,1052,1);this.T[0]=0;this.V=L(Int32Array,d,1044,1);this.V[0]=0;this.N=L(Int32Array,d,1056,1);this.N[0]=0;this.O=L(Int32Array,d,1060,1);this.O[0]=0;this.jd=L(Int32Array,d,832,32);L(Int32Array,d,824,1);this.g=L(Uint16Array,d,668,8);this.Tb=L(Int32Array,d,684,8);this.Fc=L(Int32Array,d,968,8);this.$g=L(Uint32Array,d,716,1);this.Zg=
L(Uint32Array,d,720,1);this.Ma=[];this.qf=0;this.nd=[];this.u=void 0;this.A=a;this.ng(0,0);$d(this)}
function Zd(a){const b=c=>{const d=a.va.exports[c];console.assert(d,"Missing import: "+c);return d};a.Va=b("reset_cpu");b("getiopl");b("get_eflags");a.C=b("get_eflags_no_arith");a.F=b("pic_call_irq");a.Cj=b("do_many_cycles_native");b("cycle_internal");a.Ob=b("read8");a.Ba=b("read16");a.h=b("read32s");a.Dd=b("write8");a.Tc=b("write16");a.zb=b("write32");a.Qe=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.Yb=b("get_seg_cs");
b("get_real_eip");b("clear_tlb");a.Ij=b("full_clear_tlb");a.ng=b("set_tsc");a.Wg=b("store_current_tsc");a.Jj=b("jit_clear_cache_js");a.Hh=b("jit_dirty_cache");a.zj=b("codegen_finalize_finished");a.tj=b("allocate_memory");a.dh=b("zero_memory");a.Yg=b("svga_allocate_memory");a.Xg=b("svga_allocate_dest_buffer");a.ah=b("svga_fill_pixel_buffer");a.qg=b("svga_mark_dirty");a.Lj=b("zstd_create_ctx");a.Nj=b("zstd_get_src_ptr");a.Mj=b("zstd_free_ctx");a.Ae=b("zstd_read");a.Be=b("zstd_read_free")}
hb.prototype.Z=function(){var a=[];a[0]=this.H[0];a[1]=this.Wa;a[2]=this.rb;a[3]=this.qb;a[4]=this.Sa[0];a[5]=this.Zb[0];a[6]=this.ac[0];a[7]=this.Xb[0];a[8]=this.Rb[0];a[9]=this.Ac[0];a[10]=this.Ka;a[11]=this.Sb[0];a[13]=this.sa[0];a[16]=this.sb[0];a[17]=this.i[0];a[18]=this.yc[0];a[19]=this.Ub[0];a[22]=this.sg[0];a[23]=this.ug[0];a[24]=this.Mg[0];a[25]=this.Bc[0];a[26]=this.flags[0];a[27]=this.Vb[0];a[28]=this.uc[0];a[30]=this.wc[0];a[37]=this.D[0];a[38]=this.Ec[0];a[39]=this.j;a[40]=this.g;a[41]=
this.Tb;a[42]=this.Fc;this.Wg();a[43]=this.Aj;a[45]=this.v.Nf;a[46]=this.v.Uc;a[47]=this.v.Rc;a[48]=this.v.Fa;a[49]=this.v.gb;a[50]=this.v.Ha;a[51]=this.v.jg;a[52]=this.v.Ud;a[53]=this.v.zf;a[54]=this.v.Lf;a[55]=this.v.nf;a[56]=this.v.na;a[57]=this.v.S;a[58]=this.v.Ye;a[59]=this.v.uf;a[60]=this.v.nc;a[61]=this.v.Df;a[62]=this.Ma;a[63]=this.v.Dc;a[64]=this.Ng[0];a[66]=this.jd;a[67]=this.Wb;a[68]=this.X[0];a[69]=this.$[0];a[70]=this.K[0];a[71]=this.R[0];a[72]=this.T[0];a[73]=this.N[0];a[74]=this.O[0];
a[75]=this.V[0];var b=this.Na.length>>12,c=[];for(var d=0;d<b;d++){var e=d<<12;e=this.zc.subarray(e>>2,e+4096>>2);let f=!0;for(let k=0;k<e.length;k++)if(0!==e[k]){f=!1;break}f||c.push(d)}b=new Cb(b);d=new Uint8Array(c.length<<12);for(let [f,k]of c.entries())b.set(k,1),c=k<<12,d.set(this.Na.subarray(c,c+4096),f<<12);const {Oh:h,gh:g}={gh:b,Oh:d};a[77]=h;a[78]=new Uint8Array(g.Jb());a[79]=this.v.ue;a[80]=this.v.ve;a[81]=this.v.we;return a};
hb.prototype.G=function(a){this.H[0]=a[0];this.Na.length!==this.H[0]&&console.warn("Note: Memory size mismatch. we="+this.Na.length+" state="+this.H[0]);this.Wa.set(a[1]);this.rb.set(a[2]);this.qb.set(a[3]);this.Sa[0]=a[4];this.Zb[0]=a[5];this.ac[0]=a[6];this.Xb[0]=a[7];this.Rb[0]=a[8];this.Ac[0]=a[9];this.Ka.set(a[10]);this.Sb[0]=a[11];this.sa[0]=a[13];this.sb[0]=a[16];this.i[0]=a[17];this.yc[0]=a[18];this.Ub[0]=a[19];this.sg[0]=a[22];this.ug[0]=a[23];this.Mg[0]=a[24];this.Bc[0]=a[25];this.flags[0]=
a[26];this.Vb[0]=a[27];this.uc[0]=a[28];this.wc[0]=a[30];this.D[0]=a[37];this.Ec[0]=a[38];this.j.set(a[39]);this.g.set(a[40]);this.Tb.set(a[41]);a[42]&&this.Fc.set(a[42]);this.ng(a[43][0],a[43][1]);this.v.Nf&&this.v.Nf.G(a[45]);this.v.Uc&&this.v.Uc.G(a[46]);this.v.Rc&&this.v.Rc.G(a[47]);this.v.Fa&&this.v.Fa.G(a[48]);this.v.gb&&this.v.gb.G(a[49]);this.v.Ha&&this.v.Ha.G(a[50]);this.v.jg&&this.v.jg.G(a[51]);this.v.Ud&&this.v.Ud.G(a[52]);this.v.zf&&this.v.zf.G(a[53]);this.v.Lf&&this.v.Lf.G(a[54]);this.v.nf&&
this.v.nf.G(a[55]);this.v.na&&this.v.na.G(a[56]);this.v.S&&this.v.S.G(a[57]);this.v.Ye&&this.v.Ye.G(a[58]);this.v.uf&&this.v.uf.G(a[59]);this.v.nc&&this.v.nc.G(a[60]);this.v.Df&&this.v.Df.G(a[61]);this.v.ue&&this.v.ue.G(a[79]);this.v.ve&&this.v.ve.G(a[80]);this.v.we&&this.v.we.G(a[81]);this.Ma=a[62];this.v.Dc&&this.v.Dc.G(a[63]);this.Ng[0]=a[64];this.jd.set(a[66]);this.Wb.set(a[67]);this.X[0]=a[68];this.$[0]=a[69];this.K[0]=a[70];this.R[0]=a[71];this.T[0]=a[72];this.N[0]=a[73];this.O[0]=a[74];this.V[0]=
a[75];var b=new Cb(a[78].buffer);a=a[77];this.dh(this.H[0]);const c=this.H[0]>>12;let d=0;for(let e=0;e<c;e++)if(b.get(e)){let h=d<<12;this.Na.set(a.subarray(h,h+4096),e<<12);d++}this.Ij();this.Jj()};function hc(a){a.Va();a.Ma=[];a.v.bb&&a.v.bb.reset();ob(a)}function ae(a,b){1048576>b?b=1048576:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.H[0],"Expected uninitialised memory");a.H[0]=b;const c=a.tj(b);a.Na=L(Uint8Array,a.Qa,c,b);a.zc=L(Uint32Array,a.Qa,c,b>>2)}
hb.prototype.kb=function(a,b){ae(this,"number"===typeof a.H?a.H:67108864);this.I[0]=+a.Ha;this.Va();var c=new db(this);this.u=c;this.Gd.og=a.Gd;this.Gd.Ud=a.Fj;ob(this);if(a.tb){const {Nh:e}=be(this.Na,a.tb,a.Cc,a.Yc||"");e&&this.nd.push(e)}I(c,179,this,function(){return 0});var d=0;I(c,146,this,function(){return d});J(c,146,this,function(e){d=e});I(c,1297,this,function(){return this.qf<this.Ma.length?this.Ma[this.qf++]:0});J(c,1296,this,void 0,function(e){function h(k){return new Uint8Array((new Int32Array([k])).buffer)}
function g(k){return k>>8|k<<8&65280}function f(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}N("bios config port, index="+H(e));this.qf=0;if(0===e)this.Ma=h(1431127377);else if(1===e)this.Ma=h(0);else if(3===e)this.Ma=h(this.H[0]);else if(5===e)this.Ma=h(1);else if(15===e)this.Ma=h(1);else if(13===e)this.Ma=new Uint8Array(16);else if(25===e){e=new Int32Array(4+64*this.nd.length);const k=new Uint8Array(e.buffer);e[0]=f(this.nd.length);for(let m=0;m<this.nd.length;m++){const {name:n,data:p}=this.nd[m],
u=4+64*m;e[u>>2]=f(p.length);e[u+4>>2]=g(49152+m);for(let q=0;q<n.length;q++)k[u+8+q]=n.charCodeAt(q)}this.Ma=k}else 32768<=e&&49152>e?this.Ma=h(0):49152<=e&&e-49152<this.nd.length?this.Ma=this.nd[e-49152].data:(N("Warning: Unimplemented fw index: "+H(e)),this.Ma=h(0))});this.v={};a.Ih&&(this.v.nc=new Rc(this),this.v.Fa=new dc(this),this.I[0]&&(this.v.Dc=new hd(this),this.v.Uc=new $c(this),this.v.Ha=new Yc(this)),this.v.Rc=new Sc(this),ce(this,this.v.Rc,a),this.v.gb=new mc(this),this.v.Ud=new yc(this,
b,a.ha||8388608),this.v.zf=new Nc(this,b),this.v.Lf=new Vc(this,1016,b),a.ue&&(this.v.ue=new Vc(this,760,b)),a.ve&&(this.v.ve=new Vc(this,1E3,b)),a.we&&(this.v.we=new Vc(this,744,b)),this.v.nf=new jc(this,a.pa),c=0,a.S&&(this.v.S=new Db(this,a.S,a.Oe,!1,c++,b)),a.na&&(this.v.na=new Db(this,a.na,void 0,!0,c++,b)),this.v.Ye=new rc(this,b),a.uh&&(this.v.uf=new md(this,b,a.pc)),a.Ib&&(this.v.Nf=new fa(a.Ib,this,b)),this.v.Df=new xd(this,b));a.Kd&&de(this,a.Kd)};
function de(a,b){if(8192>b.byteLength){var c=new Int32Array(2048);(new Uint8Array(c.buffer)).set(new Uint8Array(b))}else c=new Int32Array(b,0,2048);for(var d=0;8192>d;d+=4)if(464367618===c[d>>2]){var e=c[d+4>>2];if(!(464367618+e+c[d+8>>2]|0)){N("Multiboot magic found, flags: "+H(e>>>0,8));a.j[0]=732803074;a.j[3]=31744;a.zb(31744,0);a.Ka[0]=1;a.Sa[0]=1;a.flags[0]=2;a.sa[0]=1;a.sb[0]=1;for(var h=0;6>h;h++)a.Wa[h]=0,a.rb[h]=0,a.qb[h]=4294967295,a.g[h]=45058;if(e&65536){e=c[d+12>>2];var g=c[d+16>>2];
h=c[d+20>>2];var f=c[d+24>>2];c=c[d+28>>2];N("header="+H(e,8)+" load="+H(g,8)+" load_end="+H(h,8)+" bss_end="+H(f,8)+" entry="+H(c,8));b=new Uint8Array(b,d-(e-g),0===h?void 0:h-g);pa(a,b,g);a.D[0]=a.Yb()+c|0}else if(1179403647===c[0]){d=ee(b);a.D[0]=a.Yb()+d.Fh.vh|0;for(g of d.pj)0!==g.type&&(1===g.type?g.wf+g.pg<a.H[0]?g.cg&&(d=new Uint8Array(b,g.offset,g.cg),pa(a,d,g.wf)):N("Warning: Skipped loading section, paddr="+H(g.wf)+" memsz="+g.pg):2!==g.type&&3!==g.type&&4!==g.type&&6!==g.type&&1685382480!==
g.type&&1685382481!==g.type&&1685382483!==g.type&&Wb("unimplemented elf section type: "+H(g.type)))}a.u.Pb(244,a,function(k){console.log("Test exited with code "+H(k,2));throw"HALT";},function(){},function(){},function(){});for(let k=14;15>=k;k++)J(a.u,8192+k,a,function(m){H(k);H(m,2);m?this.La(k):Fb(this,k)});break}}}
function ce(a,b,c){var d=c.Xc||531;M(b,56,1|d>>4&240);M(b,61,d&255);M(b,21,128);M(b,22,2);d=0;1048576<=a.H[0]&&(d=a.H[0]-1048576>>10,d=Math.min(d,65535));M(b,23,d&255);M(b,24,d>>8&255);M(b,48,d&255);M(b,49,d>>8&255);d=0;16777216<=a.H[0]&&(d=a.H[0]-16777216>>16,d=Math.min(d,65535));M(b,52,d&255);M(b,53,d>>8&255);M(b,91,0);M(b,92,0);M(b,93,0);M(b,20,47);M(b,95,0);c.wh&&M(b,63,1)}
function ob(a){var b=a.Gd.og,c=a.Gd.Ud;if(b){var d=new Uint8Array(b);pa(a,d,1048576-b.byteLength);if(c){var e=new Uint8Array(c);pa(a,e,786432);fb(a.u,4272947200,1048576,function(h){h=h-4272947200|0;return h<e.length?e[h]:0},function(){})}fb(a.u,4293918720,1048576,function(h){return this.Na[h&1048575]}.bind(a),function(h,g){this.Na[h&1048575]=g}.bind(a))}}
function fe(a,b,c,d,e,h){const g=new Uint8Array(a.Qa.buffer,e>>>0,h>>>0);WebAssembly.instantiate(g,{e:a.Kj}).then(f=>{f=f.instance.exports.f;a.zj(b,c,d);a.va.Of.set(b+1024,f);a.bh&&a.bh(g)})}function kb(a){if(a.C()&512){const b=mb(a,lb());nb(a);return b}return 100}function mb(a,b){var c=a.v.Ye.yb(b,!1);var d=a.v.Rc.yb(b,!1);let e=100,h=100;a.I[0]&&(e=a.v.Ha.yb(b),h=a.v.Uc.yb(b));return Math.min(c,d,100,e,h)}function nb(a){a.C()&512&&(ge(a),a.Vg())}
function ge(a){a.C();a.v.nc&&a.v.nc.Vd();a.v.Uc&&a.v.Uc.Vd()}hb.prototype.La=function(a){this.v.nc&&this.v.nc.Td(a);this.v.Dc&&this.v.Dc.Td(a)};function Fb(a,b){a.v.nc&&a.v.nc.Wd(b);a.v.Dc&&a.v.Dc.Wd(b)}"undefined"!==typeof window?window.CPU=hb:"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.CPU=hb:"function"===typeof importScripts&&(self.CPU=hb);function $d(a){var b={};a.debug=b;b.kb=function(){};b.gk=function(){for(var h={eax:0,ecx:1,edx:2,ebx:3,esp:4,ebp:5,esi:6,edi:7},g="eax ecx edx ebx esp ebp esi edi".split(" "),f="",k="",m=0;4>m;m++)f+=g[m]+"="+H(a.j[h[g[m]]]>>>0,8)+" ",k+=g[m+4]+"="+H(a.j[h[g[m+4]]]>>>0,8)+" ";f+="  ds="+H(a.g[3],4)+" es="+H(a.g[0],4)+" fs="+H(a.g[4],4);k+="  gs="+H(a.g[5],4)+" cs="+H(a.g[1],4)+" ss="+H(a.g[2],4);return[f,k]};b.$j=function(){};b.Z=function(){};b.bk=function(){};b.ak=function(){};b.Zj=function(){if(a.Ka[4]&
32)for(var h=0;4>h;h++)a.h(a.Ka[3]+8*h)};b.Xj=function(){};b.Yj=function(){};b.fk=function(){};b.lk=function(){};b.uk=function(){};b.Tj=function(){};let c,d;b.Wj=function(h,g,f){if(!d){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;d=[new c.Capstone(c.ARCH_X86,c.MODE_16),new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{d[h].disasm(g,f).forEach(function(k){N(H(k.Sj>>>0)+": "+wb(k.bytes.map(m=>H(m,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){N("Could not disassemble: "+
Array.from(g).map(m=>H(m,2)).join(" "))}};let e;b.ck=function(h){if(void 0===e&&(e="function"===typeof require?require("./libwabt.js"):new window.WabtModule,void 0===e))return;h=h.slice();try{var g=e.readWasm(h,{rk:!1});g.generateNames();g.applyNames();g.toText({ek:!0,ik:!0})}catch(m){var f=new Blob([h]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(f);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);
console.log(m.toString())}finally{g&&g.za()}}};let he=DataView.prototype,ie={size:1,get:he.getUint8,set:he.setUint8},je={size:2,get:he.getUint16,set:he.setUint16},V={size:4,get:he.getUint32,set:he.setUint32},le=ke([{Jh:V},{jh:ie},{data:ie},{Dj:ie},{nk:ie},{Pj:ie},{pk:function(a){return{size:a,get:()=>-1}}(7)},{type:je},{kk:je},{Ej:V},{vh:V},{Qh:V},{uj:V},{flags:V},{th:je},{xg:je},{yg:je},{Rg:je},{Sg:je},{tk:je}]);console.assert(52===le.reduce((a,b)=>a+b.size,0));let me=ke([{type:V},{offset:V},{vk:V},{wf:V},{cg:V},{pg:V},{flags:V},{align:V}]);
console.assert(32===me.reduce((a,b)=>a+b.size,0));let ne=ke([{name:V},{type:V},{flags:V},{Qj:V},{offset:V},{size:V},{link:V},{info:V},{Rj:V},{dk:V}]);console.assert(40===ne.reduce((a,b)=>a+b.size,0));function ke(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function ee(a){var b=new DataView(a);let [c,d]=oe(b,le);console.assert(52===d);console.assert(1179403647===c.Jh,"Bad magic");console.assert(1===c.jh,"Unimplemented: 64 bit elf");console.assert(1===c.data,"Unimplemented: big endian");console.assert(1===c.Dj,"Bad version0");console.assert(2===c.type,"Unimplemented type");console.assert(1===c.Ej,"Bad version1");console.assert(52===c.th,"Bad header size");console.assert(32===c.xg,"Bad program header size");console.assert(40===c.Rg,"Bad section header size");
[a]=pe(new DataView(b.buffer,b.byteOffset+c.Qh,c.xg*c.yg),me,c.yg);[b]=pe(new DataView(b.buffer,b.byteOffset+c.uj,c.Rg*c.Sg),ne,c.Sg);return{Fh:c,pj:a,sk:b}}function oe(a,b){let c={},d=0;for(let e of b)b=e.get.call(a,d,!0),console.assert(void 0===c[e.name]),c[e.name]=b,d+=e.size;return[c,d]}function pe(a,b,c){let d=[],e=0;for(var h=0;h<c;h++){let [g,f]=oe(new DataView(a.buffer,a.byteOffset+e,void 0),b);d.push(g);e+=f}return[d,e]};function be(a,b,c,d){var e=new Uint8Array(b);const h=new Uint16Array(b);var g=new Uint32Array(b),f=e[497]||4,k=h[255];if(43605!==k)H(k);else if(k=h[257]|h[258]<<16,1400005704!==k)H(k);else{k=e[529];var m=h[283],n=g[139],p=g[140],u=e[565],q=g[142],t=g[146],x=g[147],y=g[150],C=g[151],K=g[152];H(h[259]);H(k);H(m);H(g[133]);H(n);H(p);H(u);H(q);H(t);H(x);H(C);H(y);H(K);e[528]=255;e[529]=k&-97|128;h[274]=56832;h[253]=65535;H(56832);d+="\x00";H(581632);g[138]=581632;for(e=0;e<d.length;e++)a[581632+e]=d.charCodeAt(e);
f=512*(f+1);H(f);d=new Uint8Array(b,0,f);b=new Uint8Array(b,f);e=f=0;c&&(f=67108864,e=c.byteLength,a.set(new Uint8Array(c),f));g[134]=f;g[135]=e;a.set(d,524288);a.set(b,1048576);a=new Uint8Array(256);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;g=a[c]=0;
for(b=0;b<a.length;b++)g+=a[b];a[c]=-g;return{Nh:{name:"genroms/kernel.bin",data:a}}}};var Ba=16384,Ha=4;function qe(a){this.g=[];this.C=[];this.j=a;this.B={rf:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Aa(this,"",-1)}qe.prototype.Z=function(){let a=[];a[0]=this.g;a[1]=this.B.rf;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&Ba)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
qe.prototype.G=function(a){this.g=a[0].map(b=>{const c=new re(0);c.G(b);return c});this.B.rf=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function wa(a,b,c){var d=a.g[b];0==d.status||2==d.status?c():5===d.status?wa(Y(a,d),d.g,c):a.C.push({id:b,Oj:c})}
function se(a,b){if(3!==b.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var c=b.fsroot;a.o=b.size;for(b=0;b<c.length;b++)te(a,c[b],0)}
function te(a,b,c){var d=ue(a);const e=b[0];d.size=b[1];d.mc=b[2];d.Hd=d.mc;d.Wc=d.mc;d.mode=b[3];d.uid=b[4];d.Ea=b[5];var h=d.mode&61440;if(h===Ba)for(ve(a,d,c,e),c=a.g.length-1,b=b[6],d=0;d<b.length;d++)te(a,b[d],c);else 32768===h?(d.status=2,d.wd=b[6],ve(a,d,c,e)):40960===h?(d.se=b[6],ve(a,d,c,e)):49152!==h&&H(h)}function we(a,b,c,d){const e=a.g[c],h=a.g[b];xe(a,b);h.da.has(d);h.da.set(d,c);e.Ta++;xe(a,c)&&(e.da.has(".."),e.da.has(".")||e.Ta++,e.da.set(".",c),e.da.set("..",b),h.Ta++)}
function ye(a,b,c){const d=Oa(a,b,c),e=a.g[d],h=a.g[b];xe(a,b);h.da.delete(c)&&(e.Ta--,xe(a,d)&&(e.da.get(".."),e.da.delete(".."),h.Ta--))}function ve(a,b,c,d){-1!=c?(a.g.push(b),b.ic=a.g.length-1,we(a,c,b.ic,d)):0==a.g.length&&(a.g.push(b),b.da.set(".",0),b.da.set("..",0),b.Ta=2)}
function re(a){this.da=new Map;this.Se=this.Re=this.mc=this.Wc=this.Hd=this.ic=this.Ea=this.uid=this.size=this.status=0;this.se="";this.mode=493;this.wa={type:0,version:0,path:a};this.Ta=0;this.wd="";this.h=[];this.g=this.i=-1}
re.prototype.Z=function(){const a=[];a[0]=this.mode;a[1]=(this.mode&61440)===Ba?[...this.da]:32768===(this.mode&61440)?this.wd:40960===(this.mode&61440)?this.se:49152===(this.mode&61440)?[this.Se,this.Re]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.Ea;a[7]=this.ic;a[8]=this.Hd;a[9]=this.Wc;a[10]=this.mc;a[11]=this.wa.version;a[12]=this.wa.path;a[13]=this.Ta;return a};
re.prototype.G=function(a){this.mode=a[0];if((this.mode&61440)===Ba){this.da=new Map;for(const [b,c]of a[1])this.da.set(b,c)}else 32768===(this.mode&61440)?this.wd=a[1]:40960===(this.mode&61440)?this.se=a[1]:49152===(this.mode&61440)&&([this.Se,this.Re]=a[1]);this.h=[];for(const b of a[2]){const c=new ze;c.G(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.Ea=a[6];this.ic=a[7];this.Hd=a[8];this.Wc=a[9];this.mc=a[10];this.wa.type=(this.mode&61440)>>8;this.wa.version=a[11];this.wa.path=
a[12];this.Ta=a[13]};function Ae(a,b){Object.assign(b,a,{ic:b.ic,da:b.da,Ta:b.Ta})}function ue(a){const b=Math.round(Date.now()/1E3);a=new re(++a.B.rf);a.Wc=a.Hd=a.mc=b;return a}function Aa(a,b,c){var d=a.g[c];if(0<=c&&5===d.status)return c=d.g,b=Aa(Y(a,d),b,c),Be(a,d.i,b);d=ue(a);d.mode=511|Ba;0<=c&&(d.uid=a.g[c].uid,d.Ea=a.g[c].Ea,d.mode=a.g[c].mode&511|Ba);d.wa.type=Ba>>8;ve(a,d,c,b);return a.g.length-1}
function Ca(a,b,c){var d=a.g[c];if(5===d.status)return c=d.g,b=Ca(Y(a,d),b,c),Be(a,d.i,b);d=ue(a);d.uid=a.g[c].uid;d.Ea=a.g[c].Ea;d.wa.type=128;d.mode=a.g[c].mode&438|32768;ve(a,d,c,b);return a.g.length-1}function za(a,b,c,d,e){var h=a.g[c];if(5===h.status)return c=h.g,b=za(Y(a,h),b,c,d,e),Be(a,h.i,b);h=ue(a);h.Re=d;h.Se=e;h.uid=a.g[c].uid;h.Ea=a.g[c].Ea;h.wa.type=192;h.mode=a.g[c].mode&438;ve(a,h,c,b);return a.g.length-1}
function ya(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,b=ya(Y(a,e),b,c,d),Be(a,e.i,b);e=ue(a);e.uid=a.g[c].uid;e.Ea=a.g[c].Ea;e.wa.type=160;e.se=d;e.mode=40960;ve(a,e,c,b);return a.g.length-1}async function Ce(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,d=await Ce(Y(a,e),b,c,d),Be(a,e.i,d);e=Ca(a,b,c);b=a.g[e];c=new Uint8Array(d.length);c.set(d);await De(a,e,c);b.size=d.length;return e}
function va(a,b,c){var d=a.g[b];if(5===d.status)return va(Y(a,d),d.g,c);(d.mode&61440)==Ba&&Ee(a,b);return!0}async function Ra(a,b){var c=a.g[b];if(5===c.status)return await Ra(Y(a,c),c.g);2===c.status&&a.j.g(c.wd);c.status==Ha&&(c.status=-1,await Fe(a,b))}
async function Ma(a,b,c,d,e){if(b==d&&c==e)return 0;var h=Oa(a,b,c);if(-1===h)return-2;var g=b;xe(a,g);for(var f="";0!=g;)f="/"+Ge(a,g)+f,g=He(a,g);if(-1!=Oa(a,d,e)&&(g=Pa(a,d,e),0>g))return g;f=a.g[h];var k=a.g[b];g=a.g[d];if(5===k.status||5===g.status)if(5===k.status&&k.i===g.i){if(a=await Ma(Y(a,k),k.g,c,g.g,e),0>a)return a}else{if(0===F(a,h).ic||!xe(a,h)&&1<F(a,h).Ta)return-1;k=Oa(a,b,c);var m=a.g[k],n=new re(-1);xe(a,k);Object.assign(n,m);const p=a.g.length;a.g.push(n);n.ic=p;5===m.status&&a.i[m.i].g.set(m.g,
p);if(5!==m.status||0===m.g)ye(a,b,c),we(a,b,p,c);if(xe(a,k)&&5!==m.status)for(const [u,q]of n.da)"."!==u&&".."!==u&&xe(a,q)&&a.g[q].da.set("..",p);a.h[p]=a.h[k];delete a.h[k];m.da=new Map;m.Ta=0;k=p;m=F(a,h);n=await Ka(a,k,0,m.size);5===g.status?(d=Y(a,g),e=xe(a,k)?Aa(d,e,g.g):Ca(d,e,g.g),d=F(d,e),Ae(m,d),Ie(a,h,g.i,e)):(f.status=-1,a.i[f.i].g.delete(f.g),Ae(m,f),we(a,d,h,e));await Ia(a,h,m.size);n&&n.length&&await La(a,h,0,n.length,n);if(xe(a,h))for(const u of Je(a,k))if(e=await Ma(a,k,u,h,u),0>
e)return e;await Fe(a,k);a=Pa(a,b,c);if(0>a)return a}else ye(a,b,c),we(a,d,h,e),f.wa.version++;return 0}async function La(a,b,c,d,e){var h=a.g[b];if(5===h.status)b=h.g,await La(Y(a,h),b,c,d,e);else{var g=await a.Jb(b);!g||g.length<c+d?(await Ia(a,b,Math.floor(3*(c+d)/2)),h.size=c+d,g=await a.Jb(b)):h.size<c+d&&(h.size=c+d);e&&g.set(e.subarray(0,d),c);await De(a,b,g)}}async function Ka(a,b,c,d){const e=a.g[b];return 5===e.status?(b=e.g,await Ka(Y(a,e),b,c,d)):await Ke(a,b,c,d)}
function Oa(a,b,c){b=a.g[b];if(5===b.status){const d=b.g;c=Oa(Y(a,b),d,c);return-1===c?-1:Le(a,b.i,c)}a=b.da.get(c);return void 0===a?-1:a}function ta(a){let b=a.g.length;for(const {h:c,g:d}of a.i)b+=ta(c),b-=d.size;return b}function ua(a){let b=1048576;for(const {h:c}of a.i)b+=ua(c);return b}function ra(a){let b=a.o;for(const {h:c}of a.i)b+=ra(c);return b}function sa(a){let b=a.l;for(const {h:c}of a.i)b+=sa(c);return a.l}
function Ge(a,b){const c=a.g[He(a,b)];if(5===c.status)return Ge(Y(a,c),a.g[b].g);if(!c)return"";for(const [d,e]of c.da)if(e===b)return d;return""}function xa(a,b,c,d){if(xe(a,c))return-1;const e=a.g[b],h=a.g[c];if(5===e.status)return 5!==h.status||h.i!==e.i?-1:xa(Y(a,e),e.g,h.g,d);if(5===h.status)return-1;we(a,b,c,d);return 0}
function Pa(a,b,c){if("."===c||".."===c)return-1;var d=Oa(a,b,c);const e=a.g[d];var h=a.g[b];if(5===h.status)return b=h.g,Pa(Y(a,h),b,c);if(h=xe(a,d)){a:if(d=a.g[d],5===d.status)var g=xe(Y(a,d),d.g);else{for(g of d.da.keys())if("."!==g&&".."!==g){g=!1;break a}g=!0}h=!g}if(h)return-39;ye(a,b,c);0===e.Ta&&(e.status=Ha);return 0}async function Fe(a,b){const c=a.g[b];5===c.status?await Fe(Y(a,c),c.g):(c.size=0,delete a.h[b])}
qe.prototype.Jb=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.wd,0,b.size):null};async function Ke(a,b,c,d){const e=a.g[b];return a.h[b]?a.h[b].subarray(c,c+d):2===e.status?await a.j.read(e.wd,c,d):null}async function De(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].wd))}function F(a,b){b=a.g[b];return 5===b.status?F(Y(a,b),b.g):b}
async function Ia(a,b,c){var d=F(a,b),e=await Ke(a,b,0,d.size);if(c!=d.size){var h=new Uint8Array(c);d.size=c;e&&h.set(e.subarray(0,Math.min(e.length,d.size)),0);await De(a,b,h)}}
function Me(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var d=-1,e=0;let h=null;for(var g=0;g<c;g++)if(d=e,e=Oa(a,d,b[g]),!h&&5===a.g[d].status&&(h="/"+b.slice(g).join("/")),-1==e)return g<c-1?{id:-1,xf:-1,name:b[g],eg:h}:{id:-1,xf:d,name:b[g],eg:h};return{id:e,xf:d,name:b[g],eg:h}}
function Ee(a,b){var c=a.g[b];if(5===c.status)Ee(Y(a,c),c.g);else{var d=0;for(const e of c.da.keys())d+=24+Ne(e);b=a.h[b]=new Uint8Array(d);c.size=d;d=0;for(const [e,h]of c.da)c=F(a,h),d+=v(["Q","d","b","s"],[c.wa,d+13+8+1+2+Ne(e),c.mode>>12,e],b,d)}}function Ja(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const d=E(["Q","d"],a,{offset:b})[1];if(d>c)break;b=d}return b}function xe(a,b){b=a.g[b];return 5===b.status?xe(Y(a,b),b.g):(b.mode&61440)===Ba}
function Je(a,b){xe(a,b);b=a.g[b];if(5===b.status)return Je(Y(a,b),b.g);a=[];for(const c of b.da.keys())"."!==c&&".."!==c&&a.push(c);return a}function He(a,b){xe(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.da.get("..");const c=He(Y(a,b),b.g);return Le(a,b.i,c)}function Ie(a,b,c,d){const e=a.g[b];5===e.status&&a.i[e.i].g.delete(e.g);e.status=5;e.i=c;e.g=d;a.i[c].g.set(d,b)}function Be(a,b,c){const d=ue(a),e=a.g.length;a.g.push(d);d.ic=e;Ie(a,e,b,c);return e}
function Le(a,b,c){const d=a.i[b].g.get(c);return void 0===d?Be(a,b,c):d}function Y(a,b){return a.i[b.i].h}function ze(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}ze.prototype.Z=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};ze.prototype.G=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};function Oe(a){const b=new ze;b.G(a.Z());return b}
function Pe(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function Qe(a,b){return Pe(a,b)&&b.start+b.length===a.start}function Da(a,b,c,d,e){const h=new ze;h.type=a;h.start=b;h.length=c;h.h=d;h.g=e;return h}function Ga(a,b,c){b=a.g[b];if(5===b.status){var d=b.g;return Ga(Y(a,b),d,c)}for(d of b.h)if(!(c.h===d.h&&c.g===d.g||2===c.type||2===d.type||1!==c.type&&1!==d.type||c.start+c.length<=d.start||d.start+d.length<=c.start))return Oe(d);return null}
function Ea(a,b,c,d){const e=a.g[b];if(5===e.status)return b=e.g,Ea(Y(a,e),b,c,d);c=Oe(c);if(2!==c.type&&Ga(a,b,c))return 1;for(a=0;a<e.h.length;a++){d=e.h[a];if(d.start+d.length<=c.start)continue;if(c.start+c.length<=d.start)break;if(d.h!==c.h||d.g!==c.g)continue;b=c.start+c.length;const h=c.start-d.start,g=d.start+d.length-b;if(0<h&&0<g&&d.type===c.type)return 0;0<h&&(d.length=h);if(0>=h&&0<g)d.start=b,d.length=g;else if(0<g){for(;a<e.h.length&&e.h[a].start<b;)a++;e.h.splice(a,0,Da(d.type,b,g,d.h,
d.g))}else 0>=h&&(e.h.splice(a,1),a--)}if(2!==c.type){a=c;d=!1;for(b=0;b<e.h.length&&!(Qe(a,e.h[b])&&(e.h[b].length+=c.length,a=e.h[b],d=!0),c.start<=e.h[b].start);b++);d||(e.h.splice(b,0,a),b++);for(;b<e.h.length;b++)if(Pe(e.h[b],a)){Qe(e.h[b],a)&&(a.length+=e.h[b].length,e.h.splice(b,1));break}}return 0}function Re(a,b){b=Me(a,b);if(-1!==b.id)return a=F(a,b.id),Array.from(a.da.keys()).filter(c=>"."!==c&&".."!==c)}
qe.prototype.qe=function(a){a=Me(this,a);if(-1===a.id)return Promise.resolve(null);const b=F(this,a.id);return Ka(this,a.id,0,b.size)};function Qa(){};function v(a,b,c,d){for(var e,h=0,g=0;g<a.length;g++)switch(e=b[g],a[g]){case "w":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;h+=4;break;case "d":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;c[d++]=0;c[d++]=0;c[d++]=0;c[d++]=0;h+=8;break;case "h":c[d++]=e&255;c[d++]=e>>8;h+=2;break;case "b":c[d++]=e;h+=1;break;case "s":var f=d,k=0;c[d++]=0;c[d++]=0;h+=2;for(var m of e)Se(m.charCodeAt(0)).forEach(function(n){c[d++]=n;h+=1;k++});c[f+0]=k&255;c[f+1]=k>>8&255;break;
case "Q":v(["b","w","d"],[e.type,e.version,e.path],c,d),d+=13,h+=13}return h}
function E(a,b,c){let d=c.offset;for(var e=[],h=0;h<a.length;h++)switch(a[h]){case "w":var g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;e.push(g);break;case "d":g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;d+=4;e.push(g);break;case "h":g=b[d++];e.push(g+(b[d++]<<8));break;case "b":e.push(b[d++]);break;case "s":g=b[d++];g+=b[d++]<<8;for(var f="",k=new Te,m=0;m<g;m++){var n=k.i(b[d++]);-1!=n&&(f+=String.fromCharCode(n))}e.push(f);break;case "Q":c.offset=d,g=E(["b","w","d"],b,c),d=
c.offset,e.push({type:g[0],version:g[1],path:g[2]})}c.offset=d;return e};function Te(){this.g=new Uint8Array(5);this.h=0;this.i=function(a){this.g[this.h]=a;this.h++;switch(this.h){case 1:if(128>this.g[0])return this.h=0,this.g[0];break;case 2:if(192==(this.g[0]&224)&&128==(this.g[1]&192))return this.h=0,(this.g[0]&31)<<6|this.g[1]&63}return-1}}function Se(a){if(128>a)return[a];if(2048>a)return[192|a>>6&31,128|a&63]}function Ne(a){for(var b=0,c=0;c<a.length;c++)b+=128>a.charCodeAt(c)?1:2;return b};function Ue(a){function b(q){!q.altKey&&f[56]&&h(56,!1);return e(q,!1)}function c(q){!q.altKey&&f[56]&&h(56,!1);return e(q,!0)}function d(){for(var q=Object.keys(f),t,x=0;x<q.length;x++)t=+q[x],f[t]&&h(t,!1);f={}}function e(q,t){if(k.A&&(q.shiftKey&&q.ctrlKey&&(73===q.keyCode||74===q.keyCode||75===q.keyCode)||!k.Le?0:q.target?q.target.classList.contains("phone_keyboard")||"INPUT"!==q.target.nodeName&&"TEXTAREA"!==q.target.nodeName:1)){a:{if(void 0!==q.code){var x=u[q.code];if(void 0!==x)break a}x=
m[q.keyCode]}if(x)return h(x,t,q.repeat),q.preventDefault&&q.preventDefault(),!1;console.log("Missing char in map: keyCode="+(q.keyCode||-1).toString(16)+" code="+q.code)}}function h(q,t,x){if(t)f[q]&&!x&&h(q,!1);else if(!f[q])return;(f[q]=t)||(q|=128);255<q?(g(q>>8),g(q&255)):g(q)}function g(q){k.A.send("keyboard-code",q)}var f={},k=this;this.Le=!0;var m=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,
82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n={8:8,10:13,32:32,39:222,
44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},p={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,
81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},u={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,
Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,
Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.A=a;this.za=function(){"undefined"!==typeof window&&(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",d,!1))};this.kb=function(){"undefined"!==typeof window&&(this.za(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",c,
!1),window.addEventListener("blur",d,!1))};this.kb();this.g=function(q){q={keyCode:q};e(q,!0);e(q,!1)};this.wj=function(q){var t=q.charCodeAt(0);t in n?this.g(n[t]):t in p?(g(42),this.g(p[t]),g(170)):console.log("ascii -> keyCode not found: ",t,q)}};function Ve(a,b){function c(y){if(!x.enabled||!x.Le)return!1;var C=b||document.body,K;if(!(K=document.pointerLockElement))a:{for(y=y.target;y.parentNode;){if(y===C){K=!0;break a}y=y.parentNode}K=!1}return K}function d(y){c(y)&&(y=y.changedTouches)&&y.length&&(y=y[y.length-1],q=y.clientX,t=y.clientY)}function e(){if(n||u||p)x.A.send("mouse-click",[!1,!1,!1]),n=u=p=!1}function h(y){if(x.A&&c(y)){var C=0,K=0,Q=y.changedTouches;Q?Q.length&&(Q=Q[Q.length-1],C=Q.clientX-q,K=Q.clientY-t,q=Q.clientX,t=Q.clientY,
y.preventDefault()):"number"===typeof y.movementX?(C=y.movementX,K=y.movementY):"number"===typeof y.webkitMovementX?(C=y.webkitMovementX,K=y.webkitMovementY):"number"===typeof y.mozMovementX?(C=y.mozMovementX,K=y.mozMovementY):(C=y.clientX-q,K=y.clientY-t,q=y.clientX,t=y.clientY);x.A.send("mouse-delta",[.15*C,-(.15*K)]);b&&x.A.send("mouse-absolute",[y.pageX-b.offsetLeft,y.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function g(y){c(y)&&k(y,!0)}function f(y){c(y)&&k(y,!1)}function k(y,C){x.A&&
(1===y.which?n=C:2===y.which?u=C:3===y.which&&(p=C),x.A.send("mouse-click",[n,u,p]),y.preventDefault())}function m(y){if(c(y)){var C=y.wheelDelta||-y.detail;0>C?C=-1:0<C&&(C=1);x.A.send("mouse-wheel",[C,0]);y.preventDefault()}}var n=!1,p=!1,u=!1,q=0,t=0,x=this;this.enabled=!1;this.Le=!0;this.A=a;this.A.register("mouse-enable",function(y){this.enabled=y},this);this.za=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",d,!1),window.removeEventListener("touchend",e,!1),
window.removeEventListener("touchmove",h,!1),window.removeEventListener("mousemove",h,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("mouseup",f,!1),window.removeEventListener("wheel",m,{passive:!1}))};this.kb=function(){"undefined"!==typeof window&&(this.za(),window.addEventListener("touchstart",d,!1),window.addEventListener("touchend",e,!1),window.addEventListener("touchmove",h,!1),window.addEventListener("mousemove",h,!1),window.addEventListener("mousedown",g,!1),window.addEventListener("mouseup",
f,!1),window.addEventListener("wheel",m,{passive:!1}))};this.kb()};function We(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?Xe:Ye;this.A=a;this.U=window.AudioContext?new AudioContext:new webkitAudioContext;this.Te=new Ze(a,this.U);this.g=new $e(a,this.U,this.Te);new b(a,this.U,this.Te);this.g.start();a.register("emulator-stopped",function(){this.U.suspend()},this);a.register("emulator-started",function(){this.U.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}
function Ze(a,b){function c(d){return function(e){d.gain.setValueAtTime(e,this.U.currentTime)}}this.U=b;this.sources=new Map;this.hg=this.gg=this.F=this.D=this.B=1;this.i=this.U.createBiquadFilter();this.j=this.U.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.U.currentTime);this.j.frequency.setValueAtTime(2E3,this.U.currentTime);this.g=this.U.createBiquadFilter();this.h=this.U.createBiquadFilter();this.g.type="lowshelf";this.h.type="lowshelf";
this.g.frequency.setValueAtTime(200,this.U.currentTime);this.h.frequency.setValueAtTime(200,this.U.currentTime);this.l=this.U.createGain();this.o=this.U.createGain();this.C=this.U.createChannelMerger(2);this.I=this.i;this.K=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.C,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.C,0,1);this.C.connect(this.U.destination);a.register("mixer-connect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.connect(e)},
this);a.register("mixer-disconnect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.disconnect(e)},this);a.register("mixer-volume",function(d){var e=d[0],h=d[1];d=Math.pow(10,d[2]/20);e=0===e?this:this.sources.get(e);void 0===e||e.ef(d,h)},this);a.register("mixer-gain-left",function(d){this.gg=Math.pow(10,d/20);this.update()},this);a.register("mixer-gain-right",function(d){this.hg=Math.pow(10,d/20);this.update()},this);a.register("mixer-treble-left",c(this.i),this);a.register("mixer-treble-right",
c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function af(a,b,c){b=new bf(a.U,b,a.I,a.K);a.sources.has(c);a.sources.set(c,b);return b}Ze.prototype.ef=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.F=a;break;case 2:this.B=a;break;default:return}this.update()};
Ze.prototype.update=function(){var a=this.B*this.F*this.hg;this.l.gain.setValueAtTime(this.B*this.D*this.gg,this.U.currentTime);this.o.gain.setValueAtTime(a,this.U.currentTime)};function bf(a,b,c,d){this.U=a;this.o=this.l=!0;this.D=this.C=this.j=this.g=1;this.B=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.B);this.B.connect(this.h,0);this.h.connect(c);this.B.connect(this.i,1);this.i.connect(d)}
bf.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.U.currentTime);this.i.gain.setValueAtTime(a,this.U.currentTime)};bf.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};bf.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
bf.prototype.ef=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.C=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function $e(a,b,c){this.Ld=b.createOscillator();this.Ld.type="square";this.Ld.frequency.setValueAtTime(440,b.currentTime);this.g=af(c,this.Ld,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var d=c.sources.get(1);void 0===d||d.connect(void 0)},this);a.register("pcspeaker-disable",function(){var d=c.sources.get(1);void 0===d||d.disconnect(void 0)},this);a.register("pcspeaker-update",function(d){var e=d[1],h=0;3===d[0]&&(h=Math.min(1193181.6665999999/e,this.Ld.frequency.maxValue),h=
Math.max(h,0));this.Ld.frequency.setValueAtTime(h,b.currentTime)},this)}$e.prototype.start=function(){this.Ld.start()};
function Xe(a,b,c){this.A=a;this.U=b;this.enabled=!1;this.Za=48E3;b=function(){function e(f){if(0===f)return 1;f*=Math.PI;return Math.sin(f)/f}function h(){var f=Reflect.construct(AudioWorkletProcessor,[],h);f.D=3;f.l=Array(1024);f.B=0;f.I=0;f.o=0;f.F=f.l.length;f.C=0;f.K=g;f.g=g;f.N=1;f.j=0;f.i=0;f.h=0;f.port.onmessage=k=>{switch(k.data.type){case "queue":f.$(k.data.value);break;case "sampling-rate":f.N=k.data.value/sampleRate}};return f}var g=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(h.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(h,AudioWorkletProcessor);h.prototype.process=h.prototype.process=function(f,k){for(f=0;f<k[0][0].length;f++){for(var m=0,n=0,p=this.h+this.D,u=this.h-this.D+1;u<=p;u++){var q=this.j+u;m+=this.O(q,0)*this.R(this.i-u);n+=this.O(q,1)*this.R(this.i-u)}if(isNaN(m)||isNaN(n))m=n=0;k[0][0][f]=m;k[0][1][f]=n;this.i+=this.N;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.V(k);return!0};h.prototype.R=function(f){return e(f)*
e(f/this.D)};h.prototype.O=function(f,k){return 0>f?(f+=this.K[0].length,this.K[k][f]):this.g[k][f]};h.prototype.V=function(f){var k=this.g[0].length;k-this.j<f&&(this.X(),this.j-=k)};h.prototype.X=function(){this.K=this.g;this.g=this.T();var f=this.g[0].length;if(256>f){for(var k=this.B,m=0;256>f&&m<this.o;)f+=this.l[k][0].length,k=k+1&this.F-1,m++;f=Math.max(f,256);f=[new Float32Array(f),new Float32Array(f)];f[0].set(this.g[0]);f[1].set(this.g[1]);k=this.g[0].length;for(var n=0;n<m;n++){var p=this.T();
f[0].set(p[0],k);f[1].set(p[1],k);k+=p[0].length}this.g=f}this.qc()};h.prototype.qc=function(){1024>this.C/this.N&&this.port.postMessage({type:"pump"})};h.prototype.$=function(f){this.o<this.F&&(this.l[this.I]=f,this.I=this.I+1&this.F-1,this.o++,this.C+=f[0].length,this.qc())};h.prototype.T=function(){if(!this.o)return g;var f=this.l[this.B];this.l[this.B]=null;this.B=this.B+1&this.F-1;this.o--;this.C-=f[0].length;return f};registerProcessor("dac-processor",h)}.toString();var d=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Hc=null;this.g=this.U.createGain();this.U.audioWorklet.addModule(d).then(()=>{URL.revokeObjectURL(d);this.Hc=new AudioWorkletNode(this.U,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Hc.port.postMessage({type:"sampling-rate",value:this.Za});this.Hc.port.onmessage=e=>{switch(e.data.type){case "pump":this.qc()}};this.Hc.connect(this.g)});this.h=af(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(e){this.Bf(e)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.Za=e;this.Hc&&this.Hc.port.postMessage({type:"sampling-rate",value:e})},this)}Xe.prototype.Bf=function(a){this.Hc&&this.Hc.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};Xe.prototype.qc=function(){this.enabled&&this.A.send("dac-request-data")};
function Ye(a,b,c){this.A=a;this.U=b;this.enabled=!1;this.Za=22050;this.g=0;this.pe=1;this.We=this.U.createBiquadFilter();this.We.type="lowpass";this.i=this.We;this.h=af(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(d){this.Bf(d)},this);a.register("dac-enable",function(){this.enabled=!0;this.qc()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.Za=d;this.pe=Math.ceil(8E3/d);this.We.frequency.setValueAtTime(d/2,this.U.currentTime)},
this)}
Ye.prototype.Bf=function(a){var b=a[0].length,c=b/this.Za;if(1<this.pe){var d=this.U.createBuffer(2,b*this.pe,this.Za*this.pe);for(var e=d.getChannelData(0),h=d.getChannelData(1),g=0,f=0;f<b;f++)for(var k=0;k<this.pe;k++,g++)e[g]=a[0][f],h[g]=a[1][f]}else d=this.U.createBuffer(2,b,this.Za),d.copyToChannel?(d.copyToChannel(a[0],0),d.copyToChannel(a[1],1)):(d.getChannelData(0).set(a[0]),d.getChannelData(1).set(a[1]));a=this.U.createBufferSource();a.buffer=d;a.connect(this.We);a.addEventListener("ended",this.qc.bind(this));
d=this.U.currentTime;if(this.g<d)for(this.g=d,d=.2-c,b=0;b<=d;)b+=c,this.g+=c,setTimeout(()=>this.qc(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.qc(),0)};Ye.prototype.qc=function(){this.enabled&&(.2<this.g-this.U.currentTime||this.A.send("dac-request-data"))};function cf(a,b){function c(f){g.A&&g.enabled&&(g.h(f.which),f.preventDefault())}function d(f){var k=f.which;8===k?(g.h(127),f.preventDefault()):9===k&&(g.h(9),f.preventDefault())}function e(f){if(g.enabled){for(var k=f.clipboardData.getData("text/plain"),m=0;m<k.length;m++)g.h(k.charCodeAt(m));f.preventDefault()}}function h(f){f.target!==a&&a.blur()}var g=this;this.enabled=!0;this.A=b;this.text="";this.j=!1;this.i=0;this.A.register("serial0-output-char",function(f){this.vj(f)},this);this.za=function(){a.removeEventListener("keypress",
c,!1);a.removeEventListener("keydown",d,!1);a.removeEventListener("paste",e,!1);window.removeEventListener("mousedown",h,!1)};this.kb=function(){this.za();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",d,!1);a.addEventListener("paste",e,!1);window.addEventListener("mousedown",h,!1)};this.kb();this.vj=function(f){"\b"===f?(this.text=this.text.slice(0,-1),this.update()):"\r"!==f&&(this.text+=f,"\n"===f&&(this.j=!0),this.update())};this.update=function(){var f=
Date.now(),k=f-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=f,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(f){g.A&&g.A.send("serial0-input",f)}}
function df(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal;c.setOption("logLevel","off");c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");c.onData(function(d){for(let e=0;e<d.length;e++)b.send("serial0-input",d.charCodeAt(e))});b.register("serial0-output-char",function(d){c.write(d)},this)}}df.prototype.show=function(){this.g&&this.g.open(this.element)};function ef(a,b){this.A=b;this.g=void 0;this.h=[];this.url=a;this.i=Date.now()-1E4;this.A.register("net0-send",function(c){this.send(c)},this)}l=ef.prototype;l.Bh=function(a){this.A&&this.A.send("net0-receive",new Uint8Array(a.data))};l.zh=function(){this.connect();setTimeout(this.connect.bind(this),1E4)};l.Ch=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};l.Ah=function(){};l.za=function(){this.g&&this.g.close()};
l.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}this.i+1E4>Date.now()||(this.i=Date.now(),this.g=new WebSocket(this.url),this.g.binaryType="arraybuffer",this.g.onopen=this.Ch.bind(this),this.g.onmessage=this.Bh.bind(this),this.g.onclose=this.zh.bind(this),this.g.onerror=this.Ah.bind(this))}};l.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};(function(){function a(f,k,m){function n(){const x=m||0;setTimeout(()=>{a(f,k,x+1)},1E3*([1,1,2,3,5,8,13,21][x]||34))}var p=new XMLHttpRequest;p.open(k.method||"get",f,!0);p.responseType=k.Ed?"json":"arraybuffer";if(k.headers)for(var u=Object.keys(k.headers),q=0;q<u.length;q++){var t=u[q];p.setRequestHeader(t,k.headers[t])}k.Nd&&(u=k.Nd.start,p.setRequestHeader("Range","bytes="+u+"-"+(u+k.Nd.length-1)),p.onreadystatechange=function(){200===p.status&&p.abort()});p.onload=function(){4===p.readyState&&
(200!==p.status&&206!==p.status?(console.error("Loading the image "+f+" failed (status %d)",p.status),500<=p.status&&600>p.status&&n()):p.response&&k.done&&k.done(p.response,p))};p.onerror=function(x){console.error("Loading the image "+f+" failed",x);n()};k.progress&&(p.onprogress=function(x){k.progress(x)});p.send(null)}function b(f,k){let m=require("fs");k.Nd?m.open(f,"r",(n,p)=>{if(n)throw n;n=k.Nd.length;var u=Buffer.allocUnsafe(n);m.read(p,u,0,n,k.Nd.start,q=>{if(q)throw q;k.done&&k.done(new Uint8Array(u));
m.close(p,t=>{if(t)throw t;})})}):m.readFile(f,{encoding:k.Ed?"utf-8":null},function(n,p){n?console.log("Could not read file:",f,n):(n=p,k.Ed?n=JSON.parse(n):n=(new Uint8Array(n)).buffer,k.done(n))})}function c(f,k){this.filename=f;this.g=256;this.byteLength=k;this.h=Object.create(null);this.onload=void 0}function d(f,k,m){const n=f.match(/(.*)(\..*)/);n?(this.i=n[1],this.j=n[2]):(this.i=f,this.j="");this.g=256;this.byteLength=k;this.B="number"===typeof m;this.cd=m;this.h=Object.create(null);this.onload=
void 0}function e(f){this.g=f;this.byteLength=f.size;1073741824<f.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(f.size>>20)+" MB ...");this.buffer=new ArrayBuffer(f.size);this.onload=void 0}function h(f){this.i=f;this.byteLength=f.size;this.g=256;this.h=Object.create(null);this.onload=void 0}"undefined"===typeof XMLHttpRequest?rb=b:rb=a;sb=c;tb=d;ub=h;bb=e;vb=function(f,k,m){return String.fromCharCode(...(new Uint8Array(f.buffer,k>>>0,m>>>0)))};var g="undefined"===typeof XMLHttpRequest?
function(f,k){require("fs").stat(f,(m,n)=>{m?k(m):k(null,n.size)})}:function(f,k){rb(f,{done:(m,n)=>{m=n.getResponseHeader("Content-Range")||"";(n=m.match(/\/(\d+)\s*$/))?k(null,+n[1]):k("`Range: bytes=...` header not supported (Got `"+m+"`)")},headers:{Range:"bytes=0-0"}})};c.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):g(this.filename,(f,k)=>{if(f)throw Error("Cannot use: "+this.filename+". "+f);this.byteLength=k;this.onload&&this.onload(Object.create(null))})};
c.prototype.i=function(f,k){var m=k/this.g;f/=this.g;for(var n=0;n<m;n++)if(!this.h[f+n])return;if(1===m)return this.h[f];k=new Uint8Array(k);for(n=0;n<m;n++)k.set(this.h[f+n],n*this.g);return k};c.prototype.get=function(f,k,m){console.assert(f+k<=this.byteLength);console.assert(0===f%this.g);console.assert(0===k%this.g);console.assert(k);var n=this.i(f,k,m);n?m(n):rb(this.filename,{done:function(p){p=new Uint8Array(p);this.j(f,k,p);m(p)}.bind(this),Nd:{start:f,length:k}})};c.prototype.set=function(f,
k,m){console.assert(f+k.byteLength<=this.byteLength);var n=k.length;console.assert(0===f%this.g);console.assert(0===n%this.g);console.assert(n);f/=this.g;n/=this.g;for(var p=0;p<n;p++){var u=this.h[f+p];void 0===u&&(u=this.h[f+p]=new Uint8Array(this.g));var q=k.subarray(p*this.g,(p+1)*this.g);u.set(q);console.assert(u.byteLength===q.length)}m()};c.prototype.j=function(f,k,m){f/=this.g;k/=this.g;for(var n=0;n<k;n++){var p=this.h[f+n];p&&m.set(p,n*this.g)}};c.prototype.Jb=function(f){f()};c.prototype.Z=
function(){const f=[],k=[];for(let [m,n]of Object.entries(this.h))k.push([+m,n]);f[0]=k;return f};c.prototype.G=function(f){f=f[0];this.h=Object.create(null);for(let [k,m]of Object.values(f))this.h[k]=m};d.prototype.load=function(){this.onload&&this.onload(Object.create(null))};d.prototype.o=c.prototype.i;d.prototype.get=function(f,k,m){console.assert(f+k<=this.byteLength);console.assert(0===f%this.g);console.assert(0===k%this.g);console.assert(k);var n=this.o(f,k,m);if(n)m(n);else if(this.B){n=Math.floor(f/
this.cd);const p=f-n*this.cd,u=Math.floor(k/this.cd)+(0===p?1:2),q=new Uint8Array(p+u*this.cd);let t=0;for(let x=0;x<u;x++)rb(this.i+"-"+(n+x+"").padStart(8,"0")+this.j,{done:function(y){var C=x*this.cd;y=new Uint8Array(y);q.set(y,C);t++;t===u&&(C=q.subarray(p,p+k),this.l(f,k,C),m(C))}.bind(this)})}else rb(this.i+"-"+f+"-"+(f+k)+this.j,{done:function(p){p=new Uint8Array(p);this.l(f,k,p);m(p)}.bind(this)})};d.prototype.set=c.prototype.set;d.prototype.l=c.prototype.j;d.prototype.Z=c.prototype.Z;d.prototype.G=
c.prototype.G;e.prototype.load=function(){this.h(0)};e.prototype.h=function(f){var k=new FileReader;k.onload=function(m){m=new Uint8Array(m.target.result);(new Uint8Array(this.buffer,f)).set(m);this.h(f+4194304)}.bind(this);f<this.byteLength?k.readAsArrayBuffer(this.g.slice(f,Math.min(f+4194304,this.byteLength))):(this.g=void 0,this.onload&&this.onload({buffer:this.buffer}))};e.prototype.get=function(f,k,m){console.assert(f+k<=this.byteLength);m(new Uint8Array(this.buffer,f,k))};e.prototype.set=function(f,
k,m){console.assert(f+k.byteLength<=this.byteLength);(new Uint8Array(this.buffer,f,k.byteLength)).set(k);m()};e.prototype.Jb=function(f){f(this.buffer)};e.prototype.Z=function(){const f=[];f[0]=this.byteLength;f[1]=new Uint8Array(this.buffer);return f};e.prototype.G=function(f){this.byteLength=f[0];this.buffer=f[1].slice().buffer};h.prototype.load=function(){this.onload&&this.onload(Object.create(null))};h.prototype.get=function(f,k,m){console.assert(0===f%this.g);console.assert(0===k%this.g);console.assert(k);
var n=this.j(f,k,m);n?m(n):(n=new FileReader,n.onload=function(p){p=new Uint8Array(p.target.result);this.l(f,k,p);m(p)}.bind(this),n.readAsArrayBuffer(this.i.slice(f,f+k)))};h.prototype.j=c.prototype.i;h.prototype.set=c.prototype.set;h.prototype.l=c.prototype.j;h.prototype.Z=c.prototype.Z;h.prototype.Jb=function(f){f()};h.prototype.ig=function(f){for(var k=[],m=Object.keys(this.h).map(Number).sort(function(t,x){return t-x}),n=0,p=0;p<m.length;p++){var u=m[p],q=this.h[u];u*=this.g;console.assert(u>=
n);u!==n&&(k.push(this.i.slice(n,u)),n=u);k.push(q);n+=q.length}n!==this.i.size&&k.push(this.i.slice(n));f=new File(k,f);console.assert(f.size===this.i.size);return f}})();function Ua(a){this.Xd=!1;var b=Yd();this.A=b[0];this.de=b[1];var c,d;const e=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:g=>this.cpu_exception_hook&&this.cpu_exception_hook(g),hlt_op:function(){var g=c;0===(g.C()&512)&&g.A.send("cpu-event-halt");g.i[0]=1;kb(g)},abort:function(){},microtick:lb,get_rand_int:function(){return xb()},pic_acknowledge:function(){ge(c)},io_port_read8:function(g){var f=c.u,k=f.ports[g];k.Ob===f.Ke&&H(g,4);f=k.Ob.call(k.oa);H(g);return f},
io_port_read16:function(g){var f=c.u,k=f.ports[g];k.Ba===f.Ie&&H(g,4);f=k.Ba.call(k.oa);H(g);return f},io_port_read32:function(g){var f=c.u,k=f.ports[g];k.Qc===f.Je&&H(g,4);return k.Qc.call(k.oa)},io_port_write8:function(g,f){var k=c.u,m=k.ports[g];m.Dd===k.ib&&(H(g,4),H(f,2));m.Dd.call(m.oa,f)},io_port_write16:function(g,f){var k=c.u,m=k.ports[g];m.Tc===k.ib&&(H(g,4),H(f,4));m.Tc.call(m.oa,f)},io_port_write32:function(g,f){var k=c.u,m=k.ports[g];m.zb===k.ib&&(H(g,4),H(f>>>0,8));m.zb.call(m.oa,f)},
mmap_read8:function(g){return c.l[g>>>17](g)},mmap_read16:function(g){var f=c.l[g>>>17];return f(g)|f(g+1|0)<<8},mmap_read32:function(g){return c.Ra[g>>>17](g)},mmap_write8:function(g,f){c.B[g>>>17](g,f)},mmap_write16:function(g,f){var k=c.B[g>>>17];k(g,f&255);k(g+1|0,f>>8)},mmap_write32:function(g,f){c.o[g>>>17](g,f)},mmap_write64:function(g,f,k){var m=c.o[g>>>17];m(g,f);m(g+4,k)},mmap_write128:function(g,f,k,m,n){var p=c.o[g>>>17];p(g,f);p(g+4,k);p(g+8,m);p(g+12,n)},log_from_wasm:function(g,f){vb(d,
g,f)},console_log_from_wasm:function(g,f){g=vb(d,g,f);console.error(g)},dbg_trace_from_wasm:function(){},codegen_finalize:(g,f,k,m,n)=>{fe(c,g,f,k,m,n)},jit_clear_func:g=>{c.va.Of.set(g+1024,null)},jit_clear_all_funcs:()=>{const g=c.va.Of;for(let f=0;900>f;f++)g.set(1024+f,null)},__indirect_function_table:e};let h=a.wasm_fn;h||(h=g=>new Promise(f=>{let k="v86.wasm",m="v86-fallback.wasm";if(a.wasm_path){k=a.wasm_path;const n=k.lastIndexOf("/");m=(-1===n?"":k.substr(0,n))+"/"+m}else"undefined"===typeof window&&
"string"===typeof __dirname?(k=__dirname+"/"+k,m=__dirname+"/"+m):(k="build/"+k,m="build/"+m);rb(k,{done:n=>{WebAssembly.instantiate(n,g).then(({instance:p})=>{f(p.exports)},()=>{rb(m,{done:p=>{WebAssembly.instantiate(p,g).then(({instance:u})=>{f(u.exports)})}})})},progress:n=>{this.de.send("download-progress",{he:0,ge:1,ie:k,lengthComputable:n.lengthComputable,total:n.total,loaded:n.loaded})}})}));h({env:b}).then(g=>{d=g.memory;g.rust_init();g=this.h=new gb(this.de,{exports:g,Of:e});c=g.s;ff(this,
g,a)})}
async function ff(a,b,c){function d(q,t){switch(q){case "hda":g.S=this.ec.hda=t;break;case "hdb":g.Oe=this.ec.hdb=t;break;case "cdrom":g.na=this.ec.cdrom=t;break;case "fda":g.pa=this.ec.fda=t;break;case "fdb":g.bg=this.ec.fdb=t;break;case "multiboot":g.Kd=this.ec.multiboot=t.buffer;break;case "bzimage":g.tb=this.ec.bzimage=t.buffer;break;case "initrd":g.Cc=this.ec.initrd=t.buffer;break;case "bios":g.Gd=t.buffer;break;case "vga_bios":g.Fj=t.buffer;break;case "initial_state":g.fd=t.buffer;break;case "fs9p_json":g.fg=
t}}function e(q,t){if(t)if(t.get&&t.set&&t.load)f.push({name:q,ld:t});else{t={buffer:t.buffer,async:t.async,url:t.url,size:t.size,cd:t.fixed_chunk_size,ka:t.ka};if("bios"===q||"vga_bios"===q||"initial_state"===q||"multiboot"===q||"bzimage"===q||"initrd"===q)t.async=!1;t.buffer instanceof ArrayBuffer?(t=new yb(t.buffer),f.push({name:q,ld:t})):"undefined"!==typeof File&&t.buffer instanceof File?(void 0===t.async&&(t.async=268435456<=t.buffer.size),t=t.async?new ub(t.buffer):new bb(t.buffer),f.push({name:q,
ld:t})):t.url&&(t.async?(t=t.ka?new tb(t.url,t.size,t.cd):new sb(t.url,t.size),f.push({name:q,ld:t})):f.push({name:q,url:t.url,size:t.size}))}}function h(){function q(){this.Sd&&this.Sd.show&&this.Sd.show();this.A.send("cpu-init",g);g.fd&&(b.Pd(g.fd),g.fd=void 0);c.autostart&&this.A.send("cpu-run");this.de.send("emulator-loaded")}if(g.Ib&&g.fg)if(g.fd||se(g.Ib,g.fg),c.bzimage_initrd_from_filesystem){const {tb:t,Cc:x}=gf(g.Ib);Promise.all([g.Ib.qe(x),g.Ib.qe(t)]).then(([y,C])=>{d.call(this,"initrd",
new yb(y.buffer));d.call(this,"bzimage",new yb(C.buffer));q.call(this)})}else q.call(this);else console.assert(!c.bzimage_initrd_from_filesystem,"bzimage_initrd_from_filesystem: Requires a filesystem"),q.call(this)}a.A.register("emulator-stopped",function(){this.Xd=!1},a);a.A.register("emulator-started",function(){this.Xd=!0},a);var g={};a.ec={fda:void 0,fdb:void 0,hda:void 0,hdb:void 0,cdrom:void 0};g.Ha=c.acpi;g.Ih=!0;g.jk=c.log_level;g.H=c.memory_size||67108864;g.ha=c.vga_memory_size||8388608;
g.Xc=c.boot_order||531;g.wh=c.fastboot||!1;g.pa=void 0;g.bg=void 0;g.ue=c.uart1;g.ve=c.uart2;g.we=c.uart3;g.Yc=c.cmdline;g.pc=c.preserve_mac_from_state_image;c.network_adapter?a.l=c.network_adapter(a.A):c.network_relay_url&&(a.l=new ef(c.network_relay_url,a.A));g.uh=!0;c.disable_keyboard||(a.j=new Ue(a.A));c.disable_mouse||(a.i=new Ve(a.A,c.screen_container));c.screen_container?a.g=new Sa(c.screen_container,a.A):c.screen_dummy&&(a.g=new hf(a.A));c.serial_container&&(a.Sd=new cf(c.serial_container,
a.A));c.serial_container_xtermjs&&(a.Sd=new df(c.serial_container_xtermjs,a.A));c.disable_speaker||(a.o=new We(a.A));var f=[];c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");for(var k="bios vga_bios cdrom hda hdb fda fdb initial_state multiboot bzimage initrd".split(" "),m=0;m<k.length;m++)e(k[m],c[k[m]]);if(c.filesystem){k=c.filesystem.basefs;m=c.filesystem.baseurl;let q=new jf;m&&(q=new kf(q,m));g.Ib=a.Ib=new qe(q);if(k){console.assert(m,"Filesystem: baseurl must be specified");
if("object"===typeof k){var n=k.size;k=k.url}f.push({name:"fs9p_json",url:k,size:n,Ed:!0})}}var p=f.length,u=function(q){if(q===p)setTimeout(h.bind(this),0);else{var t=f[q];t.ld?(t.ld.onload=function(){d.call(this,t.name,t.ld);u(q+1)}.bind(this),t.ld.load()):rb(t.url,{done:function(x){d.call(this,t.name,t.Ed?x:new yb(x));u(q+1)}.bind(this),progress:function(x){200===x.target.status?a.de.send("download-progress",{he:q,ge:p,ie:t.url,lengthComputable:x.lengthComputable,total:x.total||t.size,loaded:x.loaded}):
a.de.send("download-error",{he:q,ge:p,ie:t.url,request:x.target})},Ed:t.Ed})}}.bind(a);u(0)}
function gf(a){const b=(Re(a,"/")||[]).map(e=>"/"+e);a=(Re(a,"/boot/")||[]).map(e=>"/boot/"+e);let c,d;for(let e of[].concat(b,a)){const h=/old/i.test(e)||/fallback/i.test(e),g=/initrd/i.test(e)||/initramfs/i.test(e);!/vmlinuz/i.test(e)&&!/bzimage/i.test(e)||d&&h||(d=e);!g||c&&h||(c=e)}c&&d||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{Cc:c,tb:d}}l=Ua.prototype;l.cf=function(){this.A.send("cpu-run")};l.stop=function(){this.A.send("cpu-stop")};
l.za=function(){this.stop();this.h.za();this.j&&this.j.za();this.l&&this.l.za();this.i&&this.i.za();this.g&&this.g.za();this.Sd&&this.Sd.za()};l.Cf=function(){this.A.send("cpu-restart")};function Va(a,b,c){a.A.register(b,c,a)}l.Pd=function(a){this.h.Pd(a)};l.re=function(a){setTimeout(function(){try{a(null,this.h.re())}catch(b){a(b,null)}}.bind(this),0)};function Xa(a,b){for(var c=0;c<b.length;c++)a.A.send("keyboard-code",b[c])}function Ta(a,b){for(var c=0;c<b.length;c++)a.j.wj(b[c])}
function ab(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}function cb(a,b,c){var d=d||function(){};if(a=a.Ib){var e=b.split("/");e=e[e.length-1];b=Me(a,b).xf;""!==e&&-1!==b?Ce(a,e,b,c).then(()=>d(null)):setTimeout(function(){d(new lf)},0)}}l.qe=function(a,b){var c=this.Ib;c&&c.qe(a).then(d=>{d?b(null,d):b(new lf,null)})};function lf(){this.message="File not found"}lf.prototype=Error.prototype;
"undefined"!==typeof window?(window.V86Starter=Ua,window.V86=Ua):"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports.V86Starter=Ua,module.exports.V86=Ua):"function"===typeof importScripts&&(self.V86Starter=Ua,self.V86=Ua);function hf(a){var b,c,d,e,h;this.A=a;a.register("screen-set-mode",function(g){this.Gf(g)},this);a.register("screen-fill-buffer-end",function(g){this.Mf(g[0])},this);a.register("screen-put-char",function(g){this.Af(g[0],g[1],g[2],g[3],g[4])},this);a.register("screen-text-scroll",function(g){console.log("scroll",g)},this);a.register("screen-update-cursor",function(g){this.Ad(g[0],g[1])},this);a.register("screen-update-cursor-scanline",function(g){this.Bd(g[0],g[1])},this);a.register("screen-set-size-text",
function(g){this.vd(g[0],g[1])},this);a.register("screen-set-size-graphical",function(g){this.ud(g[0],g[1])},this);this.Af=function(g,f,k,m,n){g<h&&f<e&&(g=3*(g*e+f),d[g]=k,d[g+1]=m,d[g+2]=n)};this.za=function(){};this.Gf=function(){};this.Uf=function(){};this.vd=function(g,f){if(g!==e||f!==h)d=new Int32Array(g*f*3),e=g,h=f};this.ud=function(){};this.Hf=function(){};this.Bd=function(){};this.Ad=function(g,f){if(g!==b||f!==c)b=g,c=f};this.Mf=function(){}};const Wa={yj:function(a){return Wa.oj(a)+Wa.nj(a)},oj:function(a){let b="";var c="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_SUCCESS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE_SUCCESS COMPILE_PAGE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE JIT_CACHE_OVERRIDE JIT_CACHE_OVERRIDE_DIFFERENT_STATE_FLAGS RUN_INTERPRETED RUN_INTERPRETED_PENDING RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_MISSED_COMPILED_ENTRY_LOOKUP RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS DO_RUN DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED".split(" "),
d=0;const e={};for(let g=0;g<c.length;g++){const f=c[g];var h=void 0;if(f.includes("/")){d++;const [k,m]=f.split("/");h=e[k]/e[m]}else h=e[f]=a.va.exports.profiler_stat_get(g-d),h=1E8<=h?Math.round(h/1E6)+"m":1E5<=h?Math.round(h/1E3)+"k":h;b+=f+"="+h+"\n"}b+="\n";c=a.va.exports.get_valid_tlb_entries_count();d=a.va.exports.get_valid_global_tlb_entries_count();b=b+("TLB_ENTRIES="+c+" ("+d+" global, "+(c-d)+" non-global)\nWASM_TABLE_FREE=")+(a.va.exports.jit_get_wasm_table_index_free_list_count()+"\n");
b+="JIT_CACHE_SIZE="+a.va.exports.jit_get_cache_size()+"\n";b+="FLAT_SEGMENTS="+a.va.exports.has_flat_segmentation()+"\n";b+="do_many_cycles avg: "+(a.Vj/a.Uj||0)+"\n";b+="wasm memory size: "+(a.Qa.buffer.byteLength>>20)+"m\n";b=b+"Config:\nMAX_PAGES="+(a.va.exports.get_config(0)+"\n");b+="JIT_USE_LOOP_SAFETY="+a.va.exports.get_config(1)+"\n";return b+="MAX_EXTRA_BASIC_BLOCKS="+a.va.exports.get_config(2)+"\n"},nj:function(a){return[Wa.oe(a,!1,!1,!1,!1),Wa.oe(a,!0,!1,!1,!1),Wa.oe(a,!1,!0,!1,!1),Wa.oe(a,
!1,!1,!0,!1),Wa.oe(a,!1,!1,!1,!0)].join("\n\n")},oe:function(a,b,c,d,e){let h="";var g=[],f=b?"compiled":c?"jit exit":d?"unguarded register":e?"wasm size":"executed";for(let n=0;256>n;n++)for(let p=0;8>p;p++)for(let u of[!1,!0]){var k=a.va.exports.get_opstats_buffer(b,c,d,e,n,!1,u,p);g.push({Xe:n,count:k,lg:u,dg:p});k=a.va.exports.get_opstats_buffer(b,c,d,e,n,!0,u,p);g.push({Xe:3840|n,count:k,lg:u,dg:p})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(let {count:n,Xe:p}of g)b.has(p)||
(a+=n);if(0===a)return"";c=new Uint32Array(256);b=new Uint32Array(256);for(let {Xe:n,count:p}of g)3840==(n&65280)?b[n&255]+=p:c[n&255]+=p;h=h+"------------------\nTotal: "+(a+"\n");const m=1E7<a?1E3:1;d=Math.max.apply(Math,g.map(({count:n})=>Math.round(n/m)));d=String(d).length;h+=`Instruction counts ${f} (in ${m}):\n`;for(e=0;256>e;e++)h+=H(e,2).slice(2)+":"+wb(Math.round(c[e]/m),d),h=15==e%16?h+"\n":h+" ";h=h+"\n"+`Instruction counts ${f} (0f, in ${m}):\n`;for(f=0;256>f;f++)h+=H(f&255,2).slice(2)+
":"+wb(Math.round(b[f]/m),d),h=15==f%16?h+"\n":h+" ";h+="\n";g=g.filter(({count:n})=>n).sort(({count:n},{count:p})=>p-n);for(let {Xe:n,lg:p,dg:u,count:q}of g.slice(0,200))g=n.toString(16)+"_"+u+(p?"_m":"_r"),h+=g+":"+(q/a*100).toFixed(2)+" ";return h+"\n"}};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.print_stats=Wa);function jf(){this.h=new Map}jf.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};jf.prototype.cache=async function(a,b){this.h.set(a,b)};jf.prototype.g=function(a){this.h.delete(a)};function kf(a,b){this.h=a;this.i=b}function mf(a,b){return new Promise(c=>{rb(a.i+b,{done:d=>{const e=new Uint8Array(d);a.cache(b,e).then(()=>c(e))}})})}kf.prototype.read=async function(a,b,c){const d=await this.h.read(a,b,c);return d?d:(await mf(this,a)).subarray(b,b+c)};
kf.prototype.cache=async function(a,b){return await this.h.cache(a,b)};kf.prototype.g=function(a){this.h.g(a)};"undefined"!==typeof window?(window.MemoryFileStorage=jf,window.ServerFileStorageWrapper=kf):"undefined"!==typeof module&&"undefined"!==typeof module.exports?(module.exports.MemoryFileStorage=jf,module.exports.ServerFileStorageWrapper=kf):"function"===typeof importScripts&&(self.MemoryFileStorage=jf,self.ServerFileStorageWrapper=kf);
